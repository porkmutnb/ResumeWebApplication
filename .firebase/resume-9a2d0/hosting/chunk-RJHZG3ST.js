var mM=Object.defineProperty,vM=Object.defineProperties;var yM=Object.getOwnPropertyDescriptors;var fc=Object.getOwnPropertySymbols,_M=Object.getPrototypeOf,DE=Object.prototype.hasOwnProperty,TE=Object.prototype.propertyIsEnumerable,EM=Reflect.get;var CE=(e,t,n)=>t in e?mM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||={})DE.call(t,n)&&CE(e,n,t[n]);if(fc)for(var n of fc(t))TE.call(t,n)&&CE(e,n,t[n]);return e},z=(e,t)=>vM(e,yM(t));var bE=(e,t)=>{var n={};for(var r in e)DE.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&fc)for(var r of fc(e))t.indexOf(r)<0&&TE.call(e,r)&&(n[r]=e[r]);return n};var Ar=(e,t,n)=>EM(_M(e),n,t);var p=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var Of;function hc(){return Of}function Wt(e){let t=Of;return Of=e,t}var SE=Symbol("NotFound");function Oi(e){return e===SE||e?.name==="\u0275NotFound"}function yc(e,t){return Object.is(e,t)}var Ne=null,pc=!1,kf=1,IM=null,Me=Symbol("SIGNAL");function P(e){let t=Ne;return Ne=e,t}function _c(){return Ne}var ki={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pi(e){if(pc)throw new Error("");if(Ne===null)return;Ne.consumerOnSignalRead(e);let t=Ne.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ne.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ne.producers,n!==void 0&&n.producer===e)){Ne.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Ne&&(!r||CM(i,Ne)))return;let o=Li(Ne),s={producer:e,consumer:Ne,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Ne.producersTail=s,t!==void 0?t.nextProducer=s:Ne.producers=s,o&&RE(e,s)}function AE(){kf++}function Ec(e){if(!(Li(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===kf)){if(!e.producerMustRecompute(e)&&!ss(e)){vc(e);return}e.producerRecomputeValue(e),vc(e)}}function Pf(e){if(e.consumers===void 0)return;let t=pc;pc=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||wM(r)}}finally{pc=t}}function xf(){return Ne?.consumerAllowSignalWrites!==!1}function wM(e){e.dirty=!0,Pf(e),e.consumerMarkedDirty?.(e)}function vc(e){e.dirty=!1,e.lastCleanEpoch=kf}function xi(e){return e&&(e.producersTail=void 0,e.recomputing=!0),P(e)}function os(e,t){if(P(t),!e)return;e.recomputing=!1;let n=e.producersTail,r=n!==void 0?n.nextProducer:e.producers;if(r!==void 0){if(Li(e))do r=Lf(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function ss(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Ec(n),r!==n.version))return!0}return!1}function as(e){if(Li(e)){let t=e.producers;for(;t!==void 0;)t=Lf(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function RE(e,t){let n=e.consumersTail,r=Li(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)RE(i.producer,i)}function Lf(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!Li(t)){let o=t.producers;for(;o!==void 0;)o=Lf(o)}return n}function Li(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Ic(e){IM?.(e)}function CM(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function wc(e,t){let n=Object.create(DM);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Ec(n),Pi(n),n.value===is)throw n.error;return n.value};return r[Me]=n,Ic(n),r}var gc=Symbol("UNSET"),mc=Symbol("COMPUTING"),is=Symbol("ERRORED"),DM=z(_({},ki),{value:gc,dirty:!0,error:null,equal:yc,kind:"computed",producerMustRecompute(e){return e.value===gc||e.value===mc},producerRecomputeValue(e){if(e.value===mc)throw new Error("");let t=e.value;e.value=mc;let n=xi(e),r,i=!1;try{r=e.computation(),P(null),i=t!==gc&&t!==is&&r!==is&&e.equal(t,r)}catch(o){r=is,e.error=o}finally{os(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function TM(){throw new Error}var NE=TM;function ME(e){NE(e)}function Ff(e){NE=e}var bM=null;function jf(e,t){let n=Object.create(Cc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>OE(n);return r[Me]=n,Ic(n),[r,s=>Fi(n,s),s=>Uf(n,s)]}function OE(e){return Pi(e),e.value}function Fi(e,t){xf()||ME(e),e.equal(e.value,t)||(e.value=t,SM(e))}function Uf(e,t){xf()||ME(e),Fi(e,t(e.value))}var Cc=z(_({},ki),{equal:yc,value:void 0,kind:"signal"});function SM(e){e.version++,AE(),Pf(e),bM?.(e)}function M(e){return typeof e=="function"}function ji(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dc=ji(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Rr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var oe=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(M(r))try{r()}catch(o){t=o instanceof Dc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{kE(o)}catch(s){t=t??[],s instanceof Dc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Dc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)kE(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Rr(n,t)}remove(t){let{_finalizers:n}=this;n&&Rr(n,t),t instanceof e&&t._removeParent(this)}};oe.EMPTY=(()=>{let e=new oe;return e.closed=!0,e})();var Vf=oe.EMPTY;function Tc(e){return e instanceof oe||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function kE(e){M(e)?e():e.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ui={setTimeout(e,t,...n){let{delegate:r}=Ui;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Ui;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function bc(e){Ui.setTimeout(()=>{let{onUnhandledError:t}=_t;if(t)t(e);else throw e})}function cs(){}var PE=Bf("C",void 0,void 0);function xE(e){return Bf("E",void 0,e)}function LE(e){return Bf("N",e,void 0)}function Bf(e,t,n){return{kind:e,value:t,error:n}}var Nr=null;function Vi(e){if(_t.useDeprecatedSynchronousErrorHandling){let t=!Nr;if(t&&(Nr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Nr;if(Nr=null,n)throw r}}else e()}function FE(e){_t.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=e)}var Mr=class extends oe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Tc(t)&&t.add(this)):this.destination=NM}static create(t,n,r){return new Bi(t,n,r)}next(t){this.isStopped?$f(LE(t),this):this._next(t)}error(t){this.isStopped?$f(xE(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$f(PE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},AM=Function.prototype.bind;function Hf(e,t){return AM.call(e,t)}var Wf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Sc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Sc(r)}else Sc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Sc(n)}}},Bi=class extends Mr{constructor(t,n,r){super();let i;if(M(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Hf(t.next,o),error:t.error&&Hf(t.error,o),complete:t.complete&&Hf(t.complete,o)}):i=t}this.destination=new Wf(i)}};function Sc(e){_t.useDeprecatedSynchronousErrorHandling?FE(e):bc(e)}function RM(e){throw e}function $f(e,t){let{onStoppedNotification:n}=_t;n&&Ui.setTimeout(()=>n(e,t))}var NM={closed:!0,next:cs,error:RM,complete:cs};var Hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Je(e){return e}function zf(...e){return Gf(e)}function Gf(e){return e.length===0?Je:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var L=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=OM(n)?n:new Bi(n,r,i);return Vi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=jE(r),new r((i,o)=>{let s=new Bi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Hi](){return this}pipe(...n){return Gf(n)(this)}toPromise(n){return n=jE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function jE(e){var t;return(t=e??_t.Promise)!==null&&t!==void 0?t:Promise}function MM(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function OM(e){return e&&e instanceof Mr||MM(e)&&Tc(e)}function qf(e){return M(e?.lift)}function $(e){return t=>{if(qf(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(e,t,n,r,i){return new Kf(e,t,n,r,i)}var Kf=class extends Mr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function $i(){return $((e,t)=>{let n=null;e._refCount++;let r=B(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Wi=class extends L{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new oe;let n=this.getSubject();t.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=oe.EMPTY)}return t}refCount(){return $i()(this)}};var UE=ji(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=(()=>{class e extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ac(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new UE}next(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Vf:(this.currentObservers=null,o.push(n),new oe(()=>{this.currentObservers=null,Rr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new L;return n.source=this,n}}return e.create=(t,n)=>new Ac(t,n),e})(),Ac=class extends ge{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Vf}};var Ce=class extends ge{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Yf={now(){return(Yf.delegate||Date).now()},delegate:void 0};var Rc=class extends oe{constructor(t,n){super()}schedule(t,n=0){return this}};var ls={setInterval(e,t,...n){let{delegate:r}=ls;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ls;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var zi=class extends Rc{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return ls.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ls.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Gi=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Gi.now=Yf.now;var qi=class extends Gi{constructor(t,n=Gi.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Zf=new qi(zi);var Nc=class extends zi{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Mc=class extends qi{};var Qf=new Mc(Nc);var ze=new L(e=>e.complete());function VE(e){return e&&M(e.schedule)}function BE(e){return e[e.length-1]}function Oc(e){return M(BE(e))?e.pop():void 0}function Bn(e){return VE(BE(e))?e.pop():void 0}function Jf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function $E(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function HE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Or(e){return this instanceof Or?(this.v=e,this):new Or(e)}function WE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(g){return Promise.resolve(g).then(h,d)}}function a(h,g){r[h]&&(i[h]=function(v){return new Promise(function(w,A){o.push([h,v,w,A])>1||c(h,v)})},g&&(i[h]=g(i[h])))}function c(h,g){try{l(r[h](g))}catch(v){f(o[0][3],v)}}function l(h){h.value instanceof Or?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,g){h(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function zE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof HE=="function"?HE(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var kc=e=>e&&typeof e.length=="number"&&typeof e!="function";function Pc(e){return M(e?.then)}function xc(e){return M(e[Hi])}function Lc(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function Fc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jc=kM();function Uc(e){return M(e?.[jc])}function Vc(e){return WE(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Or(n.read());if(i)return yield Or(void 0);yield yield Or(r)}}finally{n.releaseLock()}})}function Bc(e){return M(e?.getReader)}function he(e){if(e instanceof L)return e;if(e!=null){if(xc(e))return PM(e);if(kc(e))return xM(e);if(Pc(e))return LM(e);if(Lc(e))return GE(e);if(Uc(e))return FM(e);if(Bc(e))return jM(e)}throw Fc(e)}function PM(e){return new L(t=>{let n=e[Hi]();if(M(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xM(e){return new L(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function LM(e){return new L(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,bc)})}function FM(e){return new L(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function GE(e){return new L(t=>{UM(e,t).catch(n=>t.error(n))})}function jM(e){return GE(Vc(e))}function UM(e,t){var n,r,i,o;return $E(this,void 0,void 0,function*(){try{for(n=zE(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ge(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Hn(e,t=0){return $((n,r)=>{n.subscribe(B(r,i=>Ge(r,e,()=>r.next(i),t),()=>Ge(r,e,()=>r.complete(),t),i=>Ge(r,e,()=>r.error(i),t)))})}function $n(e,t=0){return $((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function qE(e,t){return he(e).pipe($n(t),Hn(t))}function KE(e,t){return he(e).pipe($n(t),Hn(t))}function YE(e,t){return new L(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ZE(e,t){return new L(n=>{let r;return Ge(n,t,()=>{r=e[jc](),Ge(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>M(r?.return)&&r.return()})}function Hc(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(n=>{Ge(n,t,()=>{let r=e[Symbol.asyncIterator]();Ge(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function QE(e,t){return Hc(Vc(e),t)}function JE(e,t){if(e!=null){if(xc(e))return qE(e,t);if(kc(e))return YE(e,t);if(Pc(e))return KE(e,t);if(Lc(e))return Hc(e,t);if(Uc(e))return ZE(e,t);if(Bc(e))return QE(e,t)}throw Fc(e)}function te(e,t){return t?JE(e,t):he(e)}function T(...e){let t=Bn(e);return te(e,t)}function Ki(e,t){let n=M(e)?e:()=>e,r=i=>i.error(n());return new L(t?i=>t.schedule(r,0,i):r)}function Xf(e){return!!e&&(e instanceof L||M(e.lift)&&M(e.subscribe))}var vn=ji(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function H(e,t){return $((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:VM}=Array;function BM(e,t){return VM(t)?e(...t):e(t)}function $c(e){return H(t=>BM(e,t))}var{isArray:HM}=Array,{getPrototypeOf:$M,prototype:WM,keys:zM}=Object;function Wc(e){if(e.length===1){let t=e[0];if(HM(t))return{args:t,keys:null};if(GM(t)){let n=zM(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function GM(e){return e&&typeof e=="object"&&$M(e)===WM}function zc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function us(...e){let t=Bn(e),n=Oc(e),{args:r,keys:i}=Wc(e);if(r.length===0)return te([],t);let o=new L(qM(r,t,i?s=>zc(i,s):Je));return n?o.pipe($c(n)):o}function qM(e,t,n=Je){return r=>{XE(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)XE(t,()=>{let l=te(e[c],t),u=!1;l.subscribe(B(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function XE(e,t,n){e?Ge(n,e,t):t()}function eI(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=v=>l<r?g(v):c.push(v),g=v=>{o&&t.next(v),l++;let w=!1;he(n(v,u++)).subscribe(B(t,A=>{i?.(A),o?h(A):t.next(A)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let A=c.shift();s?Ge(t,s,()=>g(A)):g(A)}f()}catch(A){t.error(A)}}))};return e.subscribe(B(t,h,()=>{d=!0,f()})),()=>{a?.()}}function ue(e,t,n=1/0){return M(t)?ue((r,i)=>H((o,s)=>t(r,o,i,s))(he(e(r,i))),n):(typeof t=="number"&&(n=t),$((r,i)=>eI(r,i,e,n)))}function Wn(e=1/0){return ue(Je,e)}function tI(){return Wn(1)}function Yi(...e){return tI()(te(e,Bn(e)))}function ds(e){return new L(t=>{he(e()).subscribe(t)})}function KM(...e){let t=Oc(e),{args:n,keys:r}=Wc(e),i=new L(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;he(n[u]).subscribe(B(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?zc(r,a):a),o.complete())}))}});return t?i.pipe($c(t)):i}function qe(e,t){return $((n,r)=>{let i=0;n.subscribe(B(r,o=>e.call(t,o,i++)&&r.next(o)))})}function yn(e){return $((t,n)=>{let r=null,i=!1,o;r=t.subscribe(B(n,void 0,void 0,s=>{o=he(e(s,yn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function nI(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(B(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function zn(e,t){return M(t)?ue(e,t,1):ue(e,1)}function Gn(e){return $((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function _n(e){return e<=0?()=>ze:$((t,n)=>{let r=0;t.subscribe(B(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Gc(e=YM){return $((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function YM(){return new vn}function fs(e){return $((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function En(e,t){let n=arguments.length>=2;return r=>r.pipe(e?qe((i,o)=>e(i,o,r)):Je,_n(1),n?Gn(t):Gc(()=>new vn))}function Zi(e){return e<=0?()=>ze:$((t,n)=>{let r=[];t.subscribe(B(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function eh(e,t){let n=arguments.length>=2;return r=>r.pipe(e?qe((i,o)=>e(i,o,r)):Je,Zi(1),n?Gn(t):Gc(()=>new vn))}function th(e,t){return $(nI(e,t,arguments.length>=2,!0))}function nh(...e){let t=Bn(e);return $((n,r)=>{(t?Yi(e,n,t):Yi(e,n)).subscribe(r)})}function Le(e,t){return $((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(B(r,c=>{i?.unsubscribe();let l=0,u=o++;he(e(c,u)).subscribe(i=B(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function qc(e){return $((t,n)=>{he(e).subscribe(B(n,()=>n.complete(),cs)),!n.closed&&t.subscribe(n)})}function Ee(e,t,n){let r=M(e)||t||n?{next:e,error:t,complete:n}:e;return r?$((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(B(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Je}function rI(e){let t=P(null);try{return e()}finally{P(t)}}var Jc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(t,n){super(Gt(t,n)),this.code=t}};function ZM(e){return`NG0${Math.abs(e)}`}function Gt(e,t){return`${ZM(e)}${t?": "+t:""}`}var Kn=globalThis;function Y(e){for(let t in e)if(e[t]===Y)return t;throw Error("")}function sI(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function wn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(wn).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function gh(e,t){return e?t?`${e} ${t}`:e:t||""}var QM=Y({__forward_ref__:Y});function Xc(e){return e.__forward_ref__=Xc,e.toString=function(){return wn(this())},e}function De(e){return mh(e)?e():e}function mh(e){return typeof e=="function"&&e.hasOwnProperty(QM)&&e.__forward_ref__===Xc}function aI(e,t){e==null&&vh(t,e,null,"!=")}function vh(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function C(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Yn(e){return{providers:e.providers||[],imports:e.imports||[]}}function vs(e){return JM(e,el)}function yh(e){return vs(e)!==null}function JM(e,t){return e.hasOwnProperty(t)&&e[t]||null}function XM(e){let t=e?.[el]??null;return t||null}function ih(e){return e&&e.hasOwnProperty(Yc)?e[Yc]:null}var el=Y({\u0275prov:Y}),Yc=Y({\u0275inj:Y}),E=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _h(e){return e&&!!e.\u0275providers}var Eh=Y({\u0275cmp:Y}),Ih=Y({\u0275dir:Y}),wh=Y({\u0275pipe:Y}),Ch=Y({\u0275mod:Y}),gs=Y({\u0275fac:Y}),jr=Y({__NG_ELEMENT_ID__:Y}),iI=Y({__NG_ENV_ID__:Y});function It(e){return typeof e=="string"?e:e==null?"":String(e)}function Zc(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():It(e)}var Dh=Y({ngErrorCode:Y}),cI=Y({ngErrorMessage:Y}),ps=Y({ngTokenPath:Y});function Th(e,t){return lI("",-200,t)}function tl(e,t){throw new I(-201,!1)}function e0(e,t){e[ps]??=[];let n=e[ps],r;typeof t=="object"&&"multi"in t&&t?.multi===!0?(aI(t.provide,"Token with multi: true should have a provide property"),r=Zc(t.provide)):r=Zc(t),n[0]!==r&&e[ps].unshift(r)}function t0(e,t){let n=e[ps],r=e[Dh],i=e[cI]||e.message;return e.message=r0(i,r,n,t),e}function lI(e,t,n){let r=new I(t,e);return r[Dh]=t,r[cI]=e,n&&(r[ps]=n),r}function n0(e){return e[Dh]}function r0(e,t,n=[],r=null){let i="";n&&n.length>1&&(i=` Path: ${n.join(" -> ")}.`);let o=r?` Source: ${r}.`:"";return Gt(t,`${e}${o}${i}`)}var oh;function uI(){return oh}function Xe(e){let t=oh;return oh=e,t}function bh(e,t,n){let r=vs(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;tl(e,"Injector")}var i0={},kr=i0,sh="__NG_DI_FLAG__",ah=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Pr(n)||0;try{return this.injector.get(t,r&8?null:kr,r)}catch(i){if(Oi(i))return i;throw i}}};function o0(e,t=0){let n=hc();if(n===void 0)throw new I(-203,!1);if(n===null)return bh(e,void 0,t);{let r=s0(t),i=n.retrieve(e,r);if(Oi(i)){if(r.optional)return null;throw i}return i}}function b(e,t=0){return(uI()||o0)(De(e),t)}function m(e,t){return b(e,Pr(t))}function Pr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function s0(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function ch(e){let t=[];for(let n=0;n<e.length;n++){let r=De(e[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=a0(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(b(i,o))}else t.push(b(r))}return t}function dI(e,t){return e[sh]=t,e.prototype[sh]=t,e}function a0(e){return e[sh]}function xr(e,t){let n=e.hasOwnProperty(gs);return n?e[gs]:null}function fI(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function hI(e){return e.flat(Number.POSITIVE_INFINITY)}function nl(e,t){e.forEach(n=>Array.isArray(n)?nl(n,t):t(n))}function Sh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ys(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function pI(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function gI(e,t,n){let r=Ji(e,t);return r>=0?e[r|1]=n:(r=~r,pI(e,r,t,n)),r}function rl(e,t){let n=Ji(e,t);if(n>=0)return e[n|1]}function Ji(e,t){return c0(e,t,1)}function c0(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Zn={},et=[],dt=new E(""),Ah=new E("",-1),Rh=new E(""),ms=class{get(t,n=kr){if(n===kr){let i=lI("",-201);throw i.name="\u0275NotFound",i}return n}};function Nh(e){return e[Ch]||null}function qt(e){return e[Eh]||null}function il(e){return e[Ih]||null}function Mh(e){return e[wh]||null}function Ie(e){return{\u0275providers:e}}function mI(e){return Ie([{provide:dt,multi:!0,useValue:e}])}function vI(...e){return{\u0275providers:ol(!0,e),\u0275fromNgModule:!0}}function ol(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return nl(t,s=>{let a=s;Qc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&yI(i,o),n}function yI(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Oh(i,o=>{t(o,r)})}}function Qc(e,t,n,r){if(e=De(e),!e)return!1;let i=null,o=ih(e),s=!o&&qt(e);if(!o&&!s){let c=e.ngModule;if(o=ih(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Qc(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{nl(o.imports,u=>{Qc(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&yI(l,t)}if(!a){let l=xr(i)||(()=>new i);t({provide:i,useFactory:l,deps:et},i),t({provide:Rh,useValue:i,multi:!0},i),t({provide:dt,useValue:()=>b(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Oh(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Oh(e,t){for(let n of e)_h(n)&&(n=n.\u0275providers),Array.isArray(n)?Oh(n,t):t(n)}var l0=Y({provide:String,useValue:Y});function _I(e){return e!==null&&typeof e=="object"&&l0 in e}function u0(e){return!!(e&&e.useExisting)}function d0(e){return!!(e&&e.useFactory)}function Lr(e){return typeof e=="function"}function EI(e){return!!e.useClass}var _s=new E(""),Kc={},oI={},rh;function Es(){return rh===void 0&&(rh=new ms),rh}var se=class{},Fr=class extends se{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,uh(t,s=>this.processProvider(s)),this.records.set(Ah,Qi(void 0,this)),i.has("environment")&&this.records.set(se,Qi(void 0,this));let o=this.records.get(_s);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Rh,et,{self:!0}))}retrieve(t,n){let r=Pr(n)||0;try{return this.get(t,kr,r)}catch(i){if(Oi(i))return i;throw i}}destroy(){hs(this),this._destroyed=!0;let t=P(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(t)}}onDestroy(t){return hs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){hs(this);let n=Wt(this),r=Xe(void 0),i;try{return t()}finally{Wt(n),Xe(r)}}get(t,n=kr,r){if(hs(this),t.hasOwnProperty(iI))return t[iI](this);let i=Pr(r),o,s=Wt(this),a=Xe(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let u=m0(t)&&vs(t);u&&this.injectableDefInScope(u)?l=Qi(lh(t),Kc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Es():this.parent;return n=i&8&&n===kr?null:n,c.get(t,n)}catch(c){let l=n0(c);throw l===-200||l===-201?new I(l,null):c}finally{Xe(a),Wt(s)}}resolveInjectorInitializers(){let t=P(null),n=Wt(this),r=Xe(void 0),i;try{let o=this.get(dt,et,{self:!0});for(let s of o)s()}finally{Wt(n),Xe(r),P(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(wn(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=De(t);let n=Lr(t)?t:De(t&&t.provide),r=h0(t);if(!Lr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Qi(void 0,Kc,!0),i.factory=()=>ch(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=P(null);try{if(n.value===oI)throw Th(wn(t));return n.value===Kc&&(n.value=oI,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&g0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{P(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=De(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function lh(e){let t=vs(e),n=t!==null?t.factory:xr(e);if(n!==null)return n;if(e instanceof E)throw new I(204,!1);if(e instanceof Function)return f0(e);throw new I(204,!1)}function f0(e){if(e.length>0)throw new I(204,!1);let n=XM(e);return n!==null?()=>n.factory(e):()=>new e}function h0(e){if(_I(e))return Qi(void 0,e.useValue);{let t=kh(e);return Qi(t,Kc)}}function kh(e,t,n){let r;if(Lr(e)){let i=De(e);return xr(i)||lh(i)}else if(_I(e))r=()=>De(e.useValue);else if(d0(e))r=()=>e.useFactory(...ch(e.deps||[]));else if(u0(e))r=(i,o)=>b(De(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=De(e&&(e.useClass||e.provide));if(p0(e))r=()=>new i(...ch(e.deps));else return xr(i)||lh(i)}return r}function hs(e){if(e.destroyed)throw new I(205,!1)}function Qi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function p0(e){return!!e.deps}function g0(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function m0(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function uh(e,t){for(let n of e)Array.isArray(n)?uh(n,t):n&&_h(n)?uh(n.\u0275providers,t):t(n)}function fe(e,t){let n;e instanceof Fr?(hs(e),n=e):n=new ah(e);let r,i=Wt(n),o=Xe(void 0);try{return t()}finally{Wt(i),Xe(o)}}function II(){return uI()!==void 0||hc()!=null}var Fe=0,D=1,N=2,de=3,ft=4,ht=5,tt=6,Xi=7,Oe=8,wt=9,Kt=10,Z=11,eo=12,Ph=13,Ur=14,Ke=15,Qn=16,Vr=17,Yt=18,Is=19,xh=20,In=21,sl=22,ws=23,nt=24,Br=25,ee=26,wI=1,Ct=6,Zt=7,Cs=8,Hr=9,ke=10;function rt(e){return Array.isArray(e)&&typeof e[wI]=="object"}function it(e){return Array.isArray(e)&&e[wI]===!0}function Lh(e){return(e.flags&4)!==0}function Cn(e){return e.componentOffset>-1}function to(e){return(e.flags&1)===1}function Qt(e){return!!e.template}function $r(e){return(e[N]&512)!==0}function Jn(e){return(e[N]&256)===256}var Fh="svg",CI="math";function ot(e){for(;Array.isArray(e);)e=e[Fe];return e}function jh(e,t){return ot(t[e])}function pt(e,t){return ot(t[e.index])}function no(e,t){return e.data[t]}function DI(e,t){return e[t]}function gt(e,t){let n=t[e];return rt(n)?n:n[Fe]}function TI(e){return(e[N]&4)===4}function al(e){return(e[N]&128)===128}function bI(e){return it(e[de])}function Wr(e,t){return t==null?null:e[t]}function Uh(e){e[Vr]=0}function Vh(e){e[N]&1024||(e[N]|=1024,al(e)&&ro(e))}function SI(e,t){for(;e>0;)t=t[Ur],e--;return t}function Ds(e){return!!(e[N]&9216||e[nt]?.dirty)}function cl(e){e[Kt].changeDetectionScheduler?.notify(8),e[N]&64&&(e[N]|=1024),Ds(e)&&ro(e)}function ro(e){e[Kt].changeDetectionScheduler?.notify(0);let t=qn(e);for(;t!==null&&!(t[N]&8192||(t[N]|=8192,!al(t)));)t=qn(t)}function Bh(e,t){if(Jn(e))throw new I(911,!1);e[In]===null&&(e[In]=[]),e[In].push(t)}function AI(e,t){if(e[In]===null)return;let n=e[In].indexOf(t);n!==-1&&e[In].splice(n,1)}function qn(e){let t=e[de];return it(t)?t[de]:t}function Hh(e){return e[Xi]??=[]}function $h(e){return e.cleanup??=[]}function RI(e,t,n,r){let i=Hh(t);i.push(n),e.firstCreatePass&&$h(e).push(r,i.length-1)}var O={lFrame:WI(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ts=(function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e})(Ts||{}),v0=0,dh=!1;function NI(){return O.lFrame.elementDepthCount}function MI(){O.lFrame.elementDepthCount++}function Wh(){O.lFrame.elementDepthCount--}function ll(){return O.bindingsEnabled}function zh(){return O.skipHydrationRootTNode!==null}function Gh(e){return O.skipHydrationRootTNode===e}function OI(e){O.skipHydrationRootTNode=e}function qh(){O.skipHydrationRootTNode=null}function F(){return O.lFrame.lView}function Te(){return O.lFrame.tView}function kI(e){return O.lFrame.contextLView=e,e[Oe]}function PI(e){return O.lFrame.contextLView=null,e}function me(){let e=Kh();for(;e!==null&&e.type===64;)e=e.parent;return e}function Kh(){return O.lFrame.currentTNode}function xI(){let e=O.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function io(e,t){let n=O.lFrame;n.currentTNode=e,n.isParent=t}function Yh(){return O.lFrame.isParent}function LI(){O.lFrame.isParent=!1}function FI(){return O.lFrame.contextLView}function Zh(e){vh("Must never be called in production mode"),v0=e}function Qh(){return dh}function Jh(e){let t=dh;return dh=e,t}function Xh(){let e=O.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ep(){return O.lFrame.bindingIndex}function jI(e){return O.lFrame.bindingIndex=e}function zr(){return O.lFrame.bindingIndex++}function ul(e){let t=O.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function UI(){return O.lFrame.inI18n}function VI(e,t){let n=O.lFrame;n.bindingIndex=n.bindingRootIndex=e,dl(t)}function BI(){return O.lFrame.currentDirectiveIndex}function dl(e){O.lFrame.currentDirectiveIndex=e}function HI(e){let t=O.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function tp(){return O.lFrame.currentQueryIndex}function fl(e){O.lFrame.currentQueryIndex=e}function y0(e){let t=e[D];return t.type===2?t.declTNode:t.type===1?e[ht]:null}function np(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=y0(o),i===null||(o=o[Ur],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=O.lFrame=$I();return r.currentTNode=t,r.lView=e,!0}function hl(e){let t=$I(),n=e[D];O.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function $I(){let e=O.lFrame,t=e===null?null:e.child;return t===null?WI(e):t}function WI(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function zI(){let e=O.lFrame;return O.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var rp=zI;function pl(){let e=zI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function GI(e){return(O.lFrame.contextLView=SI(e,O.lFrame.contextLView))[Oe]}function Dn(){return O.lFrame.selectedIndex}function Xn(e){O.lFrame.selectedIndex=e}function bs(){let e=O.lFrame;return no(e.tView,e.selectedIndex)}function qI(){O.lFrame.currentNamespace=Fh}function KI(){_0()}function _0(){O.lFrame.currentNamespace=null}function ip(){return O.lFrame.currentNamespace}var YI=!0;function gl(){return YI}function Tn(e){YI=e}var E0={elements:void 0};function ml(){return E0}function fh(e,t=null,n=null,r){let i=op(e,t,n,r);return i.resolveInjectorInitializers(),i}function op(e,t=null,n=null,r,i=new Set){let o=[n||et,vI(e)];return r=r||(typeof e=="object"?void 0:wn(e)),new Fr(o,t||Es(),r||null,i)}var ne=class e{static THROW_IF_NOT_FOUND=kr;static NULL=new ms;static create(t,n){if(Array.isArray(t))return fh({name:""},n,t,"");{let r=t.name??"";return fh({name:r},t.parent,t.providers,r)}}static \u0275prov=C({token:e,providedIn:"any",factory:()=>b(Ah)});static __NG_ELEMENT_ID__=-1},re=new E(""),Jt=(()=>{class e{static __NG_ELEMENT_ID__=I0;static __NG_ENV_ID__=n=>n}return e})(),hh=class extends Jt{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Jn(this._lView)}onDestroy(t){let n=this._lView;return Bh(n,t),()=>AI(n,t)}};function I0(){return new hh(F())}var Et=class{_console=console;handleError(t){this._console.error("ERROR",t)}},je=new E("",{providedIn:"root",factory:()=>{let e=m(se),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Et),t.handleError(n))}}}),ZI={provide:dt,useValue:()=>void m(Et),multi:!0},w0=new E("",{providedIn:"root",factory:()=>{let e=m(re).defaultView;if(!e)return;let t=m(je),n=o=>{t(o.reason),o.preventDefault()},r=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),m(Jt).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function C0(){return Ie([mI(()=>void m(w0))])}function sp(e){return typeof e=="function"&&e[Me]!==void 0}function er(e,t){let[n,r,i]=jf(e,t?.equal),o=n,s=o[Me];return o.set=r,o.update=i,o.asReadonly=QI.bind(o),o}function QI(){let e=this[Me];if(e.readonlyFn===void 0){let t=()=>this();t[Me]=e,e.readonlyFn=t}return e.readonlyFn}function ap(e){return sp(e)&&typeof e.set=="function"}var zt=class{},oo=new E("",{providedIn:"root",factory:()=>!1});var cp=new E(""),vl=new E("");var yl=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=D0}return e})();function D0(){return new yl(F(),me())}var Dt=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ce(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new L(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),tr=(()=>{class e{internalPendingTasks=m(Dt);scheduler=m(zt);errorHandler=m(je);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ss(...e){}var lp=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>new ph})}return e})(),ph=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var _l={JSACTION:"jsaction"};function po(e){return{toString:e}.toString()}var El="__parameters__";function M0(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function O0(e,t,n){return po(()=>{let r=M0(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(El)?c[El]:Object.defineProperty(c,El,{value:[]})[El];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Ye=dI(O0("Optional"),8);function k0(e){return typeof e=="function"}var Ml=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Vw(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Xr=(()=>{let e=()=>Bw;return e.ngInherit=!0,e})();function Bw(e){return e.type.prototype.ngOnChanges&&(e.setInput=x0),P0}function P0(){let e=$w(this),t=e?.current;if(t){let n=e.previous;if(n===Zn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function x0(e,t,n,r,i){let o=this.declaredInputs[r],s=$w(e)||L0(e,{previous:Zn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ml(l&&l.currentValue,n,c===Zn),Vw(e,t,i,n)}var Hw="__ngSimpleChanges__";function $w(e){return e[Hw]||null}function L0(e,t){return e[Hw]=t}var JI=[];var G=function(e,t=null,n){for(let r=0;r<JI.length;r++){let i=JI[r];i(e,t,n)}};function F0(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Bw(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Ww(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Tl(e,t,n){zw(e,t,3,n)}function bl(e,t,n,r){(e[N]&3)===n&&zw(e,t,n,r)}function up(e,t){let n=e[N];(n&3)===t&&(n&=16383,n+=1,e[N]=n)}function zw(e,t,n,r){let i=r!==void 0?e[Vr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[Vr]+=65536),(a<o||o==-1)&&(j0(e,n,t,c),e[Vr]=(e[Vr]&4294901760)+c+2),c++}function XI(e,t){G(4,e,t);let n=P(null);try{t.call(e)}finally{P(n),G(5,e,t)}}function j0(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[N]>>14<e[Vr]>>16&&(e[N]&3)===t&&(e[N]+=16384,XI(a,o)):XI(a,o)}var ao=-1,Kr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function U0(e){return(e.flags&8)!==0}function V0(e){return(e.flags&16)!==0}function B0(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];H0(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Gw(e){return e===3||e===4||e===6}function H0(e){return e.charCodeAt(0)===64}function uo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ew(e,n,i,null,t[++r]):ew(e,n,i,null,null))}}return e}function ew(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function qw(e){return e!==ao}function Ol(e){return e&32767}function $0(e){return e>>16}function kl(e,t){let n=$0(e),r=t;for(;n>0;)r=r[Ur],n--;return r}var Cp=!0;function tw(e){let t=Cp;return Cp=e,t}var W0=256,Kw=W0-1,Yw=5,z0=0,Xt={};function G0(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(jr)&&(r=n[jr]),r==null&&(r=n[jr]=z0++);let i=r&Kw,o=1<<i;t.data[e+(i>>Yw)]|=o}function Pl(e,t){let n=Zw(e,t);if(n!==-1)return n;let r=t[D];r.firstCreatePass&&(e.injectorIndex=t.length,dp(r.data,e),dp(t,null),dp(r.blueprint,null));let i=ig(e,t),o=e.injectorIndex;if(qw(i)){let s=Ol(i),a=kl(i,t),c=a[D].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function dp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Zw(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function ig(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=tC(i),r===null)return ao;if(n++,i=i[Ur],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ao}function Dp(e,t,n){G0(e,t,n)}function q0(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Gw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function Qw(e,t,n){if(n&8||e!==void 0)return e;tl(t,"NodeInjector")}function Jw(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[wt],o=Xe(void 0);try{return i?i.get(t,r,n&8):bh(t,r,n&8)}finally{Xe(o)}}return Qw(r,t,n)}function Xw(e,t,n,r=0,i){if(e!==null){if(t[N]&2048&&!(r&2)){let s=Q0(e,t,n,r,Xt);if(s!==Xt)return s}let o=eC(e,t,n,r,Xt);if(o!==Xt)return o}return Jw(t,n,r,i)}function eC(e,t,n,r,i){let o=Y0(n);if(typeof o=="function"){if(!np(t,e,r))return r&1?Qw(i,n,r):Jw(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))tl(n);else return s}finally{rp()}}else if(typeof o=="number"){let s=null,a=Zw(e,t),c=ao,l=r&1?t[Ke][ht]:null;for((a===-1||r&4)&&(c=a===-1?ig(e,t):t[a+8],c===ao||!rw(r,!1)?a=-1:(s=t[D],a=Ol(c),t=kl(c,t)));a!==-1;){let u=t[D];if(nw(o,a,u.data)){let d=K0(a,t,n,s,r,l);if(d!==Xt)return d}c=t[a+8],c!==ao&&rw(r,t[D].data[a+8]===l)&&nw(o,a,t)?(s=u,a=Ol(c),t=kl(c,t)):a=-1}}return i}function K0(e,t,n,r,i,o){let s=t[D],a=s.data[e+8],c=r==null?Cn(a)&&Cp:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=Sl(a,s,n,c,l);return u!==null?Ns(t,s,u,a,i):Xt}function Sl(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let g=s[h];if(h<c&&n===g||h>=c&&g.type===n)return h}if(i){let h=s[c];if(h&&Qt(h)&&h.type===n)return c}return null}function Ns(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Kr){let a=o;if(a.resolving){let h=Zc(s[n]);throw Th(h)}let c=tw(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?Xe(a.injectImpl):null,f=np(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&F0(n,s[n],t)}finally{d!==null&&Xe(d),tw(c),a.resolving=!1,rp()}}return o}function Y0(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(jr)?e[jr]:void 0;return typeof t=="number"?t>=0?t&Kw:Z0:t}function nw(e,t,n){let r=1<<e;return!!(n[t+(e>>Yw)]&r)}function rw(e,t){return!(e&2)&&!(e&1&&t)}var qr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Xw(this._tNode,this._lView,t,Pr(r),n)}};function Z0(){return new qr(me(),F())}function Yl(e){return po(()=>{let t=e.prototype.constructor,n=t[gs]||Tp(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[gs]||Tp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Tp(e){return mh(e)?()=>{let t=Tp(De(e));return t&&t()}:xr(e)}function Q0(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[N]&2048&&!$r(s);){let a=eC(o,s,n,r|2,Xt);if(a!==Xt)return a;let c=o.parent;if(!c){let l=s[xh];if(l){let u=l.get(n,Xt,r);if(u!==Xt)return u}c=tC(s),s=s[Ur]}o=c}return i}function tC(e){let t=e[D],n=t.type;return n===2?t.declTNode:n===1?e[ht]:null}function Ls(e){return q0(me(),e)}function J0(){return go(me(),F())}function go(e,t){return new St(pt(e,t))}var St=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=J0}return e})();function X0(e){return e instanceof St?e.nativeElement:e}function eO(){return this._results[Symbol.iterator]()}var xl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ge}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=hI(t);(this._changesDetected=!fI(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=eO},nC="ngSkipHydration",tO="ngskiphydration";function rC(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===tO)return!0}return!1}function iC(e){return e.hasAttribute(nC)}function Ll(e){return(e.flags&128)===128}function oC(e){if(Ll(e))return!0;let t=e.parent;for(;t;){if(Ll(e)||rC(t))return!0;t=t.parent}return!1}var og=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(og||{}),sC=new Map,nO=0;function rO(){return nO++}function iO(e){sC.set(e[Is],e)}function bp(e){sC.delete(e[Is])}var iw="__ngContext__";function fo(e,t){rt(t)?(e[iw]=t[Is],iO(t)):e[iw]=t}function aC(e){return lC(e[eo])}function cC(e){return lC(e[ft])}function lC(e){for(;e!==null&&!it(e);)e=e[ft];return e}var Sp;function sg(e){Sp=e}function Fs(){if(Sp!==void 0)return Sp;if(typeof document<"u")return document;throw new I(210,!1)}var tn=new E("",{providedIn:"root",factory:()=>oO}),oO="ng",Zl=new E(""),ir=new E("",{providedIn:"platform",factory:()=>"unknown"});var Ql=new E("",{providedIn:"root",factory:()=>Fs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function sO(){let e=new ei;return e.store=aO(Fs(),m(tn)),e}var ei=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:sO});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function aO(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var uC="h",dC="b",cO="f",lO="n",fC="e",hC="t",Jl="c",ag="x",Ms="r",pC="i",gC="n",cg="d";var mC="di",vC="s",yC="p";var js=new E(""),_C=!1,lg=new E("",{providedIn:"root",factory:()=>_C});var ug=new E(""),EC=!1,IC=new E(""),dg=new E("",{providedIn:"root",factory:()=>new Map}),Xl=new E("");var Us="ngb";var wC=(e,t,n)=>{let r=e,i=r.__jsaction_fns??new Map,o=i.get(t)??[];o.push(n),i.set(t,o),r.__jsaction_fns=i},CC=(e,t)=>{let n=e,r=n.getAttribute(Us)??"",i=t.get(r)??new Set;i.has(n)||i.add(n),t.set(r,i)};var DC=e=>{e.removeAttribute(_l.JSACTION),e.removeAttribute(Us),e.__jsaction_fns=void 0},TC=new E("",{providedIn:"root",factory:()=>({})});function fg(e,t){let n=t?.__jsaction_fns?.get(e.type);if(!(!n||!t?.isConnected))for(let r of n)r(e)}var Ap=new Map;function bC(e,t){return Ap.set(e,t),()=>Ap.delete(e)}var ow=!1,SC=(e,t,n,r)=>{};function uO(e,t,n,r){SC(e,t,n,r)}function AC(){ow||(SC=(e,t,n,r)=>{let i=e[wt].get(tn);Ap.get(i)?.(t,n,r)},ow=!0)}var eu=new E("");function tu(e){return(e.flags&32)===32}var dO="__nghData__",hg=dO,fO="__nghDeferData__",RC=fO;var Al="ngh",NC="nghm",MC=()=>null;function hO(e,t,n=!1){let r=e.getAttribute(Al);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=t.get(ei,null,{optional:!0});u!==null&&(c=u.get(hg,[])[Number(r)])}let l={data:c,firstChild:e.firstChild??null};return n&&(l.firstChild=e,nu(l,0,e.nextSibling)),a?e.setAttribute(Al,a):e.removeAttribute(Al),l}function OC(){MC=hO}function kC(e,t,n=!1){return MC(e,t,n)}function PC(e){let t=e._lView;return t[D].type===2?null:($r(t)&&(t=t[ee]),t)}function pO(e){return e.textContent?.replace(/\s/gm,"")}function gO(e){let t=Fs(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=pO(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function nu(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Rp(e,t){return e.segmentHeads?.[t]??null}function xC(e){return e.get(IC,!1,{optional:!0})}function mO(e,t){let n=e.data,r=n[fC]?.[t]??null;return r===null&&n[Jl]?.[t]&&(r=pg(e,t)),r}function LC(e,t){return e.data[Jl]?.[t]??null}function pg(e,t){let n=LC(e,t)??[],r=0;for(let i of n)r+=i[Ms]*(i[ag]??1);return r}function vO(e){if(typeof e.disconnectedNodes>"u"){let t=e.data[cg];e.disconnectedNodes=t?new Set(t):null}return e.disconnectedNodes}function FC(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[cg];e.disconnectedNodes=n?new Set(n):null}return!!vO(e)?.has(t)}function ru(e,t){let n=e[tt];return n!==null&&!zh()&&!tu(t)&&!FC(n,t.index-ee)}function yO(e,t){let n=t.get(eu),i=t.get(ei).get(RC,{}),o=!1,s=e,a=null,c=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}c.unshift(s),s=i[s][yC]}return{parentBlockPromise:a,hydrationQueue:c}}function fp(e){return!!e&&e.nodeType===Node.COMMENT_NODE&&e.textContent?.trim()===NC}function sw(e){for(;e&&e.nodeType===Node.TEXT_NODE;)e=e.previousSibling;return e}function jC(e){for(let r of e.body.childNodes)if(fp(r))return;let t=sw(e.body.previousSibling);if(fp(t))return;let n=sw(e.head.lastChild);if(!fp(n))throw new I(-507,!1)}function UC(e,t){let n=e.contentQueries;if(n!==null){let r=P(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];fl(o),a.contentQueries(2,t[s],s)}}}finally{P(r)}}}function Np(e,t,n){fl(0);let r=P(null);try{t(e,n)}finally{P(r)}}function gg(e,t,n){if(Lh(t)){let r=P(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{P(r)}}}var bn=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(bn||{}),Il;function _O(){if(Il===void 0&&(Il=null,Kn.trustedTypes))try{Il=Kn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Il}function iu(e){return _O()?.createHTML(e)||e}var wl;function EO(){if(wl===void 0&&(wl=null,Kn.trustedTypes))try{wl=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return wl}function aw(e){return EO()?.createScriptURL(e)||e}var Sn=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jc})`}},Mp=class extends Sn{getTypeName(){return"HTML"}},Op=class extends Sn{getTypeName(){return"Style"}},kp=class extends Sn{getTypeName(){return"Script"}},Pp=class extends Sn{getTypeName(){return"URL"}},xp=class extends Sn{getTypeName(){return"ResourceURL"}};function At(e){return e instanceof Sn?e.changingThisBreaksApplicationSecurity:e}function An(e,t){let n=VC(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Jc})`)}return n===t}function VC(e){return e instanceof Sn&&e.getTypeName()||null}function mg(e){return new Mp(e)}function vg(e){return new Op(e)}function yg(e){return new kp(e)}function _g(e){return new Pp(e)}function Eg(e){return new xp(e)}function IO(e){let t=new Fp(e);return wO()?new Lp(t):t}var Lp=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(iu(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},Fp=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=iu(t),n}};function wO(){try{return!!new window.DOMParser().parseFromString(iu(""),"text/html")}catch{return!1}}var CO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vs(e){return e=String(e),e.match(CO)?e:"unsafe:"+e}function Rn(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function Bs(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var BC=Rn("area,br,col,hr,img,wbr"),HC=Rn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$C=Rn("rp,rt"),DO=Bs($C,HC),TO=Bs(HC,Rn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bO=Bs($C,Rn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cw=Bs(BC,TO,bO,DO),WC=Rn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SO=Rn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),AO=Rn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),RO=Bs(WC,SO,AO),NO=Rn("script,style,template"),jp=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=kO(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=OO(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(t){let n=lw(t).toLowerCase();if(!cw.hasOwnProperty(n))return this.sanitizedSomething=!0,!NO.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!RO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;WC[a]&&(c=Vs(c)),this.buf.push(" ",s,'="',uw(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=lw(t).toLowerCase();cw.hasOwnProperty(n)&&!BC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(uw(t))}};function MO(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function OO(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw zC(t);return t}function kO(e){let t=e.firstChild;if(t&&MO(e,t))throw zC(t);return t}function lw(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function zC(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var PO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xO=/([^\#-~ |!])/g;function uw(e){return e.replace(/&/g,"&amp;").replace(PO,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(xO,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Cl;function Ig(e,t){let n=null;try{Cl=Cl||IO(e);let r=t?String(t):"";n=Cl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Cl.getInertBodyElement(r)}while(r!==o);let a=new jp().sanitizeChildren(dw(n)||n);return iu(a)}finally{if(n){let r=dw(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function dw(e){return"content"in e&&LO(e)?e.content:null}function LO(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Rt=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(Rt||{});function GC(e){let t=KC();return t?t.sanitize(Rt.URL,e)||"":An(e,"URL")?At(e):Vs(It(e))}function qC(e){let t=KC();if(t)return aw(t.sanitize(Rt.RESOURCE_URL,e)||"");if(An(e,"ResourceURL"))return aw(At(e));throw new I(904,!1)}function FO(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?qC:GC}function wg(e,t,n){return FO(t,n)(e)}function KC(){let e=F();return e&&e[Kt].sanitizer}var jO=/^>|^->|<!--|-->|--!>|<!-$/g,UO=/(<|>)/g,VO="\u200B$1\u200B";function BO(e){return e.replace(jO,t=>t.replace(UO,VO))}function HO(e){return e.ownerDocument.defaultView}function YC(e){return e.ownerDocument.body}function ZC(e){return e instanceof Function?e():e}function $O(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var QC="ng-template";function WO(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&$O(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Cg(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Cg(e){return e.type===4&&e.value!==QC}function zO(e,t,n){let r=e.type===4&&!n?QC:e.value;return t===r}function GO(e,t,n){let r=4,i=e.attrs,o=i!==null?YO(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Tt(r)&&!Tt(c))return!1;if(s&&Tt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!zO(e,c,n)||c===""&&t.length===1){if(Tt(r))return!1;s=!0}}else if(r&8){if(i===null||!WO(e,i,c,n)){if(Tt(r))return!1;s=!0}}else{let l=t[++a],u=qO(c,i,Cg(e),n);if(u===-1){if(Tt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Tt(r))return!1;s=!0}}}}return Tt(r)||s}function Tt(e){return(e&1)===0}function qO(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ZO(t,e)}function KO(e,t,n=!1){for(let r=0;r<t.length;r++)if(GO(e,t[r],n))return!0;return!1}function YO(e){for(let t=0;t<e.length;t++){let n=e[t];if(Gw(n))return t}return e.length}function ZO(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function fw(e,t){return e?":not("+t.trim()+")":t}function QO(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tt(s)&&(t+=fw(o,i),i=""),r=s,o=o||!Tt(r);n++}return i!==""&&(t+=fw(o,i)),t}function JO(e){return e.map(QO).join(",")}function XO(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Tt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Ue={};function JC(e,t){return e.createText(t)}function ek(e,t,n){e.setValue(t,n)}function XC(e,t){return e.createComment(BO(t))}function Dg(e,t,n){return e.createElement(t,n)}function Fl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function eD(e,t,n){e.appendChild(t,n)}function hw(e,t,n,r,i){r!==null?Fl(e,t,n,r,i):eD(e,t,n)}function Tg(e,t,n){e.removeChild(null,t,n)}function tD(e){e.textContent=""}function tk(e,t,n){e.setAttribute(t,"style",n)}function nk(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function nD(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&B0(e,t,r),i!==null&&nk(e,t,i),o!==null&&tk(e,t,o)}function bg(e,t,n,r,i,o,s,a,c,l,u){let d=ee+r,f=d+i,h=rk(d,f),g=typeof l=="function"?l():l;return h[D]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function rk(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ue);return n}function ik(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=bg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Sg(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Fe]=i,d[N]=r|4|128|8|64|1024,(l!==null||e&&e[N]&2048)&&(d[N]|=2048),Uh(d),d[de]=d[Ur]=e,d[Oe]=n,d[Kt]=s||e&&e[Kt],d[Z]=a||e&&e[Z],d[wt]=c||e&&e[wt]||null,d[ht]=o,d[Is]=rO(),d[tt]=u,d[xh]=l,d[Ke]=t.type==2?e[Ke]:d,d}function ok(e,t,n){let r=pt(t,e),i=ik(n),o=e[Kt].rendererFactory,s=Ag(e,Sg(e,i,null,rD(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function rD(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function iD(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ag(e,t){return e[eo]?e[Ph][ft]=t:e[eo]=t,e[Ph]=t,t}function sk(e=1){oD(Te(),F(),Dn()+e,!1)}function oD(e,t,n,r){if(!r)if((t[N]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Tl(t,o,n)}else{let o=e.preOrderHooks;o!==null&&bl(t,o,0,n)}Xn(n)}var ou=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(ou||{});function Up(e,t,n,r){let i=P(null);try{let[o,s,a]=e.inputs[n],c=null;(s&ou.SignalBased)!==0&&(c=t[o][Me]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):Vw(t,c,o,r)}finally{P(i)}}var en=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(en||{}),ak;function Rg(e,t){return ak(e,t)}function so(e,t,n,r,i){if(r!=null){let o,s=!1;it(r)?o=r:rt(r)&&(s=!0,r=r[Fe]);let a=ot(r);e===0&&n!==null?i==null?eD(t,n,a):Fl(t,n,a,i||null,!0):e===1&&n!==null?Fl(t,n,a,i||null,!0):e===2?Tg(t,a,s):e===3&&t.destroyNode(a),o!=null&&_k(t,e,o,n,i)}}function ck(e,t){sD(e,t),t[Fe]=null,t[ht]=null}function lk(e,t,n,r,i,o){r[Fe]=i,r[ht]=t,su(e,r,n,1,i,o)}function sD(e,t){t[Kt].changeDetectionScheduler?.notify(9),su(e,t,t[Z],2,null,null)}function uk(e){let t=e[eo];if(!t)return hp(e[D],e);for(;t;){let n=null;if(rt(t))n=t[eo];else{let r=t[ke];r&&(n=r)}if(!n){for(;t&&!t[ft]&&t!==e;)rt(t)&&hp(t[D],t),t=t[de];t===null&&(t=e),rt(t)&&hp(t[D],t),n=t&&t[ft]}t=n}}function Ng(e,t){let n=e[Hr],r=n.indexOf(t);n.splice(r,1)}function Mg(e,t){if(Jn(t))return;let n=t[Z];n.destroyNode&&su(e,t,n,3,null,null),uk(t)}function hp(e,t){if(Jn(t))return;let n=P(null);try{t[N]&=-129,t[N]|=256,t[nt]&&as(t[nt]),fk(e,t),dk(e,t),t[D].type===1&&t[Z].destroy();let r=t[Qn];if(r!==null&&it(t[de])){r!==t[de]&&Ng(r,t);let i=t[Yt];i!==null&&i.detachView(e)}bp(t)}finally{P(n)}}function dk(e,t){let n=e.cleanup,r=t[Xi];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Xi]=null);let i=t[In];if(i!==null){t[In]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[ws];if(o!==null){t[ws]=null;for(let s of o)s.destroy()}}function fk(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Kr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];G(4,a,c);try{c.call(a)}finally{G(5,a,c)}}else{G(4,i,o);try{o.call(i)}finally{G(5,i,o)}}}}}function hk(e,t,n){return pk(e,t.parent,n)}function pk(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Fe];if(Cn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===bn.None||i===bn.Emulated)return null}return pt(r,n)}function gk(e,t,n){return vk(e,t,n)}function mk(e,t,n){return e.type&40?pt(e,n):null}var vk=mk,pw;function Og(e,t,n,r){let i=hk(e,r,t),o=t[Z],s=r.parent||t[ht],a=gk(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)hw(o,i,n[c],a,!1);else hw(o,i,n,a,!1);pw!==void 0&&pw(o,r,t,n,i)}function As(e,t){if(t!==null){let n=t.type;if(n&3)return pt(t,e);if(n&4)return Vp(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return As(e,r);{let i=e[t.index];return it(i)?Vp(-1,i):ot(i)}}else{if(n&128)return As(e,t.next);if(n&32)return Rg(t,e)()||ot(e[t.index]);{let r=aD(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=qn(e[Ke]);return As(i,r)}else return As(e,t.next)}}}return null}function aD(e,t){if(t!==null){let r=e[Ke][ht],i=t.projection;return r.projection[i]}return null}function Vp(e,t){let n=ke+e+1;if(n<t.length){let r=t[n],i=r[D].firstChild;if(i!==null)return As(r,i)}return t[Zt]}function kg(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&fo(ot(a),r),n.flags|=2),!tu(n))if(c&8)kg(e,t,n.child,r,i,o,!1),so(t,e,i,a,o);else if(c&32){let l=Rg(n,r),u;for(;u=l();)so(t,e,i,u,o);so(t,e,i,a,o)}else c&16?yk(e,t,r,n,i,o):so(t,e,i,a,o);n=s?n.projectionNext:n.next}}function su(e,t,n,r,i,o){kg(n,r,e.firstChild,t,i,o,!1)}function yk(e,t,n,r,i,o){let s=n[Ke],c=s[ht].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];so(t,e,i,u,o)}else{let l=c,u=s[de];Ll(r)&&(l.flags|=128),kg(e,t,l,u,i,o,!0)}}function _k(e,t,n,r,i){let o=n[Zt],s=ot(n);o!==s&&so(t,e,r,o,i);for(let a=ke;a<n.length;a++){let c=n[a];su(c[D],c,e,t,r,o)}}function Ek(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:en.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=en.Important),e.setStyle(n,r,i,o))}}function cD(e,t,n,r,i){let o=Dn(),s=r&2;try{Xn(-1),s&&t.length>ee&&oD(e,t,ee,!1),G(s?2:0,i,n),n(r,i)}finally{Xn(o),G(s?3:1,i,n)}}function au(e,t,n){bk(e,t,n),(n.flags&64)===64&&Sk(e,t,n)}function cu(e,t,n=pt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function Ik(e,t,n,r){let o=r.get(lg,_C)||n===bn.ShadowDom,s=e.selectRootElement(t,o);return wk(s),s}function wk(e){lD(e)}var lD=()=>null;function Ck(e){iC(e)?tD(e):gO(e)}function uD(){lD=Ck}function Dk(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function dD(e,t,n,r,i,o){let s=t[D];if(jg(e,s,t,n,r)){Cn(e)&&Tk(t,e.index);return}e.type&3&&(n=Dk(n)),fD(e,t,n,r,i,o)}function fD(e,t,n,r,i,o){if(e.type&3){let s=pt(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function Tk(e,t){let n=gt(t,e);n[N]&16||(n[N]|=64)}function bk(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Cn(n)&&ok(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Pl(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Ns(t,e,s,n);if(fo(c,t),o!==null&&Mk(t,s-r,c,a,n,o),Qt(a)){let l=gt(n.index,t);l[Oe]=Ns(t,e,s,n)}}}function Sk(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=BI();try{Xn(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];dl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ak(c,l)}}finally{Xn(-1),dl(s)}}function Ak(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Pg(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];KO(t,o.selectors,!1)&&(r??=[],Qt(o)?r.unshift(o):r.push(o))}return r}function Rk(e,t,n,r,i,o){let s=pt(e,t);Nk(t[Z],s,o,e.value,n,r,i)}function Nk(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?It(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function Mk(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Up(r,n,c,l)}}function xg(e,t,n,r,i){let o=ee+n,s=t[D],a=i(s,t,e,r,n);t[o]=a,io(e,!0);let c=e.type===2;return c?(nD(t[Z],a,e),(NI()===0||to(e))&&fo(a,t),MI()):fo(a,t),gl()&&(!c||!tu(e))&&Og(s,t,a,e),e}function Lg(e){let t=e;return Yh()?LI():(t=t.parent,io(t,!1)),t}function Fg(e,t){let n=e[wt];if(!n)return;let r;try{r=n.get(je,null)}catch{r=null}r?.(t)}function jg(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];Up(d,n[l],u,i),a=!0}if(o)for(let c of o){let l=n[c],u=t.data[c];Up(u,l,r,i),a=!0}return a}function Ok(e,t){let n=gt(t,e),r=n[D];kk(r,n);let i=n[Fe];i!==null&&n[tt]===null&&(n[tt]=kC(i,n[wt])),G(18),Ug(r,n,n[Oe]),G(19,n[Oe])}function kk(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Ug(e,t,n){hl(t);try{let r=e.viewQuery;r!==null&&Np(1,r,n);let i=e.template;i!==null&&cD(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Yt]?.finishViewCreation(e),e.staticContentQueries&&UC(e,t),e.staticViewQueries&&Np(2,e.viewQuery,n);let o=e.components;o!==null&&Pk(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[N]&=-5,pl()}}function Pk(e,t){for(let n=0;n<t.length;n++)Ok(e,t[n])}function hD(e,t,n,r){let i=P(null);try{let o=t.tView,a=e[N]&4096?4096:16,c=Sg(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Qn]=l;let u=e[Yt];return u!==null&&(c[Yt]=u.createEmbeddedView(o)),Ug(o,c,n),c}finally{P(i)}}function Bp(e,t){return!t||t.firstChild===null||Ll(e)}var gw=!1,xk=new E("");function Os(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(ot(o)),it(o)&&pD(o,r);let s=n.type;if(s&8)Os(e,t,n.child,r);else if(s&32){let a=Rg(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=aD(t,n);if(Array.isArray(a))r.push(...a);else{let c=qn(t[Ke]);Os(c[D],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pD(e,t){for(let n=ke;n<e.length;n++){let r=e[n],i=r[D].firstChild;i!==null&&Os(r[D],r,i,t)}e[Zt]!==e[Fe]&&t.push(e[Zt])}function gD(e){if(e[Br]!==null){for(let t of e[Br])t.impl.addSequence(t);e[Br].length=0}}var mD=[];function Lk(e){return e[nt]??Fk(e)}function Fk(e){let t=mD.pop()??Object.create(Uk);return t.lView=e,t}function jk(e){e.lView[nt]!==e&&(e.lView=null,mD.push(e))}var Uk=z(_({},ki),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ro(e.lView)},consumerOnSignalRead(){this.lView[nt]=this}});function Vk(e){let t=e[nt]??Object.create(Bk);return t.lView=e,t}var Bk=z(_({},ki),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=qn(e.lView);for(;t&&!vD(t[D]);)t=qn(t);t&&Vh(t)},consumerOnSignalRead(){this.lView[nt]=this}});function vD(e){return e.type!==2}function yD(e){if(e[ws]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[ws])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[N]&8192)}}var Hk=100;function Vg(e,t=0){let r=e[Kt].rendererFactory,i=!1;i||r.begin?.();try{$k(e,t)}finally{i||r.end?.()}}function $k(e,t){let n=Qh();try{Jh(!0),Hp(e,t);let r=0;for(;Ds(e);){if(r===Hk)throw new I(103,!1);r++,Hp(e,1)}}finally{Jh(n)}}function _D(e,t){Zh(t?Ts.Exhaustive:Ts.OnlyDirtyViews);try{Vg(e)}finally{Zh(Ts.Off)}}function Wk(e,t,n,r){if(Jn(t))return;let i=t[N],o=!1,s=!1;hl(t);let a=!0,c=null,l=null;o||(vD(e)?(l=Lk(t),c=xi(l)):_c()===null?(a=!1,l=Vk(t),c=xi(l)):t[nt]&&(as(t[nt]),t[nt]=null));try{Uh(t),jI(e.bindingStartIndex),n!==null&&cD(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Tl(t,h,null)}else{let h=e.preOrderHooks;h!==null&&bl(t,h,0,null),up(t,0)}if(s||zk(t),yD(t),ED(t,0),e.contentQueries!==null&&UC(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Tl(t,h)}else{let h=e.contentHooks;h!==null&&bl(t,h,1),up(t,1)}qk(e,t);let d=e.components;d!==null&&wD(t,d,0);let f=e.viewQuery;if(f!==null&&Np(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Tl(t,h)}else{let h=e.viewHooks;h!==null&&bl(t,h,2),up(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[sl]){for(let h of t[sl])h();t[sl]=null}o||(gD(t),t[N]&=-73)}catch(u){throw o||ro(t),u}finally{l!==null&&(os(l,c),a&&jk(l)),pl()}}function ED(e,t){for(let n=aC(e);n!==null;n=cC(n))for(let r=ke;r<n.length;r++){let i=n[r];ID(i,t)}}function zk(e){for(let t=aC(e);t!==null;t=cC(t)){if(!(t[N]&2))continue;let n=t[Hr];for(let r=0;r<n.length;r++){let i=n[r];Vh(i)}}}function Gk(e,t,n){G(18);let r=gt(t,e);ID(r,n),G(19,r[Oe])}function ID(e,t){al(e)&&Hp(e,t)}function Hp(e,t){let r=e[D],i=e[N],o=e[nt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&ss(o)),s||=!1,o&&(o.dirty=!1),e[N]&=-9217,s)Wk(r,e,r.template,e[Oe]);else if(i&8192){let a=P(null);try{yD(e),ED(e,1);let c=r.components;c!==null&&wD(e,c,1),gD(e)}finally{P(a)}}}function wD(e,t,n){for(let r=0;r<t.length;r++)Gk(e,t[r],n)}function qk(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Xn(~i);else{let o=i,s=n[++r],a=n[++r];VI(s,o);let c=t[o];G(24,c),a(2,c),G(25,c)}}}finally{Xn(-1)}}function lu(e,t){let n=Qh()?64:1088;for(e[Kt].changeDetectionScheduler?.notify(t);e;){e[N]|=n;let r=qn(e);if($r(e)&&!r)return e;e=r}return null}function CD(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function DD(e,t,n,r=!0){let i=t[D];if(Yk(i,t,e,n),r){let s=Vp(n,e),a=t[Z],c=a.parentNode(e[Zt]);c!==null&&lk(i,e[ht],a,t,c,s)}let o=t[tt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Kk(e,t){let n=jl(e,t);return n!==void 0&&Mg(n[D],n),n}function jl(e,t){if(e.length<=ke)return;let n=ke+t,r=e[n];if(r){let i=r[Qn];i!==null&&i!==e&&Ng(i,r),t>0&&(e[n-1][ft]=r[ft]);let o=ys(e,ke+t);ck(r[D],r);let s=o[Yt];s!==null&&s.detachView(o[D]),r[de]=null,r[ft]=null,r[N]&=-129}return r}function Yk(e,t,n,r){let i=ke+r,o=n.length;r>0&&(n[i-1][ft]=t),r<o-ke?(t[ft]=n[i],Sh(n,ke+r,t)):(n.push(t),t[ft]=null),t[de]=n;let s=t[Qn];s!==null&&n!==s&&TD(s,t);let a=t[Yt];a!==null&&a.insertView(e),cl(t),t[N]|=128}function TD(e,t){let n=e[Hr],r=t[de];if(rt(r))e[N]|=2;else{let i=r[de][Ke];t[Ke]!==i&&(e[N]|=2)}n===null?e[Hr]=[t]:n.push(t)}var nr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[D];return Os(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Oe]}set context(t){this._lView[Oe]=t}get destroyed(){return Jn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[de];if(it(t)){let n=t[Cs],r=n?n.indexOf(this):-1;r>-1&&(jl(t,r),ys(n,r))}this._attachedToViewContainer=!1}Mg(this._lView[D],this._lView)}onDestroy(t){Bh(this._lView,t)}markForCheck(){lu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[N]&=-129}reattach(){cl(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,Vg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=$r(this._lView),n=this._lView[Qn];n!==null&&!t&&Ng(n,this._lView),sD(this._lView[D],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=t;let n=$r(this._lView),r=this._lView[Qn];r!==null&&!n&&TD(r,this._lView),cl(this._lView)}};var rr=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Zk;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=hD(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new nr(o)}}return e})();function Zk(){return uu(me(),F())}function uu(e,t){return e.type&4?new rr(t,e,go(e,t)):null}function du(e,t,n,r,i){let o=e.data[t];if(o===null)o=Qk(e,t,n,r,i),UI()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=xI();o.injectorIndex=s===null?-1:s.injectorIndex}return io(o,!0),o}function Qk(e,t,n,r,i){let o=Kh(),s=Yh(),a=s?o:o&&o.parent,c=e.data[t]=Xk(e,a,n,t,r,i);return Jk(e,c,o,s),c}function Jk(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function Xk(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return zh()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var eP=new RegExp(`^(\\d+)*(${dC}|${uC})*(.*)`);function tP(e){let t=e.match(eP),[n,r,i,o]=t,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function nP(e){return!e.prev&&e.parent?.type===8}function pp(e){return e.index-ee}function rP(e,t){let n=e.i18nNodes;if(n)return n.get(t)}function fu(e,t,n,r){let i=pp(r),o=rP(e,i);if(o===void 0){let s=e.data[gC];if(s?.[i])o=oP(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(nP(r)){let l=pp(r.parent);o=Rp(e,l)}else{let l=pt(c,n);if(a)o=l.firstChild;else{let u=pp(c),d=Rp(e,u);if(c.type===2&&d){let h=pg(e,u)+1;o=hu(h,d)}else o=l.nextSibling}}}}return o}function hu(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function iP(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case cO:n=n.firstChild;break;case lO:n=n.nextSibling;break}}return n}function oP(e,t){let[n,...r]=tP(e),i;if(n===uC)i=t[Ke][Fe];else if(n===dC)i=YC(t[Ke][Fe]);else{let o=Number(n);i=ot(t[o+ee])}return iP(i,r)}var sP=!1;function bD(e){sP=e}function aP(e){let t=e[tt];if(t){let{i18nNodes:n,dehydratedIcuData:r}=t;if(n&&r){let i=e[Z];for(let o of r.values())cP(i,n,o)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function cP(e,t,n){for(let r of n.node.cases[n.case]){let i=t.get(r.index-ee);i&&Tg(e,i,!1)}}function Bg(e){let t=e[Ct]??[],r=e[de][Z],i=[];for(let o of t)o.data[mC]!==void 0?i.push(o):SD(o,r);e[Ct]=i}function lP(e){let{lContainer:t}=e,n=t[Ct];if(n===null)return;let i=t[de][Z];for(let o of n)SD(o,i)}function SD(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[Ms];for(;n<i;){let o=r.nextSibling;Tg(t,r,!1),r=o,n++}}}function pu(e){Bg(e);let t=e[Fe];rt(t)&&Ul(t);for(let n=ke;n<e.length;n++)Ul(e[n])}function Ul(e){aP(e);let t=e[D];for(let n=ee;n<t.bindingStartIndex;n++)if(it(e[n])){let r=e[n];pu(r)}else rt(e[n])&&Ul(e[n])}function Hg(e){let t=e._views;for(let n of t){let r=PC(n);r!==null&&r[Fe]!==null&&(rt(r)?Ul(r):pu(r))}}function uP(e,t,n,r){e!==null&&(n.cleanup(t),pu(e.lContainer),Hg(r))}function dP(e,t){let n=[];for(let r of t)for(let i=0;i<(r[ag]??1);i++){let o={data:r,firstChild:null};r[Ms]>0&&(o.firstChild=e,e=hu(r[Ms],e)),n.push(o)}return[e,n]}var AD=()=>null,fP=()=>null;function RD(){AD=hP,fP=pP}function hP(e,t){return ND(e,t)?e[Ct].shift():(Bg(e),null)}function $p(e,t){return AD(e,t)}function pP(e,t,n){if(t.tView.ssrId===null)return null;let r=$p(e,t.tView.ssrId);return n[D].firstUpdatePass&&r===null&&gP(n,t),r}function gP(e,t){let n=t;for(;n;){if(mw(e,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=t.next;n&&(n.flags&512)===512;){if(mw(e,n))return;n=n.next}}function ND(e,t){let n=e[Ct];return!t||n===null||n.length===0?!1:n[0].data[pC]===t}function mw(e,t){let n=t.tView?.ssrId;if(n==null)return!1;let r=e[t.index];return it(r)&&ND(r,n)?(Bg(r),!0):!1}var MD=class{},gu=class{},Wp=class{resolveComponentFactory(t){throw new I(917,!1)}},Hs=class{static NULL=new Wp},Yr=class{},ti=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>mP()}return e})();function mP(){let e=F(),t=me(),n=gt(t.index,e);return(rt(n)?n:e)[Z]}var OD=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>null})}return e})();var Rl={},co=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,Rl,r);return i!==Rl||n===Rl?i:this.parentInjector.get(t,n,r)}};function Vl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=gh(i,a);else if(o==2){let c=a,l=t[++s];r=gh(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function ie(e,t=0){let n=F();if(n===null)return b(e,t);let r=me();return Xw(r,n,De(e),t)}function $g(){let e="invalid";throw new Error(e)}function kD(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}_P(e,t,n,a,o,c,l)}o!==null&&r!==null&&vP(n,r,o)}function vP(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new I(-301,!1);r.push(t[i],o)}}function yP(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function _P(e,t,n,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let h=r[f];!c&&Qt(h)&&(c=!0,yP(e,n,f)),Dp(Pl(n,t),e,h.type)}TP(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=iD(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=uo(n.mergedAttrs,h.hostAttrs),IP(e,n,t,d,h),DP(d,h,i),s!==null&&s.has(h)){let[v,w]=s.get(h);n.directiveToIndex.set(h.type,[d,v+n.directiveStart,w+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let g=h.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}EP(e,n,o)}function EP(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))vw(0,t,i,r),vw(1,t,i,r),_w(t,r,!1);else{let o=n.get(i);yw(0,t,o,r),yw(1,t,o,r),_w(t,r,!0)}}}function vw(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),PD(t,o)}}function yw(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),PD(t,s)}}function PD(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function _w(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Cg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function IP(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=xr(i.type,!0)),s=new Kr(o,Qt(i),ie,null);e.blueprint[r]=s,n[r]=s,wP(e,t,r,iD(e,n,i.hostVars,Ue),i)}function wP(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;CP(s)!=a&&s.push(a),s.push(n,r,o)}}function CP(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function DP(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Qt(t)&&(n[""]=e)}}function TP(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Wg(e,t,n,r,i,o,s,a){let c=t[D],l=c.consts,u=Wr(l,s),d=du(c,e,n,r,u);return o&&kD(c,t,d,Wr(l,a),i),d.mergedAttrs=uo(d.mergedAttrs,d.attrs),d.attrs!==null&&Vl(d,d.attrs,!1),d.mergedAttrs!==null&&Vl(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function zg(e,t){Ww(e,t),Lh(t)&&e.queries.elementEnd(t)}function bP(e,t,n,r,i,o){let s=t.consts,a=Wr(s,i),c=du(t,e,n,r,a);if(c.mergedAttrs=uo(c.mergedAttrs,c.attrs),o!=null){let l=Wr(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&Vl(c,c.attrs,!1),c.mergedAttrs!==null&&Vl(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Gg(e){return LD(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function xD(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function LD(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function FD(e,t,n){return e[t]=n}function SP(e,t){return e[t]}function bt(e,t,n){if(n===Ue)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function jD(e,t,n,r){let i=bt(e,t,n);return bt(e,t+1,r)||i}function AP(e,t,n,r,i){let o=jD(e,t,n,r);return bt(e,t+2,i)||o}function gp(e,t,n){return function r(i){let o=Cn(e)?gt(e.index,t):t;lu(o,5);let s=t[Oe],a=Ew(t,s,n,i),c=r.__ngNextListenerFn__;for(;c;)a=Ew(t,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Ew(e,t,n,r){let i=P(null);try{return G(6,t,n),n(r)!==!1}catch(o){return Fg(e,o),!1}finally{G(7,t,n),P(i)}}function RP(e,t,n,r,i,o,s,a){let c=to(e),l=!1,u=null;if(!r&&c&&(u=NP(t,n,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=pt(e,n),f=r?r(d):d;uO(n,f,o,a);let h=i.listen(f,o,a),g=r?v=>r(ot(v[e.index])):e.index;UD(g,t,n,o,a,h,!1)}return l}function NP(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Xi],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function UD(e,t,n,r,i,o,s){let a=t.firstCreatePass?$h(t):null,c=Hh(n),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function Iw(e,t,n,r,i,o){let s=t[n],a=t[D],l=a.data[n].outputs[r],d=s[l].subscribe(o);UD(e.index,a,t,i,o,d,!0)}var zp=Symbol("BINDING");var Bl=class extends Hs{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=qt(t);return new Zr(n,this.ngModule)}};function MP(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&ou.SignalBased)!==0};return i&&(o.transform=i),o})}function OP(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function kP(e,t,n){let r=t instanceof se?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new co(n,r):n}function PP(e){let t=e.get(Yr,null);if(t===null)throw new I(407,!1);let n=e.get(OD,null),r=e.get(zt,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function xP(e,t){let n=VD(e);return Dg(t,n,n==="svg"?Fh:n==="math"?CI:null)}function VD(e){return(e.selectors[0][0]||"div").toLowerCase()}var Zr=class extends gu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=MP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=OP(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=JO(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){G(22);let a=P(null);try{let c=this.componentDef,l=LP(r,c,s,o),u=kP(c,i||this.ngModule,t),d=PP(u),f=d.rendererFactory.createRenderer(null,c),h=r?Ik(f,r,c.encapsulation,u):xP(c,f),g=s?.some(ww)||o?.some(A=>typeof A!="function"&&A.bindings.some(ww)),v=Sg(null,l,null,512|rD(c),null,null,d,f,u,null,kC(h,u,!0));v[ee]=h,hl(v);let w=null;try{let A=Wg(ee,v,2,"#host",()=>l.directiveRegistry,!0,0);h&&(nD(f,h,A),fo(h,v)),au(l,v,A),gg(l,A,v),zg(l,A),n!==void 0&&jP(A,this.ngContentSelectors,n),w=gt(A.index,v),v[Oe]=w[Oe],Ug(l,v,null)}catch(A){throw w!==null&&bp(w),bp(v),A}finally{G(23),pl()}return new Hl(this.componentType,v,!!g)}finally{P(a)}}};function LP(e,t,n,r){let i=e?["ng-version","20.2.4"]:XO(t.selectors[0]),o=null,s=null,a=0;if(n)for(let u of n)a+=u[zp].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let f of d.bindings){a+=f[zp].requiredVars;let h=u+1;f.create&&(f.targetIdx=h,(o??=[]).push(f)),f.update&&(f.targetIdx=h,(s??=[]).push(f))}}let c=[t];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,f=il(d);c.push(f)}return bg(0,null,FP(o,s),1,a,c,null,null,null,[i],null)}function FP(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function ww(e){let t=e[zp].kind;return t==="input"||t==="twoWay"}var Hl=class extends MD{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=no(n[D],ee),this.location=go(this._tNode,n),this.instance=gt(this._tNode.index,n)[Oe],this.hostView=this.changeDetectorRef=new nr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=jg(r,i[D],i,t,n);this.previousInputValues.set(t,n);let s=gt(r.index,i);lu(s,1)}get injector(){return new qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function jP(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Nn=(()=>{class e{static __NG_ELEMENT_ID__=UP}return e})();function UP(){let e=me();return HD(e,F())}var VP=Nn,BD=class extends VP{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return go(this._hostTNode,this._hostLView)}get injector(){return new qr(this._hostTNode,this._hostLView)}get parentInjector(){let t=ig(this._hostTNode,this._hostLView);if(qw(t)){let n=kl(t,this._hostLView),r=Ol(t),i=n[D].data[r+8];return new qr(i,n)}else return new qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Cw(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ke}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$p(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Bp(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let c=t&&!k0(t),l;if(c)l=n;else{let w=n||{};l=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef,s=w.directives,a=w.bindings}let u=c?t:new Zr(qt(t)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let A=(c?d:this.parentInjector).get(se,null);A&&(o=A)}let f=qt(u.componentType??{}),h=$p(this._lContainer,f?.id??null),g=h?.firstChild??null,v=u.create(d,i,g,o,s,a);return this.insertImpl(v.hostView,l,Bp(this._hostTNode,h)),v}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(bI(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[de],l=new BD(c,c[ht],c[de]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return DD(s,i,o,r),t.attachToViewContainerRef(),Sh(mp(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Cw(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=jl(this._lContainer,n);r&&(ys(mp(this._lContainer),n),Mg(r[D],r))}detach(t){let n=this._adjustIndex(t,-1),r=jl(this._lContainer,n);return r&&ys(mp(this._lContainer),n)!=null?new nr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Cw(e){return e[Cs]}function mp(e){return e[Cs]||(e[Cs]=[])}function HD(e,t){let n,r=t[e.index];return it(r)?n=r:(n=CD(r,t,null,e),t[e.index]=n,Ag(t,n)),$D(n,t,e,r),new BD(n,e,t)}function BP(e,t){let n=e[Z],r=n.createComment(""),i=pt(t,e),o=n.parentNode(i);return Fl(n,o,r,n.nextSibling(i),!1),r}var $D=WD,qg=()=>!1;function HP(e,t,n){return qg(e,t,n)}function WD(e,t,n,r){if(e[Zt])return;let i;n.type&8?i=ot(r):i=BP(t,n),e[Zt]=i}function $P(e,t,n){if(e[Zt]&&e[Ct])return!0;let r=n[tt],i=t.index-ee;if(!r||oC(t)||FC(r,i))return!1;let s=Rp(r,i),a=r.data[Jl]?.[i],[c,l]=dP(s,a);return e[Zt]=c,e[Ct]=l,!0}function WP(e,t,n,r){qg(e,n,t)||WD(e,t,n,r)}function zD(){$D=WP,qg=$P}var Gp=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},qp=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Kg(t,n).matches!==null&&this.queries[n].setDirty()}},Kp=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=JP(t):this.predicate=t}},Yp=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Zp=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,zP(n,o)),this.matchTNodeWithReadOption(t,n,Sl(n,t,o,!1,!1))}else r===rr?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Sl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===St||i===Nn||i===rr&&n.type&4)this.addMatch(n.index,-2);else{let o=Sl(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function zP(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function GP(e,t){return e.type&11?go(e,t):e.type&4?uu(e,t):null}function qP(e,t,n,r){return n===-1?GP(t,e):n===-2?KP(e,t,r):Ns(e,e[D],n,t)}function KP(e,t,n){if(n===St)return go(t,e);if(n===rr)return uu(t,e);if(n===Nn)return HD(t,e)}function GD(e,t,n,r){let i=t[Yt].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(qP(t,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Qp(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=GD(e,t,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=t[-c];for(let d=ke;d<u.length;d++){let f=u[d];f[Qn]===f[de]&&Qp(f[D],f,l,r)}if(u[Hr]!==null){let d=u[Hr];for(let f=0;f<d.length;f++){let h=d[f];Qp(h[D],h,l,r)}}}}}return r}function YP(e,t){return e[Yt].queries[t].queryList}function ZP(e,t,n){let r=new xl((n&4)===4);return RI(e,t,r,r.destroy),(t[Yt]??=new qp).queries.push(new Gp(r))-1}function QP(e,t,n,r){let i=Te();if(i.firstCreatePass){let o=me();XP(i,new Kp(t,n,r),o.index),ex(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return ZP(i,F(),n)}function JP(e){return e.split(",").map(t=>t.trim())}function XP(e,t,n){e.queries===null&&(e.queries=new Yp),e.queries.track(new Zp(t,n))}function ex(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Kg(e,t){return e.queries.getByIndex(t)}function tx(e,t){let n=e[D],r=Kg(n,t);return r.crossesNgTemplate?Qp(n,e,t,[]):GD(n,e,r,t)}var Dw=new Set;function Nt(e){Dw.has(e)||(Dw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Qr=class{},mu=class{};var $l=class extends Qr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Bl(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Nh(t);this._bootstrapComponents=ZC(o.bootstrap),this._r3Injector=op(t,n,[{provide:Qr,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver},...r],wn(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Wl=class extends mu{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new $l(this.moduleType,t,[])}};var ks=class extends Qr{injector;componentFactoryResolver=new Bl(this);instance=null;constructor(t){super();let n=new Fr([...t.providers,{provide:Qr,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver}],t.parent||Es(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ni(e,t,n=null){return new ks({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var nx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=ol(!1,n.type),i=r.length>0?ni([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(b(se))})}return e})();function Yg(e){return po(()=>{let t=qD(e),n=z(_({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===og.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(nx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||bn.Emulated,styles:e.styles||et,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Nt("NgStandalone"),KD(n);let r=e.dependencies;return n.directiveDefs=Tw(r,rx),n.pipeDefs=Tw(r,Mh),n.id=sx(n),n})}function rx(e){return qt(e)||il(e)}function ri(e){return po(()=>({type:e.type,bootstrap:e.bootstrap||et,declarations:e.declarations||et,imports:e.imports||et,exports:e.exports||et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ix(e,t){if(e==null)return Zn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=ou.None,c=null),n[o]=[r,a,c],t[o]=s}return n}function ox(e){if(e==null)return Zn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function nn(e){return po(()=>{let t=qD(e);return KD(t),t})}function qD(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Zn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||et,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ix(e.inputs,t),outputs:ox(e.outputs),debugInfo:null}}function KD(e){e.features?.forEach(t=>t(e))}function Tw(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function sx(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function ax(e){return Object.getPrototypeOf(e.prototype).constructor}function YD(e){let t=ax(e.type),n=!0,r=[e];for(;t;){let i;if(Qt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new I(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=vp(e.inputs),s.declaredInputs=vp(e.declaredInputs),s.outputs=vp(e.outputs);let a=i.hostBindings;a&&fx(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&ux(e,c),l&&dx(e,l),cx(e,i),sI(e.outputs,i.outputs),Qt(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===YD&&(n=!1)}}t=Object.getPrototypeOf(t)}lx(r)}function cx(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function lx(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=uo(i.hostAttrs,n=uo(n,i.hostAttrs))}}function vp(e){return e===Zn?{}:e===et?[]:e}function ux(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function dx(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function fx(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function hx(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=uo(e.mergedAttrs,e.attrs);let u=e.tView=bg(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),u.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),io(e,!1);let c=QD(n,t,e,r);gl()&&Og(n,t,c,e),fo(c,t);let l=CD(c,t,c,e);t[r+ee]=l,Ag(t,l),HP(l,e,t)}function px(e,t,n,r,i,o,s,a,c,l,u){let d=n+ee,f;return t.firstCreatePass?(f=du(t,d,4,s||null,a||null),ll()&&kD(t,e,f,Wr(t.consts,l),Pg),Ww(t,f)):f=t.data[d],hx(f,e,t,n,r,i,o,c),to(f)&&au(t,e,f),l!=null&&cu(e,f,u),f}function ZD(e,t,n,r,i,o,s,a){let c=F(),l=Te(),u=Wr(l.consts,o);return px(c,l,e,t,n,r,i,u,void 0,s,a),ZD}var QD=JD;function JD(e,t,n,r){return Tn(!0),t[Z].createComment("")}function gx(e,t,n,r){let i=!ru(t,n);Tn(i);let o=t[tt]?.data[hC]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return JD(e,t);let s=t[tt],a=fu(s,e,t,n);nu(s,r,a);let c=pg(s,r);return hu(c,a)}function XD(){QD=gx}var st=(function(e){return e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e[e.FAILED=3]="FAILED",e})(st||{}),bw=0,mx=1,pe=(function(e){return e[e.Placeholder=0]="Placeholder",e[e.Loading=1]="Loading",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e})(pe||{});var vx=0,$s=1;var yx=4,_x=5;var Ex=7,lo=8,Ix=9,Zg=(function(e){return e[e.Manual=0]="Manual",e[e.Playthrough=1]="Playthrough",e})(Zg||{});function Nl(e,t){let n=Cx(e),r=t[n];if(r!==null){for(let i of r)i();t[n]=null}}function wx(e){Nl(1,e),Nl(0,e),Nl(2,e)}function Cx(e){let t=yx;return e===1?t=_x:e===2&&(t=Ix),t}var vu=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(vu||{}),ii=new E(""),eT=!1,Jp=class extends ge{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,II()&&(this.destroyRef=m(Jt,{optional:!0})??void 0,this.pendingTasks=m(Dt,{optional:!0})??void 0)}emit(t){let n=P(null);try{super.next(t)}finally{P(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof oe&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Pe=Jp;function tT(e){let t,n;function r(){e=Ss;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Sw(e){return queueMicrotask(()=>e()),()=>{e=Ss}}var Qg="isAngularZone",zl=Qg+"_ID",Dx=0,W=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Pe(!1);onMicrotaskEmpty=new Pe(!1);onStable=new Pe(!1);onError=new Pe(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=eT}=t;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Sx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Tx,Ss,Ss);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Tx={};function Jg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bx(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){tT(()=>{e.callbackScheduled=!1,Xp(e),e.isCheckStableRunning=!0,Jg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Xp(e)}function Sx(e){let t=()=>{bx(e)},n=Dx++;e._inner=e._inner.fork({name:"angular",properties:{[Qg]:!0,[zl]:n,[zl+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Ax(c))return r.invokeTask(o,s,a,c);try{return Aw(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Rw(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Aw(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Rx(c)&&t(),Rw(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Xp(e),Jg(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Xp(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Aw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Rw(e){e._nesting--,Jg(e)}var Ps=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Pe;onMicrotaskEmpty=new Pe;onStable=new Pe;onError=new Pe;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Ax(e){return nT(e,"__ignore_ng_zone__")}function Rx(e){return nT(e,"__scheduler_tick__")}function nT(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Xg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),rT=[0,1,2,3],iT=(()=>{class e{ngZone=m(W);scheduler=m(zt);errorHandler=m(Et,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){m(ii,{optional:!0})}execute(){let n=this.sequences.size>0;n&&G(16),this.executing=!0;for(let r of rT)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&G(17)}register(n){let{view:r}=n;r!==void 0?((r[Br]??=[]).push(n),ro(r),r[N]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(vu.AFTER_NEXT_RENDER,n):n()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),Gl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Br];t&&(this.view[Br]=t.filter(n=>n!==this))}};function yu(e,t){let n=t?.injector??m(ne);return Nt("NgAfterNextRender"),Mx(e,n,t,!0)}function Nx(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Mx(e,t,n,r){let i=t.get(Xg);i.impl??=t.get(iT);let o=t.get(ii,null,{optional:!0}),s=n?.manualCleanup!==!0?t.get(Jt):null,a=t.get(yl,null,{optional:!0}),c=new Gl(i.impl,Nx(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}function oT(e){return e+1}function mo(e,t){let n=e[D],r=oT(t.index);return e[r]}function Ws(e,t){let n=oT(t.index);return e.data[n]}function Ox(e,t,n){let r=t[D],i=Ws(r,n);switch(e){case pe.Complete:return i.primaryTmplIndex;case pe.Loading:return i.loadingTmplIndex;case pe.Error:return i.errorTmplIndex;case pe.Placeholder:return i.placeholderTmplIndex;default:return null}}function Nw(e,t){return t===pe.Placeholder?e.placeholderBlockConfig?.[bw]??null:t===pe.Loading?e.loadingBlockConfig?.[bw]??null:null}function kx(e){return e.loadingBlockConfig?.[mx]??null}function Mw(e,t){if(!e||e.length===0)return t;let n=new Set(e);for(let r of t)n.add(r);return e.length===n.size?e:Array.from(n)}function Px(e,t){let n=t.primaryTmplIndex+ee;return no(e,n)}var xx=(()=>{class e{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?ni(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:e,providedIn:"environment",factory:()=>new e})}return e})();var sT=new E("");function yp(e,t,n){return e.get(xx).getOrCreateInjector(t,e,n,"")}function Lx(e,t,n){if(e instanceof co){let i=e.injector,o=e.parentInjector,s=yp(o,t,n);return new co(i,s)}let r=e.get(se);if(r!==e){let i=yp(r,t,n);return new co(e,i)}return yp(e,t,n)}function Gr(e,t,n,r=!1){let i=n[de],o=i[D];if(Jn(i))return;let s=mo(i,t),a=s[$s],c=s[Ex];if(!(c!==null&&e<c)&&Ow(a,e)&&Ow(s[vx]??-1,e)){let l=Ws(o,t),d=!r&&!0&&(kx(l)!==null||Nw(l,pe.Loading)!==null||Nw(l,pe.Placeholder))?Ux:jx;try{d(e,s,n,t,i)}catch(f){Fg(i,f)}}}function Fx(e,t){let n=e[Ct]?.findIndex(i=>i.data[vC]===t[$s])??-1;return{dehydratedView:n>-1?e[Ct][n]:null,dehydratedViewIx:n}}function jx(e,t,n,r,i){G(20);let o=Ox(e,i,r);if(o!==null){t[$s]=e;let s=i[D],a=o+ee,c=no(s,a),l=0;Kk(n,l);let u;if(e===pe.Complete){let g=Ws(s,r),v=g.providers;v&&v.length>0&&(u=Lx(i[wt],g,v))}let{dehydratedView:d,dehydratedViewIx:f}=Fx(n,t),h=hD(i,c,null,{injector:u,dehydratedView:d});if(DD(n,h,l,Bp(c,d)),lu(h,2),f>-1&&n[Ct]?.splice(f,1),(e===pe.Complete||e===pe.Error)&&Array.isArray(t[lo])){for(let g of t[lo])g();t[lo]=null}}G(21)}function Ow(e,t){return e<t}function kw(e,t,n){e.loadingPromise.then(()=>{e.loadingState===st.COMPLETE?Gr(pe.Complete,t,n):e.loadingState===st.FAILED&&Gr(pe.Error,t,n)})}var Ux=null;var _u=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var em=new E("");function vo(e){return!!e&&typeof e.then=="function"}function tm(e){return!!e&&typeof e.subscribe=="function"}var nm=new E("");function Eu(e){return Ie([{provide:nm,multi:!0,useValue:e}])}var rm=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=m(nm,{optional:!0})??[];injector=m(ne);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=fe(this.injector,i);if(vo(o))n.push(o);else if(tm(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mn=new E("");function aT(){Ff(()=>{let e="";throw new I(600,e)})}function cT(e){return e.isBoundToModule}var Vx=10;var Ze=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=m(je);afterRenderManager=m(Xg);zonelessEnabled=m(oo);rootEffectScheduler=m(lp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ge;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=m(Dt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(H(n=>!n))}constructor(){m(ii,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=m(se);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=ne.NULL){return this._injector.get(W).run(()=>{G(10);let s=n instanceof gu;if(!this._injector.get(rm).done){let g="";throw new I(405,g)}let c;s?c=n:c=this._injector.get(Hs).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=cT(c)?void 0:this._injector.get(Qr),u=r||c.selector,d=c.create(i,[],u,l),f=d.location.nativeElement,h=d.injector.get(em,null);return h?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Rs(this.components,d),h?.unregisterApplication(f)}),this._loadComponent(d),G(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){G(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(vu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new I(101,!1);let n=P(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(n),this.afterTick.next(),G(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Vx;)G(14),this.synchronizeOnce(),G(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ds(i))continue;let o=r&&!this.zonelessEnabled?0:1;Vg(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ds(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Rs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Mn,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Rs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Rs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function lT(e,t,n){let r=t[wt],i=t[D];if(e.loadingState!==st.NOT_STARTED)return e.loadingPromise??Promise.resolve();let o=mo(t,n),s=Px(i,e);e.loadingState=st.IN_PROGRESS,Nl(1,o);let a=e.dependencyResolverFn,c=r.get(tr).add();return a?(e.loadingPromise=Promise.allSettled(a()).then(l=>{let u=!1,d=[],f=[];for(let h of l)if(h.status==="fulfilled"){let g=h.value,v=qt(g)||il(g);if(v)d.push(v);else{let w=Mh(g);w&&f.push(w)}}else{u=!0;break}if(u){if(e.loadingState=st.FAILED,e.errorTmplIndex===null){let g=new I(-750,!1);Fg(t,g)}}else{e.loadingState=st.COMPLETE;let h=s.tView;if(d.length>0){h.directiveRegistry=Mw(h.directiveRegistry,d);let g=d.map(w=>w.type),v=ol(!1,...g);e.providers=v}f.length>0&&(h.pipeRegistry=Mw(h.pipeRegistry,f))}}),e.loadingPromise.finally(()=>{e.loadingPromise=null,c()})):(e.loadingPromise=Promise.resolve().then(()=>{e.loadingPromise=null,e.loadingState=st.COMPLETE,c()}),e.loadingPromise)}function Bx(e,t){return t[wt].get(sT,null,{optional:!0})?.behavior!==Zg.Manual}function Hx(e,t,n){let r=t[D],i=t[n.index];if(!Bx(e,t))return;let o=mo(t,n),s=Ws(r,n);switch(wx(o),s.loadingState){case st.NOT_STARTED:Gr(pe.Loading,n,i),lT(s,t,n),s.loadingState===st.IN_PROGRESS&&kw(s,n,i);break;case st.IN_PROGRESS:Gr(pe.Loading,n,i),kw(s,n,i);break;case st.COMPLETE:Gr(pe.Complete,n,i);break;case st.FAILED:Gr(pe.Error,n,i);break;default:}}function uT(e,t,n){return p(this,null,function*(){let r=e.get(eu);if(r.hydrating.has(t))return;let{parentBlockPromise:o,hydrationQueue:s}=yO(t,e);if(s.length===0)return;o!==null&&s.shift(),zx(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield Pw(e,s,n):r.awaitParentBlock(a,()=>p(null,null,function*(){return yield Pw(e,s,n)}))})}function Pw(e,t,n){return p(this,null,function*(){let r=e.get(eu),i=r.hydrating,o=e.get(Dt),s=o.add();for(let c=0;c<t.length;c++){let l=t[c],u=r.get(l);if(u!=null){if(yield qx(u),yield Gx(e),$x(u)){lP(u),xw(t.slice(c),r);break}i.get(l).resolve()}else{Wx(c,t,r),xw(t.slice(c),r);break}}let a=t[t.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(t),uP(r.get(a),t,r,e.get(Ze))})}function $x(e){return mo(e.lView,e.tNode)[$s]===pe.Error}function Wx(e,t,n){let r=e-1,i=r>-1?n.get(t[r]):null;i&&pu(i.lContainer)}function xw(e,t){let n=t.hydrating;for(let r in e)n.get(r)?.reject();t.cleanup(e)}function zx(e,t){for(let n of t)e.hydrating.set(n,Promise.withResolvers())}function Gx(e){return new Promise(t=>yu(t,{injector:e}))}function qx(e){return p(this,null,function*(){let{tNode:t,lView:n}=e,r=mo(n,t);return new Promise(i=>{Kx(r,i),Hx(2,n,t)})})}function Kx(e,t){Array.isArray(e[lo])||(e[lo]=[]),e[lo].push(t)}function Iu(e,t,n,r){let i=F(),o=zr();if(bt(i,o,t)){let s=Te(),a=bs();Rk(a,i,e,t,n,r)}return Iu}var im=new E("",{providedIn:"root",factory:()=>!1}),om=new E("",{providedIn:"root",factory:()=>Yx}),Yx=4e3;var jK=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function dT(e,t,n){let r=F(),i=zr();if(bt(r,i,t)){let o=Te(),s=bs();dD(s,r,e,t,r[Z],n)}return dT}function Lw(e,t,n,r,i){jg(t,e,n,i?"class":"style",r)}function sm(e,t,n,r){let i=F(),o=i[D],s=e+ee,a=o.firstCreatePass?Wg(s,i,2,t,Pg,ll(),n,r):o.data[s];if(xg(a,i,e,t,um),to(a)){let c=i[D];au(c,i,a),gg(c,a,i)}return r!=null&&cu(i,a),sm}function am(){let e=Te(),t=me(),n=Lg(t);return e.firstCreatePass&&zg(e,n),Gh(n)&&qh(),Wh(),n.classesWithoutHost!=null&&U0(n)&&Lw(e,n,F(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&V0(n)&&Lw(e,n,F(),n.stylesWithoutHost,!1),am}function wu(e,t,n,r){return sm(e,t,n,r),am(),wu}function cm(e,t,n,r){let i=F(),o=i[D],s=e+ee,a=o.firstCreatePass?bP(s,o,2,t,n,r):o.data[s];return xg(a,i,e,t,um),r!=null&&cu(i,a),cm}function lm(){let e=me(),t=Lg(e);return Gh(t)&&qh(),Wh(),lm}function fT(e,t,n,r){return cm(e,t,n,r),lm(),fT}var um=(e,t,n,r,i)=>(Tn(!0),Dg(t[Z],r,ip()));function Zx(e,t,n,r,i){let o=!ru(t,n);if(Tn(o),o)return Dg(t[Z],r,ip());let s=t[tt],a=fu(s,e,t,n);return LC(s,i)&&nu(s,i,a.nextSibling),s&&(rC(n)||iC(a))&&Cn(n)&&(OI(n),tD(a)),a}function hT(){um=Zx}function pT(e,t,n){let r=F(),i=r[D],o=e+ee,s=i.firstCreatePass?Wg(o,r,8,"ng-container",Pg,ll(),t,n):i.data[o];if(xg(s,r,e,"ng-container",mT),to(s)){let a=r[D];au(a,r,s),gg(a,s,r)}return n!=null&&cu(r,s),pT}function gT(){let e=Te(),t=me(),n=Lg(t);return e.firstCreatePass&&zg(e,n),gT}var mT=(e,t,n,r,i)=>(Tn(!0),XC(t[Z],""));function Qx(e,t,n,r,i){let o,s=!ru(t,n);if(Tn(s),s)return XC(t[Z],"");let a=t[tt],c=fu(a,e,t,n),l=mO(a,i);return nu(a,i,c),o=hu(l,c),o}function vT(){mT=Qx}function Jx(){return F()}function yT(e,t,n){let r=F(),i=zr();if(bt(r,i,t)){let o=Te(),s=bs();fD(s,r,e,t,r[Z],n)}return yT}var zs="en-US";var Xx=zs;function _T(e){typeof e=="string"&&(Xx=e.toLowerCase().replace(/_/g,"-"))}function Cu(e,t,n){let r=F(),i=Te(),o=me();return ET(i,r,r[Z],o,e,t,n),Cu}function ET(e,t,n,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=gp(r,t,o),RP(r,e,t,s,n,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let f=u[d],h=u[d+1];c??=gp(r,t,o),Iw(r,t,f,h,i,c)}if(l&&l.length)for(let d of l)c??=gp(r,t,o),Iw(r,t,d,i,i,c)}}function eL(e=1){return GI(e)}function dm(e,t,n,r){QP(e,t,n,r)}function fm(e){let t=F(),n=Te(),r=tp();fl(r+1);let i=Kg(n,r);if(e.dirty&&TI(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=tx(t,r);e.reset(o,X0),e.notifyOnChanges()}return!0}return!1}function hm(){return YP(F(),tp())}function tL(e){let t=FI();return DI(t,ee+e)}function Dl(e,t){return e<<17|t<<2}function Jr(e){return e>>17&32767}function nL(e){return(e&2)==2}function rL(e,t){return e&131071|t<<17}function eg(e){return e|2}function ho(e){return(e&131068)>>2}function _p(e,t){return e&-131069|t<<2}function iL(e){return(e&1)===1}function tg(e){return e|1}function oL(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Jr(s),c=ho(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ji(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Jr(e[a+1]);e[r+1]=Dl(f,a),f!==0&&(e[f+1]=_p(e[f+1],r)),e[a+1]=rL(e[a+1],r)}else e[r+1]=Dl(a,0),a!==0&&(e[a+1]=_p(e[a+1],r)),a=r;else e[r+1]=Dl(c,0),a===0?a=r:e[c+1]=_p(e[c+1],r),c=r;l&&(e[r+1]=eg(e[r+1])),Fw(e,u,r,!0),Fw(e,u,r,!1),sL(t,u,e,r,o),s=Dl(a,c),o?t.classBindings=s:t.styleBindings=s}function sL(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ji(o,t)>=0&&(n[r+1]=tg(n[r+1]))}function Fw(e,t,n,r){let i=e[n+1],o=t===null,s=r?Jr(i):ho(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];aL(c,t)&&(a=!0,e[s+1]=r?tg(l):eg(l)),s=r?Jr(l):ho(l)}a&&(e[n+1]=r?eg(i):tg(i))}function aL(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ji(e,t)>=0:!1}function IT(e,t){return cL(e,t,null,!0),IT}function cL(e,t,n,r){let i=F(),o=Te(),s=ul(2);if(o.firstUpdatePass&&uL(o,e,s,r),t!==Ue&&bt(i,s,t)){let a=o.data[Dn()];gL(o,a,i,i[Z],e,i[s+1]=mL(t,n),r,s)}}function lL(e,t){return t>=e.expandoStartIndex}function uL(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Dn()],s=lL(e,n);vL(o,r)&&t===null&&!s&&(t=!1),t=dL(i,o,t,r),oL(i,o,t,n,s,r)}}function dL(e,t,n,r){let i=HI(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Ep(null,e,t,n,r),n=xs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Ep(i,e,t,n,r),o===null){let c=fL(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Ep(null,e,t,c[1],r),c=xs(c,t.attrs,r),hL(e,t,r,c))}else o=pL(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function fL(e,t,n){let r=n?t.classBindings:t.styleBindings;if(ho(r)!==0)return e[Jr(r)]}function hL(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Jr(i)]=r}function pL(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=xs(r,s,n)}return xs(r,t.attrs,n)}function Ep(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=xs(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function xs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),gI(e,s,n?!0:t[++o]))}return e===void 0?null:e}function gL(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=iL(l)?jw(c,t,n,i,ho(l),s):void 0;if(!ql(u)){ql(o)||nL(l)&&(o=jw(c,null,n,i,a,s));let d=jh(Dn(),n);Ek(r,s,d,i,o)}}function jw(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===Ue&&(f=d?et:void 0);let h=d?rl(f,r):u===r?f:void 0;if(l&&!ql(h)&&(h=rl(c,r)),ql(h)&&(a=h,s))return a;let g=e[i+1];i=s?Jr(g):ho(g)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=rl(c,r))}return a}function ql(e){return e!==void 0}function mL(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=wn(At(e)))),e}function vL(e,t){return(e.flags&(t?8:16))!==0}function yL(e,t=""){let n=F(),r=Te(),i=e+ee,o=r.firstCreatePass?du(r,i,1,t,null):r.data[i],s=wT(r,n,o,t,e);n[i]=s,gl()&&Og(r,n,s,o),io(o,!1)}var wT=(e,t,n,r,i)=>(Tn(!0),JC(t[Z],r));function _L(e,t,n,r,i){let o=!ru(t,n);if(Tn(o),o)return JC(t[Z],r);let s=t[tt];return fu(s,e,t,n)}function CT(){wT=_L}function DT(e,t,n,r=""){return bt(e,zr(),n)?t+It(n)+r:Ue}function EL(e,t,n,r,i,o=""){let s=ep(),a=jD(e,s,n,i);return ul(2),a?t+It(n)+r+It(i)+o:Ue}function IL(e,t,n,r,i,o,s,a=""){let c=ep(),l=AP(e,c,n,i,s);return ul(3),l?t+It(n)+r+It(i)+o+It(s)+a:Ue}function TT(e){return pm("",e),TT}function pm(e,t,n){let r=F(),i=DT(r,e,t,n);return i!==Ue&&gm(r,Dn(),i),pm}function bT(e,t,n,r,i){let o=F(),s=EL(o,e,t,n,r,i);return s!==Ue&&gm(o,Dn(),s),bT}function ST(e,t,n,r,i,o,s){let a=F(),c=IL(a,e,t,n,r,i,o,s);return c!==Ue&&gm(a,Dn(),c),ST}function gm(e,t,n){let r=jh(t,e);ek(e[Z],r,n)}function AT(e,t,n){ap(t)&&(t=t());let r=F(),i=zr();if(bt(r,i,t)){let o=Te(),s=bs();dD(s,r,e,t,r[Z],n)}return AT}function wL(e,t){let n=ap(e);return n&&e.set(t),n}function RT(e,t){let n=F(),r=Te(),i=me();return ET(r,n,n[Z],i,e,t),RT}function CL(e){return bt(F(),zr(),e)?It(e):Ue}function DL(e,t,n=""){return DT(F(),e,t,n)}function TL(e,t,n){let r=Te();if(r.firstCreatePass){let i=Qt(e);ng(n,r.data,r.blueprint,i,!0),ng(t,r.data,r.blueprint,i,!1)}}function ng(e,t,n,r,i){if(e=De(e),Array.isArray(e))for(let o=0;o<e.length;o++)ng(e[o],t,n,r,i);else{let o=Te(),s=F(),a=me(),c=Lr(e)?e:De(e.provide),l=kh(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Lr(e)||!e.multi){let h=new Kr(l,i,ie,null),g=wp(c,t,i?u:u+f,d);g===-1?(Dp(Pl(a,s),o,c),Ip(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=wp(c,t,u+f,d),g=wp(c,t,u,u+f),v=h>=0&&n[h],w=g>=0&&n[g];if(i&&!w||!i&&!v){Dp(Pl(a,s),o,c);let A=AL(i?SL:bL,n.length,i,r,l,e);!i&&w&&(n[g].providerFactory=A),Ip(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)}else{let A=NT(n[i?g:h],l,!i&&r);Ip(o,e,h>-1?h:g,A)}!i&&r&&w&&n[g].componentProviders++}}}function Ip(e,t,n,r){let i=Lr(t),o=EI(t);if(i||o){let c=(o?De(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function NT(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function wp(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function bL(e,t,n,r,i){return rg(this.multi,[])}function SL(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ns(r,r[D],this.providerFactory.index,i);s=c.slice(0,a),rg(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],rg(o,s);return s}function rg(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function AL(e,t,n,r,i,o){let s=new Kr(e,n,ie,null);return s.multi=[],s.index=t,s.componentProviders=0,NT(s,i,r&&!n),s}function RL(e,t=[]){return n=>{n.providersResolver=(r,i)=>TL(r,i?i(e):e,t)}}function NL(e,t,n){let r=Xh()+e,i=F();return i[r]===Ue?FD(i,r,n?t.call(n):t()):SP(i,r)}function ML(e,t,n,r){return kL(F(),Xh(),e,t,n,r)}function OL(e,t){let n=e[t];return n===Ue?void 0:n}function kL(e,t,n,r,i,o){let s=t+n;return bt(e,s,i)?FD(e,s+1,o?r.call(o,i):r(i)):OL(e,s+1)}function PL(e,t){return uu(e,t)}var Kl=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},mm=(()=>{class e{compileModuleSync(n){return new Wl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Nh(n),o=ZC(i.declarations).reduce((s,a)=>{let c=qt(a);return c&&s.push(new Zr(c)),s},[]);return new Kl(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var xL=(()=>{class e{zone=m(W);changeDetectionScheduler=m(zt);applicationRef=m(Ze);applicationErrorHandler=m(je);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new W(z(_({},OT()),{scheduleInRootZone:n})),[{provide:W,useFactory:e},{provide:dt,multi:!0,useFactory:()=>{let r=m(xL,{optional:!0});return()=>r.initialize()}},{provide:dt,multi:!0,useFactory:()=>{let r=m(LL);return()=>{r.initialize()}}},t===!0?{provide:cp,useValue:!0}:[],{provide:vl,useValue:n??eT},{provide:je,useFactory:()=>{let r=m(W),i=m(se),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Et),o.handleError(s))})}}}]}function OT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var LL=(()=>{class e{subscription=new oe;initialized=!1;zone=m(W);pendingTasks=m(Dt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var vm=(()=>{class e{applicationErrorHandler=m(je);appRef=m(Ze);taskService=m(Dt);ngZone=m(W);zonelessEnabled=m(oo);tracing=m(ii,{optional:!0});disableScheduling=m(cp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new oe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(zl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(vl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ps||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Sw:tT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(zl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Sw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FL(){return Nt("NgZoneless"),Ie([{provide:zt,useExisting:vm},{provide:W,useClass:Ps},{provide:oo,useValue:!0},{provide:vl,useValue:!1},[]])}function jL(){return typeof $localize<"u"&&$localize.locale||zs}var Du=new E("",{providedIn:"root",factory:()=>m(Du,{optional:!0,skipSelf:!0})||jL()});function rn(e){return rI(e)}function PT(e,t){return wc(e,t?.equal)}var kT=class{[Me];constructor(t){this[Me]=t}destroy(){this[Me].destroy()}};var wm={JSACTION:"__jsaction",OWNER:"__owner"},jT={};function UL(e){return e[wm.JSACTION]}function xT(e,t){e[wm.JSACTION]=t}function VL(e){return jT[e]}function BL(e,t){jT[e]=t}var S={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},HL=[S.MOUSEENTER,S.MOUSELEAVE,"pointerenter","pointerleave"],JK=[S.CLICK,S.DBLCLICK,S.FOCUSIN,S.FOCUSOUT,S.KEYDOWN,S.KEYUP,S.KEYPRESS,S.MOUSEOVER,S.MOUSEOUT,S.SUBMIT,S.TOUCHSTART,S.TOUCHEND,S.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],$L=[S.FOCUS,S.BLUR,S.ERROR,S.LOAD,S.TOGGLE],Cm=e=>$L.indexOf(e)>=0;function WL(e){return e===S.MOUSEENTER?S.MOUSEOVER:e===S.MOUSELEAVE?S.MOUSEOUT:e===S.POINTERENTER?S.POINTEROVER:e===S.POINTERLEAVE?S.POINTEROUT:e}function zL(e,t,n,r){let i=!1;Cm(t)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return e.addEventListener(t,n,o),{eventType:t,handler:n,capture:i,passive:r}}function GL(e,t){if(e.removeEventListener){let n=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;e.removeEventListener(t.eventType,t.handler,n)}else e.detachEvent&&e.detachEvent(`on${t.eventType}`,t.handler)}function qL(e){e.preventDefault?e.preventDefault():e.returnValue=!1}var LT=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function KL(e){return e.which===2||e.which==null&&e.button===4}function YL(e){return LT&&e.metaKey||!LT&&e.ctrlKey||KL(e)||e.shiftKey}function ZL(e,t,n){let r=e.relatedTarget;return(e.type===S.MOUSEOVER&&t===S.MOUSEENTER||e.type===S.MOUSEOUT&&t===S.MOUSELEAVE||e.type===S.POINTEROVER&&t===S.POINTERENTER||e.type===S.POINTEROUT&&t===S.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function QL(e,t){let n={};for(let r in e){if(r==="srcElement"||r==="target")continue;let i=r,o=e[i];typeof o!="function"&&(n[i]=o)}return e.type===S.MOUSEOVER?n.type=S.MOUSEENTER:e.type===S.MOUSEOUT?n.type=S.MOUSELEAVE:e.type===S.POINTEROVER?n.type=S.POINTERENTER:n.type=S.POINTERLEAVE,n.target=n.srcElement=t,n.bubbles=!1,n._originalEvent=e,n}var JL=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Au=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,n,r){JL&&(this.element.style.cursor="pointer"),this.handlerInfos.push(zL(this.element,t,n(this.element),r))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)GL(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},XL={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function or(e){return e.eventType}function Dm(e,t){e.eventType=t}function bu(e){return e.event}function UT(e,t){e.event=t}function VT(e){return e.targetElement}function BT(e,t){e.targetElement=t}function HT(e){return e.eic}function eF(e,t){e.eic=t}function tF(e){return e.timeStamp}function nF(e,t){e.timeStamp=t}function Su(e){return e.eia}function $T(e,t,n){e.eia=[t,n]}function ym(e){e.eia=void 0}function Tu(e){return e[1]}function rF(e){return e.eirp}function WT(e,t){e.eirp=t}function zT(e){return e.eir}function GT(e,t){e.eir=t}function qT(e){return{eventType:e.eventType,event:e.event,targetElement:e.targetElement,eic:e.eic,eia:e.eia,timeStamp:e.timeStamp,eirp:e.eirp,eiack:e.eiack,eir:e.eir}}function iF(e,t,n,r,i,o,s,a){return{eventType:e,event:t,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var _m=class e{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return or(this.eventInfo)}setEventType(t){Dm(this.eventInfo,t)}getEvent(){return bu(this.eventInfo)}setEvent(t){UT(this.eventInfo,t)}getTargetElement(){return VT(this.eventInfo)}setTargetElement(t){BT(this.eventInfo,t)}getContainer(){return HT(this.eventInfo)}setContainer(t){eF(this.eventInfo,t)}getTimestamp(){return tF(this.eventInfo)}setTimestamp(t){nF(this.eventInfo,t)}getAction(){let t=Su(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){ym(this.eventInfo);return}$T(this.eventInfo,t.name,t.element)}getIsReplay(){return rF(this.eventInfo)}setIsReplay(t){WT(this.eventInfo,t)}getResolved(){return zT(this.eventInfo)}setResolved(t){GT(this.eventInfo,t)}clone(){return new e(qT(this.eventInfo))}},oF={},sF=/\s*;\s*/,aF=S.CLICK,Em=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=n}resolveEventType(t){this.clickModSupport&&or(t)===S.CLICK&&YL(bu(t))?Dm(t,S.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){zT(t)||(this.populateAction(t,VT(t)),GT(t,!0))}resolveParentAction(t){let n=Su(t),r=n&&Tu(n);ym(t);let i=r&&this.getParentNode(r);i&&this.populateAction(t,i)}populateAction(t,n){let r=n;for(;r&&r!==HT(t)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,t),!Su(t));)r=this.getParentNode(r);let i=Su(t);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(or(t)===S.MOUSEENTER||or(t)===S.MOUSELEAVE||or(t)===S.POINTERENTER||or(t)===S.POINTERLEAVE)))if(ZL(bu(t),or(t),Tu(i))){let o=QL(bu(t),Tu(i));UT(t,o),BT(t,Tu(i))}else ym(t)}getParentNode(t){let n=t[wm.OWNER];if(n)return n;let r=t.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(t,n){let r=this.parseActions(t),i=r[or(n)];i!==void 0&&$T(n,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,n,r)}parseActions(t){let n=UL(t);if(!n){let r=t.getAttribute(_l.JSACTION);if(!r)n=oF,xT(t,n);else{if(n=VL(r),!n){n={};let i=r.split(sF);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(XL.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?s.substr(0,a).trim():aF,u=c?s.substr(a+1).trim():s;n[l]=u}BL(r,n)}xT(t,n)}}return n}addA11yClickSupport(t,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},KT=(function(e){return e[e.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",e})(KT||{}),Im=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=t,this.actionResolver=n,this.eventReplayer=r}dispatch(t){let n=new _m(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let r=n.getAction();if(r&&cF(r.element,n)&&qL(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function cF(e,t){return e.tagName==="A"&&(t.getEventType()===S.CLICK||t.getEventType()===S.CLICKMOD)}var YT=Symbol.for("propagationStopped"),Tm={REPLAY:101};var lF="`preventDefault` called during event replay.";var uF="`composedPath` called during event replay.",Ru=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,n=!0){this.dispatchDelegate=t,this.clickModSupport=n,this.actionResolver=new Em({clickModSupport:n}),this.dispatcher=new Im(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&hF(t),dF(t);t.getAction();){if(pF(t),Cm(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),fF(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function dF(e){let t=e.getEvent(),n=e.getEvent().stopPropagation.bind(t),r=()=>{t[YT]=!0,n()};oi(t,"stopPropagation",r),oi(t,"stopImmediatePropagation",r)}function fF(e){return!!e.getEvent()[YT]}function hF(e){let t=e.getEvent(),n=e.getTargetElement(),r=t.preventDefault.bind(t);oi(t,"target",n),oi(t,"eventPhase",Tm.REPLAY),oi(t,"preventDefault",()=>{throw r(),new Error(lF+"")}),oi(t,"composedPath",()=>{throw new Error(uF+"")})}function pF(e){let t=e.getEvent(),n=e.getAction()?.element;n&&oi(t,"currentTarget",n,{configurable:!0})}function oi(e,t,n,{configurable:r=!1}={}){Object.defineProperty(e,t,{value:n,configurable:r})}function ZT(e,t){e.ecrd(n=>{t.dispatch(n)},KT.I_AM_THE_JSACTION_FRAMEWORK)}function gF(e){return e?.q??[]}function mF(e){e&&(FT(e.c,e.et,e.h),FT(e.c,e.etc,e.h,!0))}function FT(e,t,n,r){for(let i=0;i<t.length;i++)e.removeEventListener(t[i],n,r)}var vF=!1,QT=(()=>{class e{static MOUSE_SPECIAL_SUPPORT=vF;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=iF(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){WT(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!e.MOUSE_SPECIAL_SUPPORT&&HL.indexOf(n)>=0)return;let o=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[n]=o;let s=WL(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{o(n,c,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),mF(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=qT(i);Dm(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return e})();function JT(e,t=window){return gF(t._ejsas?.[e])}function bm(e,t=window){t._ejsas&&(t._ejsas[e]=void 0)}var sb=Symbol("InputSignalNode#UNSET"),FF=z(_({},Cc),{transformFn:void 0,applyValueToInputSignal(e,t){Fi(e,t)}});function ab(e,t){let n=Object.create(FF);n.value=e,n.transformFn=t?.transform;function r(){if(Pi(n),n.value===sb){let i=null;throw new I(-950,i)}return n.value}return r[Me]=n,r}var ku=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Ls(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},jF=new E("");jF.__NG_ELEMENT_ID__=e=>{let t=me();if(t===null)throw new I(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new I(204,!1)};function XT(e,t){return ab(e,t)}function UF(e){return ab(sb,e)}var cb=(XT.required=UF,XT);var si=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},lb=new si("20.2.4");var Sm=new E(""),VF=new E("");function Gs(e){return!e.moduleRef}function BF(e){let t=Gs(e)?e.r3Injector:e.moduleRef.injector,n=t.get(W);return n.run(()=>{Gs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(je),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Gs(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Sm);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Sm);s.add(o),e.moduleRef.onDestroy(()=>{Rs(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return $F(r,n,()=>{let o=t.get(Dt),s=o.add(),a=t.get(rm);return a.runInitializers(),a.donePromise.then(()=>{let c=t.get(Du,zs);if(_T(c||zs),!t.get(VF,!0))return Gs(e)?t.get(Ze):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Gs(e)){let u=t.get(Ze);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return HF?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var HF;function $F(e,t,n){try{let r=n();return vo(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Mu=null;function WF(e=[],t){return ne.create({name:t,providers:[{provide:_s,useValue:"platform"},{provide:Sm,useValue:new Set([()=>Mu=null])},...e]})}function zF(e=[]){if(Mu)return Mu;let t=WF(e);return Mu=t,aT(),GF(t),t}function GF(e){let t=e.get(Zl,null);fe(e,()=>{t?.forEach(n=>n())})}function Om(){return!1}var yo=(()=>{class e{static __NG_ELEMENT_ID__=qF}return e})();function qF(e){return KF(me(),F(),(e&16)===16)}function KF(e,t,n){if(Cn(e)&&!n){let r=gt(e.index,t);return new nr(r,r)}else if(e.type&175){let r=t[Ke];return new nr(r,t)}return null}var Am=class{constructor(){}supports(t){return Gg(t)}create(t){return new Rm(t)}},YF=(e,t)=>t,Rm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||YF}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<eb(r,i,o)?n:r,a=eb(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Gg(t))throw new I(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,xD(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new Nm(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Pu),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Nm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Mm=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Pu=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Mm,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eb(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function tb(){return new km([new Am])}var km=(()=>{class e{factories;static \u0275prov=C({token:e,providedIn:"root",factory:tb});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{let r=m(e,{optional:!0,skipSelf:!0});return e.create(n,r||tb())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new I(901,!1)}}return e})();function ub(e){G(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=zF(r),o=[MT({}),{provide:zt,useExisting:vm},ZI,...n||[]],s=new ks({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return BF({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{G(9)}}var Nu=new WeakSet,nb="",Ou=[];function rb(e){return e.get(ug,EC)}function db(){let e=[{provide:ug,useFactory:()=>{let t=!0;{let n=m(tn);t=!!window._ejsas?.[n]}return t&&Nt("NgEventReplay"),t}}];return e.push({provide:dt,useValue:()=>{let t=m(Ze),{injector:n}=t;if(!Nu.has(t)){let r=m(dg);if(rb(n)){AC();let i=n.get(tn),o=bC(i,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(wC(s,a,c),CC(s,r))});t.onDestroy(o)}}},multi:!0},{provide:Mn,useFactory:()=>{let t=m(Ze),{injector:n}=t;return()=>{if(!rb(n)||Nu.has(t))return;Nu.add(t);let r=n.get(tn);t.onDestroy(()=>{Nu.delete(t),bm(r)}),t.whenStable().then(()=>{if(t.destroyed)return;let i=n.get(TC);ZF(i,n);let o=n.get(dg);o.get(nb)?.forEach(DC),o.delete(nb);let s=i.instance;xC(n)?t.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),e}var ZF=(e,t)=>{let n=t.get(tn),r=window._ejsas[n],i=e.instance=new QT(new Au(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=JT(n);i.replayEarlyEventInfos(o),bm(n);let s=new Ru(a=>{QF(t,a,a.currentTarget)});ZT(i,s)};function QF(e,t,n){let r=(n&&n.getAttribute(Us))??"";/d\d+/.test(r)?JF(r,e,t,n):t.eventPhase===Tm.REPLAY&&fg(t,n)}function JF(e,t,n,r){Ou.push({event:n,currentTarget:r}),uT(t,e,XF)}function XF(e){let t=[...Ou],n=new Set(e);Ou=[];for(let{event:r,currentTarget:i}of t){let o=i.getAttribute(Us);n.has(o)?fg(r,i):Ou.push({event:r,currentTarget:i})}}var ib=!1;function e1(){ib||(ib=!0,OC(),hT(),CT(),vT(),XD(),zD(),RD(),uD())}function t1(e){return e.whenStable()}function fb(){let e=[{provide:js,useFactory:()=>{let t=!0;return t=!!m(ei,{optional:!0})?.get(hg,null),t&&Nt("NgHydration"),t}},{provide:dt,useValue:()=>{bD(!1),m(js)&&(jC(Fs()),e1())},multi:!0}];return e.push({provide:lg,useFactory:()=>m(js)},{provide:Mn,useFactory:()=>{if(m(js)){let t=m(Ze);return()=>{t1(t).then(()=>{t.destroyed||Hg(t)})}}return()=>{}},multi:!0}),Ie(e)}function qs(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function hb(e){let t=qt(e);if(!t)return null;let n=new Zr(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var mb=null;function On(){return mb}function Pm(e){mb??=e}var Ks=class{},Ys=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>m(vb),providedIn:"platform"})}return e})(),xm=new E(""),vb=(()=>{class e extends Ys{_location;_history;_doc=m(re);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return On().getBaseHref(this._doc)}onPopState(n){let r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=On().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function xu(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function pb(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Mt(e){return e&&e[0]!=="?"?`?${e}`:e}var Ot=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>m(Fu),providedIn:"root"})}return e})(),Lu=new E(""),Fu=(()=>{class e extends Ot{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??m(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return xu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Mt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Mt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Mt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(b(Ys),b(Lu,8))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ar=(()=>{class e{_subject=new ge;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=i1(pb(gb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Mt(r))}normalize(n){return e.stripTrailingSlash(r1(this._basePath,gb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Mt;static joinWithSlash=xu;static stripTrailingSlash=pb;static \u0275fac=function(r){return new(r||e)(b(Ot))};static \u0275prov=C({token:e,factory:()=>n1(),providedIn:"root"})}return e})();function n1(){return new ar(b(Ot))}function r1(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function gb(e){return e.replace(/\/index.html$/,"")}function i1(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Fm=(()=>{class e extends Ot{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=xu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Mt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Mt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(b(Ys),b(Lu,8))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();var Lm=/\s+/,yb=[],o1=(()=>{class e{_ngEl;_renderer;initialClasses=yb;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Lm):yb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Lm):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Lm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(ie(St),ie(ti))};static \u0275dir=nn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var ju=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ib=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ju(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),_b(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);_b(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ie(Nn),ie(rr),ie(km))};static \u0275dir=nn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function _b(e,t){e.context.$implicit=t.item}var s1=(()=>{class e{_viewContainer;_context=new Uu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Eb(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Eb(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ie(Nn),ie(rr))};static \u0275dir=nn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Uu=class{$implicit=null;ngIf=null};function Eb(e,t){if(e&&!e.createEmbeddedView)throw new I(2020,!1)}var wb=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ri({type:e});static \u0275inj=Yn({})}return e})();function jm(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Zs=class{};var Cb="browser";var Db=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>new Um(m(re),window)})}return e})(),Um=class{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo(z(_({},n),{left:t[0],top:t[1]}))}scrollToAnchor(t,n){let r=a1(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Gt(2400,!1))}}scrollToElement(t,n){let r=t.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(z(_({},n),{left:i-s[0],top:o-s[1]}))}};function a1(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}var Bu=new E(""),Wm=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(b(Bu),b(W))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Qs=class{_doc;constructor(t){this._doc=t}manager},Vm="ng-app-id";function Tb(e){for(let t of e)t.remove()}function bb(e,t){let n=t.createElement("style");return n.textContent=e,n}function l1(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Vm}="${t}"],link[${Vm}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Vm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Hm(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var zm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,l1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,bb);r?.forEach(i=>this.addUsage(i,this.external,Hm))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Tb(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Tb(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,bb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Hm(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(b(re),b(tn),b(Ql,8),b(ir))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Bm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gm=/%COMP%/g;var Ab="%COMP%",u1=`_nghost-${Ab}`,d1=`_ngcontent-${Ab}`,f1=!0,h1=new E("",{providedIn:"root",factory:()=>f1});function p1(e){return d1.replace(Gm,e)}function g1(e){return u1.replace(Gm,e)}function Rb(e,t){return t.map(n=>n.replace(Gm,e))}var qm=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,i,o,s,a,c,l=null,u,d,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.animationDisabled=u,this.maxAnimationTimeout=d,this.tracingService=f,this.platformIsServer=!1,this.defaultRenderer=new Js(n,s,c,this.platformIsServer,this.tracingService,this.registry=ml(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Vu?i.applyToHost(n):i instanceof Xs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case bn.Emulated:o=new Vu(c,l,r,this.appId,u,s,a,d,f,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case bn.ShadowDom:return new $m(c,l,n,r,s,a,this.nonce,d,f,this.registry,this.maxAnimationTimeout);default:o=new Xs(c,l,r,u,s,a,d,f,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(b(Wm),b(zm),b(tn),b(h1),b(re),b(ir),b(W),b(Ql),b(im),b(om),b(ii,8))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Js=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o,s,a){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Bm[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Sb(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Sb(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){let{elements:r}=this.registry;if(r){r.animate(n,()=>n.remove(),this.maxAnimationTimeout);return}n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Bm[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Bm[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(en.DashCase|en.Important)?t.style.setProperty(n,r,i&en.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&en.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=On().getGlobalEventTarget(this.doc,t),!t))throw new I(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Sb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var $m=class extends Js{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,c,l,u,d){super(t,o,s,c,l,u,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=Rb(i.id,f);for(let g of f){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=g,this.shadowRoot.appendChild(v)}let h=i.getExternalStyles?.();if(h)for(let g of h){let v=Hm(g,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xs=class extends Js{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,n,r,i,o,s,a,c,l,u,d,f){super(t,o,s,a,c,l,d),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this._animationDisabled=u;let h=r.styles;this.styles=f?Rb(f,h):h,this.styleUrls=r.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Vu=class extends Xs{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,c,l,u,d,f){let h=i+"-"+r.id;super(t,n,r,o,s,a,c,l,u,d,f,h),this.contentAttr=p1(h),this.hostAttr=g1(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Hu=class e extends Ks{supportsDOMEvents=!0;static makeCurrent(){Pm(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=m1();return n==null?null:v1(n)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jm(document.cookie,t)}},ea=null;function m1(){return ea=ea||document.head.querySelector("base"),ea?ea.getAttribute("href"):null}function v1(e){return new URL(e,document.baseURI).pathname}var y1=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Mb=(()=>{class e extends Qs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(b(re))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Nb=["alt","control","meta","shift"],_1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E1={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Ob=(()=>{class e extends Qs{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>On().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Nb.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=_1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Nb.forEach(s=>{if(s!==i){let a=E1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(b(re))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();function I1(e,t){let n=_({rootComponent:e},w1(t));return ub(n)}function w1(e){return{appProviders:[...S1,...e?.providers??[]],platformProviders:b1}}function C1(){Hu.makeCurrent()}function D1(){return new Et}function T1(){return sg(document),document}var b1=[{provide:ir,useValue:Cb},{provide:Zl,useValue:C1,multi:!0},{provide:re,useFactory:T1}];var S1=[{provide:_s,useValue:"root"},{provide:Et,useFactory:D1},{provide:Bu,useClass:Mb,multi:!0,deps:[re]},{provide:Bu,useClass:Ob,multi:!0,deps:[re]},qm,zm,Wm,{provide:Yr,useExisting:qm},{provide:Zs,useClass:y1},[]];var ta=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var A1="X-Request-URL",R1="text/plain",N1="application/json",tee=`${N1}, ${R1}, */*`;var Ym=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Ym||{}),Km=class{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new ta,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}};var $u=class e extends Km{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ym.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}};var kb=new E("");var nee=RegExp(`^${A1}:`,"m");var M1=new E(""),O1="b",k1="h",P1="s",x1="st",L1="u",F1="rt",Zm=new E(""),j1=["GET","HEAD"];function U1(e,t){let h=m(Zm),{isCacheActive:n}=h,r=bE(h,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!j1.includes(o)||!r.includeRequestsWithAuthHeaders&&V1(e)||r.filter?.(e)===!1)return t(e);let s=m(ei);if(m(M1,{optional:!0}))throw new I(2803,!1);let c=e.url,l=B1(e,c),u=s.get(l,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),u){let{[O1]:g,[F1]:v,[k1]:w,[P1]:A,[x1]:Re,[L1]:_e}=u,$t=g;switch(v){case"arraybuffer":$t=new TextEncoder().encode(g).buffer;break;case"blob":$t=new Blob([g]);break}let dc=new ta(w);return T(new $u({body:$t,headers:dc,status:A,statusText:Re,url:_e}))}return t(e)}function V1(e){return e.headers.has("authorization")||e.headers.has("proxy-authorization")}function Pb(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function B1(e,t){let{params:n,method:r,responseType:i}=e,o=Pb(n),s=e.serializeBody();s instanceof URLSearchParams?s=Pb(s):typeof s!="string"&&(s="");let a=[r,i,t,s,o].join("|"),c=H1(a);return c}function H1(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function xb(e){return[{provide:Zm,useFactory:()=>(Nt("NgHttpTransferCache"),_({isCacheActive:!0},e))},{provide:kb,useValue:U1,multi:!0},{provide:Mn,multi:!0,useFactory:()=>{let t=m(Ze),n=m(Zm);return()=>{t.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var Lb=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(b(re))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=b(W1),i},providedIn:"root"})}return e})(),W1=(()=>{class e extends $1{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Rt.NONE:return r;case Rt.HTML:return An(r,"HTML")?At(r):Ig(this._doc,String(r)).toString();case Rt.STYLE:return An(r,"Style")?At(r):r;case Rt.SCRIPT:if(An(r,"Script"))return At(r);throw new I(5200,!1);case Rt.URL:return An(r,"URL")?At(r):Vs(String(r));case Rt.RESOURCE_URL:if(An(r,"ResourceURL"))return At(r);throw new I(5201,!1);default:throw new I(5202,!1)}}bypassSecurityTrustHtml(n){return mg(n)}bypassSecurityTrustStyle(n){return vg(n)}bypassSecurityTrustScript(n){return yg(n)}bypassSecurityTrustUrl(n){return _g(n)}bypassSecurityTrustResourceUrl(n){return Eg(n)}static \u0275fac=function(r){return new(r||e)(b(re))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wu=(function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e[e.I18nSupport=2]="I18nSupport",e[e.EventReplay=3]="EventReplay",e[e.IncrementalHydration=4]="IncrementalHydration",e})(Wu||{});function z1(e,t=[],n={}){return{\u0275kind:e,\u0275providers:t}}function Nee(){return z1(Wu.EventReplay,db())}function Mee(...e){let t=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);let r=n.has(Wu.HttpTransferCacheOptions);return Ie([[],[],fb(),n.has(Wu.NoHttpTransferCache)||r?[]:xb({}),t])}var k="primary",pa=Symbol("RouteTitle"),tv=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function li(e){return new tv(e)}function Wb(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function q1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!on(e[n],t[n]))return!1;return!0}function on(e,t){let n=e?nv(e):void 0,r=t?nv(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!zb(e[i],t[i]))return!1;return!0}function nv(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function zb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function Gb(e){return e.length>0?e[e.length-1]:null}function kn(e){return Xf(e)?e:vo(e)?te(Promise.resolve(e)):T(e)}var K1={exact:Kb,subset:Yb},qb={exact:Y1,subset:Z1,ignored:()=>!0};function Fb(e,t,n){return K1[n.paths](e.root,t.root,n.matrixParams)&&qb[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function Y1(e,t){return on(e,t)}function Kb(e,t,n){if(!ai(e.segments,t.segments)||!qu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Kb(e.children[r],t.children[r],n))return!1;return!0}function Z1(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>zb(e[n],t[n]))}function Yb(e,t,n){return Zb(e,t,t.segments,n)}function Zb(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!ai(i,n)||t.hasChildren()||!qu(i,n,r))}else if(e.segments.length===n.length){if(!ai(e.segments,n)||!qu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!Yb(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!ai(e.segments,i)||!qu(e.segments,i,r)||!e.children[k]?!1:Zb(e.children[k],t,o,r)}}function qu(e,t,n){return t.every((r,i)=>qb[n](e[i].parameters,r.parameters))}var an=class{root;queryParams;fragment;_queryParamMap;constructor(t=new q([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=li(this.queryParams),this._queryParamMap}toString(){return X1.serialize(this)}},q=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ku(this)}},cr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=li(this.parameters),this._parameterMap}toString(){return Jb(this)}};function Q1(e,t){return ai(e,t)&&e.every((n,r)=>on(n.parameters,t[r].parameters))}function ai(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function J1(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===k&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==k&&(n=n.concat(t(i,r)))}),n}var ui=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new lr,providedIn:"root"})}return e})(),lr=class{parse(t){let n=new iv(t);return new an(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${na(t.root,!0)}`,r=nj(t.queryParams),i=typeof t.fragment=="string"?`#${ej(t.fragment)}`:"";return`${n}${r}${i}`}},X1=new lr;function Ku(e){return e.segments.map(t=>Jb(t)).join("/")}function na(e,t){if(!e.hasChildren())return Ku(e);if(t){let n=e.children[k]?na(e.children[k],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==k&&r.push(`${i}:${na(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=J1(e,(r,i)=>i===k?[na(e.children[k],!1)]:[`${i}:${na(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[k]!=null?`${Ku(e)}/${n[0]}`:`${Ku(e)}/(${n.join("//")})`}}function Qb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zu(e){return Qb(e).replace(/%3B/gi,";")}function ej(e){return encodeURI(e)}function rv(e){return Qb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yu(e){return decodeURIComponent(e)}function jb(e){return Yu(e.replace(/\+/g,"%20"))}function Jb(e){return`${rv(e.path)}${tj(e.parameters)}`}function tj(e){return Object.entries(e).map(([t,n])=>`;${rv(t)}=${rv(n)}`).join("")}function nj(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${zu(n)}=${zu(i)}`).join("&"):`${zu(n)}=${zu(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var rj=/^[^\/()?;#]+/;function Qm(e){let t=e.match(rj);return t?t[0]:""}var ij=/^[^\/()?;=#]+/;function oj(e){let t=e.match(ij);return t?t[0]:""}var sj=/^[^=?&#]+/;function aj(e){let t=e.match(sj);return t?t[0]:""}var cj=/^[^&#]+/;function lj(e){let t=e.match(cj);return t?t[0]:""}var iv=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[k]=new q(t,n)),r}parseSegment(){let t=Qm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(t),new cr(Yu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=oj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Qm(this.remaining);i&&(r=i,this.capture(r))}t[Yu(n)]=Yu(r)}parseQueryParam(t){let n=aj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=lj(this.remaining);s&&(r=s,this.capture(r))}let i=jb(n),o=jb(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=k);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[k]:new q([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new I(4011,!1)}};function Xb(e){return e.segments.length>0?new q([],{[k]:e}):e}function eS(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=eS(i);if(r===k&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new q(e.segments,t);return uj(n)}function uj(e){if(e.numberOfChildren===1&&e.children[k]){let t=e.children[k];return new q(e.segments.concat(t.segments),t.children)}return e}function ur(e){return e instanceof an}function tS(e,t,n=null,r=null){let i=nS(e);return rS(i,t,n,r)}function nS(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new q(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Xb(r);return t??i}function rS(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Jm(i,i,i,n,r);let o=dj(t);if(o.toRoot())return Jm(i,i,new q([],{}),n,r);let s=fj(o,i,e),a=s.processChildren?ia(s.segmentGroup,s.index,o.commands):oS(s.segmentGroup,s.index,o.commands);return Jm(i,s.segmentGroup,a,n,r)}function Zu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function sa(e){return typeof e=="object"&&e!=null&&e.outlets}function Jm(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=iS(e,t,n);let a=Xb(eS(s));return new an(a,o,i)}function iS(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=iS(o,t,n)}),new q(e.segments,r)}var Qu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Zu(r[0]))throw new I(4003,!1);let i=r.find(sa);if(i&&i!==Gb(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dj(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Qu(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Qu(n,t,r)}var Io=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function fj(e,t,n){if(e.isAbsolute)return new Io(t,!0,0);if(!n)return new Io(t,!1,NaN);if(n.parent===null)return new Io(n,!0,0);let r=Zu(e.commands[0])?0:1,i=n.segments.length-1+r;return hj(n,i,e.numberOfDoubleDots)}function hj(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Io(r,!1,i-o)}function pj(e){return sa(e[0])?e[0].outlets:{[k]:e}}function oS(e,t,n){if(e??=new q([],{}),e.segments.length===0&&e.hasChildren())return ia(e,t,n);let r=gj(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new q(e.segments.slice(0,r.pathIndex),{});return o.children[k]=new q(e.segments.slice(r.pathIndex),e.children),ia(o,0,i)}else return r.match&&i.length===0?new q(e.segments,{}):r.match&&!e.hasChildren()?ov(e,t,n):r.match?ia(e,0,i):ov(e,t,n)}function ia(e,t,n){if(n.length===0)return new q(e.segments,{});{let r=pj(n),i={};if(Object.keys(r).some(o=>o!==k)&&e.children[k]&&e.numberOfChildren===1&&e.children[k].segments.length===0){let o=ia(e.children[k],t,n);return new q(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=oS(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new q(e.segments,i)}}function gj(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(sa(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Vb(c,l,s))return o;r+=2}else{if(!Vb(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ov(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(sa(o)){let c=mj(o.outlets);return new q(r,c)}if(i===0&&Zu(n[0])){let c=e.segments[t];r.push(new cr(c.path,Ub(n[0]))),i++;continue}let s=sa(o)?o.outlets[k]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Zu(a)?(r.push(new cr(s,Ub(a))),i+=2):(r.push(new cr(s,{})),i++)}return new q(r,{})}function mj(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=ov(new q([],{}),0,r))}),t}function Ub(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Vb(e,t,n){return e==n.path&&on(t,n.parameters)}var wo="imperative",ve=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(ve||{}),ct=class{id;url;constructor(t,n){this.id=t,this.url=n}},dr=class extends ct{type=ve.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lt=class extends ct{urlAfterRedirects;type=ve.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ve=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Ve||{}),Do=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Do||{}),sn=class extends ct{reason;code;type=ve.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},cn=class extends ct{reason;code;type=ve.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},To=class extends ct{error;target;type=ve.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},aa=class extends ct{urlAfterRedirects;state;type=ve.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ju=class extends ct{urlAfterRedirects;state;type=ve.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xu=class extends ct{urlAfterRedirects;state;shouldActivate;type=ve.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ed=class extends ct{urlAfterRedirects;state;type=ve.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},td=class extends ct{urlAfterRedirects;state;type=ve.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nd=class{route;type=ve.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rd=class{route;type=ve.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},id=class{snapshot;type=ve.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},od=class{snapshot;type=ve.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sd=class{snapshot;type=ve.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ad=class{snapshot;type=ve.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bo=class{routerEvent;position;anchor;type=ve.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ca=class{},So=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function vj(e){return!(e instanceof ca)&&!(e instanceof So)}function yj(e,t){return e.providers&&!e._injector&&(e._injector=ni(e.providers,t,`Route: ${e.path}`)),e._injector??t}function kt(e){return e.outlet||k}function _j(e,t){let n=e.filter(r=>kt(r)===t);return n.push(...e.filter(r=>kt(r)!==t)),n}function No(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var cd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return No(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new di(this.rootInjector)}},di=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new cd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(b(se))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ld=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=sv(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=sv(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=av(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return av(t,this._root).map(n=>n.value)}};function sv(e,t){if(e===t.value)return t;for(let n of t.children){let r=sv(e,n);if(r)return r}return null}function av(e,t){if(e===t.value)return[t];for(let n of t.children){let r=av(e,n);if(r.length)return r.unshift(t),r}return[]}var at=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Eo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var la=class extends ld{snapshot;constructor(t,n){super(t),this.snapshot=n,gv(this,t)}toString(){return this.snapshot.toString()}};function sS(e){let t=Ej(e),n=new Ce([new cr("",{})]),r=new Ce({}),i=new Ce({}),o=new Ce({}),s=new Ce(""),a=new ln(n,r,o,s,i,k,e,t.root);return a.snapshot=t.root,new la(new at(a,[]),t)}function Ej(e){let t={},n={},r={},o=new ci([],t,r,"",n,k,e,null,{});return new ua("",new at(o,[]))}var ln=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(H(l=>l[pa]))??T(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(t=>li(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(t=>li(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ud(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:_(_({},t.params),e.params),data:_(_({},t.data),e.data),resolve:_(_(_(_({},e.data),t.data),i?.data),e._resolvedData)}:r={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},i&&cS(i)&&(r.resolve[pa]=i.title),r}var ci=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[pa]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=li(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ua=class extends ld{url;constructor(t,n){super(n),this.url=t,gv(this,n)}toString(){return aS(this._root)}};function gv(e,t){t.value._routerState=e,t.children.forEach(n=>gv(e,n))}function aS(e){let t=e.children.length>0?` { ${e.children.map(aS).join(", ")} } `:"";return`${e.value}${t}`}function Xm(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,on(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),on(t.params,n.params)||e.paramsSubject.next(n.params),q1(t.url,n.url)||e.urlSubject.next(n.url),on(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function cv(e,t){let n=on(e.params,t.params)&&Q1(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||cv(e.parent,t.parent))}function cS(e){return typeof e.title=="string"||e.title===null}var lS=new E(""),mv=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=k;activateEvents=new Pe;deactivateEvents=new Pe;attachEvents=new Pe;detachEvents=new Pe;routerOutletData=cb(void 0);parentContexts=m(di);location=m(Nn);changeDetector=m(yo);inputBinder=m(ga,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=nn({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xr]})}return e})(),lv=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===ln?this.route:t===di?this.childContexts:t===lS?this.outletData:this.parent.get(t,n)}},ga=new E(""),vv=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=us([r.queryParams,r.params,r.data]).pipe(Le(([o,s,a],c)=>(a=_(_(_({},o),s),a),c===0?T(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=hb(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),yv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Yg({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&wu(0,"router-outlet")},dependencies:[mv],encapsulation:2})}return e})();function _v(e){let t=e.children&&e.children.map(_v),n=t?z(_({},e),{children:t}):_({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==k&&(n.component=yv),n}function Ij(e,t,n){let r=da(e,t._root,n?n._root:void 0);return new la(r,t)}function da(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=wj(e,t,n);return new at(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>da(e,a)),s}}let r=Cj(t.value),i=t.children.map(o=>da(e,o));return new at(r,i)}}function wj(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return da(e,r,i);return da(e,r)})}function Cj(e){return new ln(new Ce(e.url),new Ce(e.params),new Ce(e.queryParams),new Ce(e.fragment),new Ce(e.data),e.outlet,e.component,e)}var Ao=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},uS="ngNavigationCancelingError";function dd(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=ur(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=dS(!1,Ve.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function dS(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[uS]=!0,n.cancellationCode=t,n}function Dj(e){return fS(e)&&ur(e.url)}function fS(e){return!!e&&e[uS]}var Tj=(e,t,n,r)=>H(i=>(new uv(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),uv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Xm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Eo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Eo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Eo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Eo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ad(o.value.snapshot))}),t.children.length&&this.forwardEvent(new od(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Xm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xm(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},fd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Co=class{component;route;constructor(t,n){this.component=t,this.route=n}};function bj(e,t,n){let r=e._root,i=t?t._root:null;return ra(r,i,n,[r.value])}function Sj(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Mo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!yh(e)?e:t.get(e):r}function ra(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Eo(t);return e.children.forEach(s=>{Aj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>oa(a,n.getContext(s),i)),i}function Aj(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Rj(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new fd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ra(e,t,a?a.children:null,r,i):ra(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Co(a.outlet.component,s))}else s&&oa(t,a,i),i.canActivateChecks.push(new fd(r)),o.component?ra(e,null,a?a.children:null,r,i):ra(e,null,n,r,i);return i}function Rj(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!ai(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ai(e.url,t.url)||!on(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cv(e,t)||!on(e.queryParams,t.queryParams);case"paramsChange":default:return!cv(e,t)}}function oa(e,t,n){let r=Eo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?oa(s,t.children.getContext(o),n):oa(s,null,n):oa(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Co(t.outlet.component,i)):n.canDeactivateChecks.push(new Co(null,i)):n.canDeactivateChecks.push(new Co(null,i))}function ma(e){return typeof e=="function"}function Nj(e){return typeof e=="boolean"}function Mj(e){return e&&ma(e.canLoad)}function Oj(e){return e&&ma(e.canActivate)}function kj(e){return e&&ma(e.canActivateChild)}function Pj(e){return e&&ma(e.canDeactivate)}function xj(e){return e&&ma(e.canMatch)}function hS(e){return e instanceof vn||e?.name==="EmptyError"}var Gu=Symbol("INITIAL_VALUE");function Ro(){return Le(e=>us(e.map(t=>t.pipe(_n(1),nh(Gu)))).pipe(H(t=>{for(let n of t)if(n!==!0){if(n===Gu)return Gu;if(n===!1||Lj(n))return n}return!0}),qe(t=>t!==Gu),_n(1)))}function Lj(e){return ur(e)||e instanceof Ao}function Fj(e,t){return ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?T(z(_({},n),{guardsResult:!0})):jj(s,r,i,e).pipe(ue(a=>a&&Nj(a)?Uj(r,o,e,t):T(a)),H(a=>z(_({},n),{guardsResult:a})))})}function jj(e,t,n,r){return te(e).pipe(ue(i=>Wj(i.component,i.route,n,t,r)),En(i=>i!==!0,!0))}function Uj(e,t,n,r){return te(t).pipe(zn(i=>Yi(Bj(i.route.parent,r),Vj(i.route,r),$j(e,i.path,n),Hj(e,i.route,n))),En(i=>i!==!0,!0))}function Vj(e,t){return e!==null&&t&&t(new sd(e)),T(!0)}function Bj(e,t){return e!==null&&t&&t(new id(e)),T(!0)}function Hj(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return T(!0);let i=r.map(o=>ds(()=>{let s=No(t)??n,a=Mo(o,s),c=Oj(a)?a.canActivate(t,e):fe(s,()=>a(t,e));return kn(c).pipe(En())}));return T(i).pipe(Ro())}function $j(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Sj(s)).filter(s=>s!==null).map(s=>ds(()=>{let a=s.guards.map(c=>{let l=No(s.node)??n,u=Mo(c,l),d=kj(u)?u.canActivateChild(r,e):fe(l,()=>u(r,e));return kn(d).pipe(En())});return T(a).pipe(Ro())}));return T(o).pipe(Ro())}function Wj(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return T(!0);let s=o.map(a=>{let c=No(t)??i,l=Mo(a,c),u=Pj(l)?l.canDeactivate(e,t,n,r):fe(c,()=>l(e,t,n,r));return kn(u).pipe(En())});return T(s).pipe(Ro())}function zj(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return T(!0);let o=i.map(s=>{let a=Mo(s,e),c=Mj(a)?a.canLoad(t,n):fe(e,()=>a(t,n));return kn(c)});return T(o).pipe(Ro(),pS(r))}function pS(e){return zf(Ee(t=>{if(typeof t!="boolean")throw dd(e,t)}),H(t=>t===!0))}function Gj(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return T(!0);let o=i.map(s=>{let a=Mo(s,e),c=xj(a)?a.canMatch(t,n):fe(e,()=>a(t,n));return kn(c)});return T(o).pipe(Ro(),pS(r))}var fa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ha=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function _o(e){return Ki(new fa(e))}function qj(e){return Ki(new I(4e3,!1))}function Kj(e){return Ki(dS(!1,Ve.GuardRejected))}var dv=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return T(r);if(i.numberOfChildren>1||!i.children[k])return qj(`${t.redirectTo}`);i=i.children[k]}}applyRedirectCommands(t,n,r,i,o){return Yj(n,i,o).pipe(H(s=>{if(s instanceof an)throw new ha(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new ha(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new an(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new q(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function Yj(e,t,n){if(typeof e=="string")return T(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=t;return kn(fe(n,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d})))}var fv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zj(e,t,n,r,i){let o=gS(e,t,n);return o.matched?(r=yj(t,r),Gj(r,t,n,i).pipe(H(s=>s===!0?o:_({},fv)))):T(o)}function gS(e,t,n){if(t.path==="**")return Qj(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_({},fv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Wb)(n,e,t);if(!i)return _({},fv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Qj(e){return{matched:!0,parameters:e.length>0?Gb(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Bb(e,t,n,r){return n.length>0&&eU(e,n,r)?{segmentGroup:new q(t,Xj(r,new q(n,e.children))),slicedSegments:[]}:n.length===0&&tU(e,n,r)?{segmentGroup:new q(e.segments,Jj(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new q(e.segments,e.children),slicedSegments:n}}function Jj(e,t,n,r){let i={};for(let o of n)if(pd(e,t,o)&&!r[kt(o)]){let s=new q([],{});i[kt(o)]=s}return _(_({},r),i)}function Xj(e,t){let n={};n[k]=t;for(let r of e)if(r.path===""&&kt(r)!==k){let i=new q([],{});n[kt(r)]=i}return n}function eU(e,t,n){return n.some(r=>pd(e,t,r)&&kt(r)!==k)}function tU(e,t,n){return n.some(r=>pd(e,t,r))}function pd(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nU(e,t,n){return t.length===0&&!e.children[n]}var hv=class{};function rU(e,t,n,r,i,o,s="emptyOnly"){return new pv(e,t,n,r,i,s,o).recognize()}var iU=31,pv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new dv(this.urlSerializer,this.urlTree)}noMatchError(t){return new I(4002,`'${t.segmentGroup}'`)}recognize(){let t=Bb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(H(({children:n,rootSnapshot:r})=>{let i=new at(r,n),o=new ua("",i),s=tS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new ci([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),k,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,k,n).pipe(H(r=>({children:r,rootSnapshot:n})),yn(r=>{if(r instanceof ha)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fa?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(H(s=>s instanceof at?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return te(o).pipe(zn(s=>{let a=r.children[s],c=_j(n,s);return this.processSegmentGroup(t,c,a,s,i)}),th((s,a)=>(s.push(...a),s)),Gn(null),eh(),ue(s=>{if(s===null)return _o(r);let a=mS(s);return oU(a),T(a)}))}processSegment(t,n,r,i,o,s,a){return te(n).pipe(zn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(yn(l=>{if(l instanceof fa)return T(null);throw l}))),En(c=>!!c),yn(c=>{if(hS(c))return nU(r,i,o)?T(new hv):_o(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return kt(r)!==s&&(s===k||!pd(i,o,r))?_o(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):_o(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=gS(n,i,o);if(!c)return _o(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iU&&(this.allowRedirects=!1));let h=new ci(o,l,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Hb(i),kt(i),i.component??i._loadedComponent??null,i,$b(i)),g=ud(h,a,this.paramsInheritanceStrategy);return h.params=Object.freeze(g.params),h.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t).pipe(Le(w=>this.applyRedirects.lineralizeSegments(i,w)),ue(w=>this.processSegment(t,r,n,w.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=Zj(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Le(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Le(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,g=new ci(f,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Hb(r),kt(r),r.component??r._loadedComponent??null,r,$b(r)),v=ud(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:w,slicedSegments:A}=Bb(n,f,h,l);if(A.length===0&&w.hasChildren())return this.processChildren(u,l,w,g).pipe(H(_e=>new at(g,_e)));if(l.length===0&&A.length===0)return T(new at(g,[]));let Re=kt(r)===o;return this.processSegment(u,l,w,A,Re?k:o,!0,g).pipe(H(_e=>new at(g,_e instanceof at?[_e]:[])))}))):_o(n)))}getChildConfig(t,n,r){return n.children?T({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?T({routes:n._loadedRoutes,injector:n._loadedInjector}):zj(t,n,r,this.urlSerializer).pipe(ue(i=>i?this.configLoader.loadChildren(t,n).pipe(Ee(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Kj(n))):T({routes:[],injector:t})}};function oU(e){e.sort((t,n)=>t.value.outlet===k?-1:n.value.outlet===k?1:t.value.outlet.localeCompare(n.value.outlet))}function sU(e){let t=e.value.routeConfig;return t&&t.path===""}function mS(e){let t=[],n=new Set;for(let r of e){if(!sU(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=mS(r.children);t.push(new at(r.value,i))}return t.filter(r=>!n.has(r))}function Hb(e){return e.data||{}}function $b(e){return e.resolve||{}}function aU(e,t,n,r,i,o){return ue(s=>rU(e,t,n,r,s.extractedUrl,i,o).pipe(H(({state:a,tree:c})=>z(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function cU(e,t){return ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return T(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of vS(c))s.add(l);let a=0;return te(s).pipe(zn(c=>o.has(c)?lU(c,r,e,t):(c.data=ud(c,c.parent,e).resolve,T(void 0))),Ee(()=>a++),Zi(1),ue(c=>a===s.size?T(n):ze))})}function vS(e){let t=e.children.map(n=>vS(n)).flat();return[e,...t]}function lU(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!cS(i)&&(o[pa]=i.title),ds(()=>(e.data=ud(e,e.parent,n).resolve,uU(o,e,t,r).pipe(H(s=>(e._resolvedData=s,e.data=_(_({},e.data),s),null)))))}function uU(e,t,n,r){let i=nv(e);if(i.length===0)return T({});let o={};return te(i).pipe(ue(s=>dU(e[s],t,n,r).pipe(En(),Ee(a=>{if(a instanceof Ao)throw dd(new lr,a);o[s]=a}))),Zi(1),H(()=>o),yn(s=>hS(s)?ze:Ki(s)))}function dU(e,t,n,r){let i=No(t)??r,o=Mo(e,i),s=o.resolve?o.resolve(t,n):fe(i,()=>o(t,n));return kn(s)}function ev(e){return Le(t=>{let n=e(t);return n?te(n).pipe(H(()=>t)):T(t)})}var Ev=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===k);return r}getResolvedTitleForRoute(n){return n.data[pa]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>m(yS),providedIn:"root"})}return e})(),yS=(()=>{class e extends Ev{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(b(Lb))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fr=new E("",{providedIn:"root",factory:()=>({})}),fi=new E(""),gd=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(mm);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return T(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=kn(fe(n,()=>r.loadComponent())).pipe(H(ES),Le(IS),Ee(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),fs(()=>{this.componentLoaders.delete(r)})),o=new Wi(i,()=>new ge).pipe($i());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return T({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=_S(r,this.compiler,n,this.onLoadEndListener).pipe(fs(()=>{this.childrenLoaders.delete(r)})),s=new Wi(o,()=>new ge).pipe($i());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _S(e,t,n,r){return kn(fe(n,()=>e.loadChildren())).pipe(H(ES),Le(IS),ue(i=>i instanceof mu||Array.isArray(i)?T(i):te(t.compileModuleAsync(i))),H(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(fi,[],{optional:!0,self:!0}).flat()),{routes:s.map(_v),injector:o}}))}function fU(e){return e&&typeof e=="object"&&"default"in e}function ES(e){return fU(e)?e.default:e}function IS(e){return T(e)}var md=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>m(hU),providedIn:"root"})}return e})(),hU=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Iv=new E(""),wv=new E("");function wS(e,t,n){let r=e.get(wv),i=e.get(re);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),pU(e)));a.ready.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&fe(e,()=>c({transition:a,from:t,to:n})),s}function pU(e){return new Promise(t=>{yu({read:()=>setTimeout(t)},{injector:e})})}var Cv=new E(""),vd=(()=>{class e{currentNavigation=er(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ge;transitionAbortWithErrorSubject=new ge;configLoader=m(gd);environmentInjector=m(se);destroyRef=m(Jt);urlSerializer=m(ui);rootContexts=m(di);location=m(ar);inputBindingEnabled=m(ga,{optional:!0})!==null;titleStrategy=m(Ev);options=m(fr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(md);createViewTransition=m(Iv,{optional:!0});navigationErrorHandler=m(Cv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>T(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new nd(i)),r=i=>this.events.next(new rd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;rn(()=>{this.transitions?.next(z(_({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new Ce(null),this.transitions.pipe(qe(r=>r!==null),Le(r=>{let i=!1;return T(r).pipe(Le(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),ze;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?z(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new cn(o.id,this.urlSerializer.serialize(o.rawUrl),"",Do.IgnoredSameUrlNavigation)),o.resolve(!1),ze;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return T(o).pipe(Le(c=>(this.events.next(new dr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ze:Promise.resolve(c))),aU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ee(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new aa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:f}=o,h=new dr(c,this.urlSerializer.serialize(l),u,d);this.events.next(h);let g=sS(this.rootComponentType).snapshot;return this.currentTransition=r=z(_({},o),{targetSnapshot:g,urlAfterRedirects:l,extras:z(_({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(v=>(v.finalUrl=l,v)),T(r)}else return this.events.next(new cn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Do.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ze}),Ee(o=>{let s=new Ju(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),H(o=>(this.currentTransition=r=z(_({},o),{guards:bj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Fj(this.environmentInjector,o=>this.events.next(o)),Ee(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw dd(this.urlSerializer,o.guardsResult);let s=new Xu(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),qe(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ve.GuardRejected),!1)),ev(o=>{if(o.guards.canActivateChecks.length!==0)return T(o).pipe(Ee(s=>{let a=new ed(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Le(s=>{let a=!1;return T(s).pipe(cU(this.paramsInheritanceStrategy,this.environmentInjector),Ee({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ve.NoDataFromResolver)}}))}),Ee(s=>{let a=new td(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),ev(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=No(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ee(u=>{a.component=u}),H(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return us(s(o.targetSnapshot.root)).pipe(Gn(null),_n(1))}),ev(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?te(a).pipe(H(()=>r)):T(r)}),H(o=>{let s=Ij(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=z(_({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Ee(()=>{this.events.next(new ca)}),Tj(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),_n(1),qc(new L(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(qe(()=>!i&&!r.targetRouterState),Ee(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ve.Aborted)}))),Ee({next:o=>{i=!0,this.lastSuccessfulNavigation=rn(this.currentNavigation),this.events.next(new lt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),qc(this.transitionAbortWithErrorSubject.pipe(Ee(o=>{throw o}))),fs(()=>{i||this.cancelNavigationTransition(r,"",Ve.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),yn(o=>{if(this.destroyed)return r.resolve(!1),ze;if(i=!0,fS(o))this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Dj(o)?this.events.next(new So(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new To(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=fe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ao){let{message:c,cancellationCode:l}=dd(this.urlSerializer,a);this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new So(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return ze}))}))}cancelNavigationTransition(n,r,i){let o=new sn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=rn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gU(e){return e!==wo}var CS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>m(mU),providedIn:"root"})}return e})(),hd=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},mU=(()=>{class e extends hd{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yl(e)))(i||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DS=(()=>{class e{urlSerializer=m(ui);options=m(fr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=m(ar);urlHandlingStrategy=m(md);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new an;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof an?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=sS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>m(vU),providedIn:"root"})}return e})(),vU=(()=>{class e extends DS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof dr?this.updateStateMemento():n instanceof cn?this.commitTransition(r):n instanceof aa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ca?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof sn&&n.code!==Ve.SupersededByNewNavigation&&n.code!==Ve.Redirect?this.restoreHistory(r):n instanceof To?this.restoreHistory(r,!0):n instanceof lt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",c)}else{let a=_(_({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yl(e)))(i||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yd(e,t){e.events.pipe(qe(n=>n instanceof lt||n instanceof sn||n instanceof To||n instanceof cn),H(n=>n instanceof lt||n instanceof cn?0:(n instanceof sn?n.code===Ve.Redirect||n.code===Ve.SupersededByNewNavigation:!1)?2:1),qe(n=>n!==2),_n(1)).subscribe(()=>{t()})}var yU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_U={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(_u);stateManager=m(DS);options=m(fr,{optional:!0})||{};pendingTasks=m(Dt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m(vd);urlSerializer=m(ui);location=m(ar);urlHandlingStrategy=m(md);injector=m(se);_events=new ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(CS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(fi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(ga,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new oe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=rn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof sn&&r.code!==Ve.Redirect&&r.code!==Ve.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof lt)this.navigated=!0;else if(r instanceof So){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=_({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gU(i.source)},s);this.scheduleNavigation(a,wo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=_({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(je)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return rn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(_v),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=nS(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return rS(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ur(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wo,null,r)}navigate(n,r={skipLocationChange:!1}){return EU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=_({},yU):r===!1?i=_({},_U):i=r,ur(n))return Fb(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Fb(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return yd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EU(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new I(4008,!1)}var _d=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=er(null);get href(){return rn(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ge;applicationErrorHandler=m(je);options=m(fr,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(m(new ku("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof lt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ur(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ur(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(ie(Pt),ie(ln),Ls("tabindex"),ie(ti),ie(St),ie(Ot))};static \u0275dir=nn({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Cu("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Iu("href",i.reactiveHref(),wg)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qs],replaceUrl:[2,"replaceUrl","replaceUrl",qs],routerLink:"routerLink"},features:[Xr]})}return e})(),IU=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Pe;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof lt&&this.update()})}ngAfterContentInit(){T(this.links.changes,T(null)).pipe(Wn()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=te(n).pipe(Wn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=wU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(ie(Pt),ie(St),ie(ti),ie(yo),ie(_d,8))};static \u0275dir=nn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&dm(o,_d,5),r&2){let s;fm(s=hm())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Xr]})}return e})();function wU(e){return!!e.paths}var va=class{};var TS=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qe(n=>n instanceof lt),zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ni(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return te(i).pipe(Wn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=T(null);let o=i.pipe(ue(s=>s===null?T(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return te([o,s]).pipe(Wn())}else return o})}static \u0275fac=function(r){return new(r||e)(b(Pt),b(se),b(va),b(gd))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bS=new E(""),CU=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=wo;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof lt?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof cn&&n.code===Do.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof bo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>p(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new bo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){$g()};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();function DU(e,...t){return Ie([{provide:fi,multi:!0,useValue:e},[],{provide:ln,useFactory:SS,deps:[Pt]},{provide:Mn,multi:!0,useFactory:AS},t.map(n=>n.\u0275providers)])}function SS(e){return e.routerState.root}function ya(e,t){return{\u0275kind:e,\u0275providers:t}}function AS(){let e=m(ne);return t=>{let n=e.get(Ze);if(t!==n.components[0])return;let r=e.get(Pt),i=e.get(RS);e.get(Tv)===1&&r.initialNavigation(),e.get(OS,null,{optional:!0})?.setUpPreloading(),e.get(bS,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RS=new E("",{factory:()=>new ge}),Tv=new E("",{providedIn:"root",factory:()=>1});function NS(){let e=[{provide:Xl,useValue:!0},{provide:Tv,useValue:0},Eu(()=>{let t=m(ne);return t.get(xm,Promise.resolve()).then(()=>new Promise(r=>{let i=t.get(Pt),o=t.get(RS);yd(i,()=>{r(!0)}),t.get(vd).afterPreactivation=()=>(r(!0),o.closed?T(void 0):o),i.initialNavigation()}))})];return ya(2,e)}function MS(){let e=[Eu(()=>{m(Pt).setUpLocationChangeListener()}),{provide:Tv,useValue:2}];return ya(3,e)}var OS=new E("");function kS(e){return ya(0,[{provide:OS,useExisting:TS},{provide:va,useExisting:e}])}function PS(){return ya(8,[vv,{provide:ga,useExisting:vv}])}function xS(e){Nt("NgRouterViewTransitions");let t=[{provide:Iv,useValue:wS},{provide:wv,useValue:_({skipNextTransition:!!e?.skipInitialTransition},e)}];return ya(9,t)}var LS=[ar,{provide:ui,useClass:lr},Pt,di,{provide:ln,useFactory:SS,deps:[Pt]},gd,[]],TU=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[LS,[],{provide:fi,multi:!0,useValue:n},[],r?.errorHandler?{provide:Cv,useValue:r.errorHandler}:[],{provide:fr,useValue:r||{}},r?.useHash?SU():AU(),bU(),r?.preloadingStrategy?kS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?RU(r):[],r?.bindToComponentInputs?PS().\u0275providers:[],r?.enableViewTransitions?xS().\u0275providers:[],NU()]}}static forChild(n){return{ngModule:e,providers:[{provide:fi,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ri({type:e});static \u0275inj=Yn({})}return e})();function bU(){return{provide:bS,useFactory:()=>{let e=m(Db),t=m(W),n=m(fr),r=m(vd),i=m(ui);return n.scrollOffset&&e.setOffset(n.scrollOffset),new CU(i,r,e,t,n)}}}function SU(){return{provide:Ot,useClass:Fm}}function AU(){return{provide:Ot,useClass:Fu}}function RU(e){return[e.initialNavigation==="disabled"?MS().\u0275providers:[],e.initialNavigation==="enabledBlocking"?NS().\u0275providers:[]]}var Dv=new E("");function NU(){return[{provide:Dv,useFactory:AS},{provide:Mn,multi:!0,useExisting:Dv}]}var Ite={production:!0,firebase:{apiKey:"AIzaSyC8aXYATGzHvjgQ1va5Lt7DVyBhW4M9nHM",authDomain:"resume-9a2d0.firebaseapp.com",databaseURL:"https://resume-9a2d0.firebaseio.com",projectId:"resume-9a2d0",storageBucket:"resume-9a2d0.appspot.com",messagingSenderId:"996736915156",appId:"1:996736915156:web:8dbb6e8f20a726fb82cd41"}};var FS=()=>{};var Sv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(e,t){if(!e)throw hi(t)},hi=function(e){return new Error("Firebase Database ("+Sv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var VS=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},MU=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Po={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(VS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):MU(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Av;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Av=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Nv=function(e){let t=VS(e);return Po.encodeByteArray(t,!0)},Ea=function(e){return Nv(e).replace(/\./g,"")},Oo=function(e){try{return Po.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function BS(e){return HS(void 0,e)}function HS(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!OU(n)||(e[n]=HS(e[n],t[n]));return e}function OU(e){return e!=="__proto__"}function $S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var kU=()=>$S().__FIREBASE_DEFAULTS__,PU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},xU=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Oo(e[1]);return t&&JSON.parse(t)},Mv=()=>{try{return FS()||kU()||PU()||xU()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ov=e=>{var t,n;return(n=(t=Mv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},WS=e=>{let t=Ov(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},kv=()=>{var e;return(e=Mv())===null||e===void 0?void 0:e.config},Pv=e=>{var t;return(t=Mv())===null||t===void 0?void 0:t[`_${e}`]};var mt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function hr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Id(e){return p(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function zS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ea(JSON.stringify(n)),Ea(JSON.stringify(s)),""].join(".")}var _a={};function LU(){let e={prod:[],emulator:[]};for(let t of Object.keys(_a))_a[t]?e.emulator.push(t):e.prod.push(t);return e}function FU(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var jS=!1;function wd(e,t){if(typeof window>"u"||typeof document>"u"||!hr(window.location.host)||_a[e]===t||_a[e]||jS)return;_a[e]=t;function n(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=LU().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{jS=!0,s()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){let f=FU(r),h=n("text"),g=document.getElementById(h)||document.createElement("span"),v=n("learnmore"),w=document.getElementById(v)||document.createElement("a"),A=n("preprendIcon"),Re=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let _e=f.element;a(_e),u(w,v);let $t=l();c(Re,A),_e.append(Re,g,w,$t),document.body.appendChild(_e)}o?(g.innerText="Preview backend disconnected.",Re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ia(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function GS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qS(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Cd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KS(){let e=xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function un(){return Sv.NODE_CLIENT===!0||Sv.NODE_ADMIN===!0}function Dd(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var jU="FirebaseError",xt=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=jU,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lt.prototype.create)}},Lt=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?UU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new xt(i,a,r)}};function UU(e,t){return e.replace(VU,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var VU=/\{\$([^}]+)}/g;function ko(e){return JSON.parse(e)}function ye(e){return JSON.stringify(e)}var ZS=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=ko(Oo(o[0])||""),n=ko(Oo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var QS=function(e){let t=ZS(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},JS=function(e){let t=ZS(e).claims;return typeof t=="object"&&t.admin===!0};function Ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pi(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function wa(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ca(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function dn(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(US(o)&&US(s)){if(!dn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function US(e){return e!==null&&typeof e=="object"}function gi(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function xo(e){let t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Lo(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ed=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function XS(e,t){let n=new Rv(e,t);return n.subscribe.bind(n)}var Rv=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BU(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=bv),i.error===void 0&&(i.error=bv),i.complete===void 0&&(i.complete=bv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function BU(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function bv(){}function Da(e,t){return`${e} failed: ${t} argument `}var eA=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,y(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ta=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var Tte=14400*1e3;function be(e){return e&&e._delegate?e._delegate:e}var Be=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var mi="[DEFAULT]";var Td=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new mt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($U(t))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=mi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return p(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=mi){return this.instances.has(t)}getOptions(t=mi){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HU(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=mi){return this.component?this.component.multipleInstances?t:mi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HU(e){return e===mi?void 0:e}function $U(e){return e.instantiationMode==="EAGER"}var ba=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Td(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var WU=[],J=(function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e})(J||{}),zU={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},GU=J.INFO,qU={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},KU=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=qU[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},fn=class{constructor(t){this.name=t,this._logLevel=GU,this._logHandler=KU,this._userLogHandler=null,WU.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in J))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zU[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...t),this._logHandler(this,J.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...t),this._logHandler(this,J.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,J.INFO,...t),this._logHandler(this,J.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,J.WARN,...t),this._logHandler(this,J.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...t),this._logHandler(this,J.ERROR,...t)}};var YU=(e,t)=>t.some(n=>e instanceof n),tA,nA;function ZU(){return tA||(tA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QU(){return nA||(nA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var rA=new WeakMap,Lv=new WeakMap,iA=new WeakMap,xv=new WeakMap,jv=new WeakMap;function JU(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(hn(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&rA.set(n,e)}).catch(()=>{}),jv.set(t,e),t}function XU(e){if(Lv.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Lv.set(e,t)}var Fv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Lv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||iA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function oA(e){Fv=e(Fv)}function eV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(bd(this),t,...n);return iA.set(r,t.sort?t.sort():[t]),hn(r)}:QU().includes(e)?function(...t){return e.apply(bd(this),t),hn(rA.get(this))}:function(...t){return hn(e.apply(bd(this),t))}}function tV(e){return typeof e=="function"?eV(e):(e instanceof IDBTransaction&&XU(e),YU(e,ZU())?new Proxy(e,Fv):e)}function hn(e){if(e instanceof IDBRequest)return JU(e);if(xv.has(e))return xv.get(e);let t=tV(e);return t!==e&&(xv.set(e,t),jv.set(t,e)),t}var bd=e=>jv.get(e);function aA(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=hn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(hn(s.result),c.oldVersion,c.newVersion,hn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var nV=["get","getKey","getAll","getAllKeys","count"],rV=["put","add","delete","clear"],Uv=new Map;function sA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Uv.get(t))return Uv.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=rV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nV.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Uv.set(t,o),o}oA(e=>z(_({},e),{get:(t,n,r)=>sA(t,n)||e.get(t,n,r),has:(t,n)=>!!sA(t,n)||e.has(t,n)}));var Bv=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function iV(e){let t=e.getComponent();return t?.type==="VERSION"}var Hv="@firebase/app",cA="0.13.2";var Pn=new fn("@firebase/app"),oV="@firebase/app-compat",sV="@firebase/analytics-compat",aV="@firebase/analytics",cV="@firebase/app-check-compat",lV="@firebase/app-check",uV="@firebase/auth",dV="@firebase/auth-compat",fV="@firebase/database",hV="@firebase/data-connect",pV="@firebase/database-compat",gV="@firebase/functions",mV="@firebase/functions-compat",vV="@firebase/installations",yV="@firebase/installations-compat",_V="@firebase/messaging",EV="@firebase/messaging-compat",IV="@firebase/performance",wV="@firebase/performance-compat",CV="@firebase/remote-config",DV="@firebase/remote-config-compat",TV="@firebase/storage",bV="@firebase/storage-compat",SV="@firebase/firestore",AV="@firebase/ai",RV="@firebase/firestore-compat",NV="firebase",MV="11.10.0";var $v="[DEFAULT]",OV={[Hv]:"fire-core",[oV]:"fire-core-compat",[aV]:"fire-analytics",[sV]:"fire-analytics-compat",[lV]:"fire-app-check",[cV]:"fire-app-check-compat",[uV]:"fire-auth",[dV]:"fire-auth-compat",[fV]:"fire-rtdb",[hV]:"fire-data-connect",[pV]:"fire-rtdb-compat",[gV]:"fire-fn",[mV]:"fire-fn-compat",[vV]:"fire-iid",[yV]:"fire-iid-compat",[_V]:"fire-fcm",[EV]:"fire-fcm-compat",[IV]:"fire-perf",[wV]:"fire-perf-compat",[CV]:"fire-rc",[DV]:"fire-rc-compat",[TV]:"fire-gcs",[bV]:"fire-gcs-compat",[SV]:"fire-fst",[RV]:"fire-fst-compat",[AV]:"fire-vertex","fire-js":"fire-js",[NV]:"fire-js-all"};var Sa=new Map,kV=new Map,Wv=new Map;function lA(e,t){try{e.container.addComponent(t)}catch(n){Pn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function jt(e){let t=e.name;if(Wv.has(t))return Pn.debug(`There were multiple attempts to register component ${t}.`),!1;Wv.set(t,e);for(let n of Sa.values())lA(n,e);for(let n of kV.values())lA(n,e);return!0}function Fo(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ut(e){return e==null?!1:e.settings!==void 0}var PV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Lt("app","Firebase",PV);var zv=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Be("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};var gr=MV;function Kv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:$v,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=kv()),!n)throw pr.create("no-options");let o=Sa.get(i);if(o){if(dn(n,o.options)&&dn(r,o.config))return o;throw pr.create("duplicate-app",{appName:i})}let s=new ba(i);for(let c of Wv.values())s.addComponent(c);let a=new zv(n,r,s);return Sa.set(i,a),a}function vi(e=$v){let t=Sa.get(e);if(!t&&e===$v&&kv())return Kv();if(!t)throw pr.create("no-app",{appName:e});return t}function Sd(){return Array.from(Sa.values())}function ae(e,t,n){var r;let i=(r=OV[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pn.warn(a.join(" "));return}jt(new Be(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var xV="firebase-heartbeat-database",LV=1,Aa="firebase-heartbeat-store",Vv=null;function hA(){return Vv||(Vv=aA(xV,LV,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Aa)}catch(n){console.warn(n)}}}}).catch(e=>{throw pr.create("idb-open",{originalErrorMessage:e.message})})),Vv}function FV(e){return p(this,null,function*(){try{let n=(yield hA()).transaction(Aa),r=yield n.objectStore(Aa).get(pA(e));return yield n.done,r}catch(t){if(t instanceof xt)Pn.warn(t.message);else{let n=pr.create("idb-get",{originalErrorMessage:t?.message});Pn.warn(n.message)}}})}function uA(e,t){return p(this,null,function*(){try{let r=(yield hA()).transaction(Aa,"readwrite");yield r.objectStore(Aa).put(t,pA(e)),yield r.done}catch(n){if(n instanceof xt)Pn.warn(n.message);else{let r=pr.create("idb-set",{originalErrorMessage:n?.message});Pn.warn(r.message)}}})}function pA(e){return`${e.name}!${e.options.appId}`}var jV=1024,UV=30,Gv=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new qv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dA();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>UV){let s=BV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pn.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=dA(),{heartbeatsToSend:r,unsentEntries:i}=VV(this._heartbeatsCache.heartbeats),o=Ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Pn.warn(n),""}})}};function dA(){return new Date().toISOString().substring(0,10)}function VV(e,t=jV){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fA(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fA(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var qv=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Dd()?YS().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield FV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function fA(e){return Ea(JSON.stringify({version:2,heartbeats:e})).length}function BV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function HV(e){jt(new Be("platform-logger",t=>new Bv(t),"PRIVATE")),jt(new Be("heartbeat",t=>new Gv(t),"PRIVATE")),ae(Hv,cA,e),ae(Hv,cA,"esm2017"),ae("fire-js","")}HV("");var $V="firebase",WV="11.10.0";ae($V,WV,"app");function gA(e){e===void 0&&(e=m(ne));let t=e.get(tr);return n=>new L(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var mr=new si("ANGULARFIRE2_VERSION");function Ra(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var Uo=(e,t)=>{let n=t?[t]:Sd(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},jo=(function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e})(jo||{}),mA=Om()&&typeof Zone<"u"?jo.WARN:jo.SILENT;var Ad=class{zone;delegate;constructor(t,n=Qf){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},vr=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=m(W);this.outsideAngular=n.runOutsideAngular(()=>new Ad(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Ad(typeof Zone>"u"?void 0:Zone.current,Zf))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vA=!1;function zV(e,t){!vA&&(mA>jo.SILENT||Om())&&(vA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),mA>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function GV(e){let t=m(W,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function yi(e){let t=m(W,{optional:!0});return t?t.run(()=>e()):e()}var qV=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),fe(n,()=>yi(()=>e.apply(void 0,r)))),He=(e,t,n)=>(n||=t?jo.WARN:jo.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=m(vr),s=m(tr),a=m(se)}catch{return zV(e,n),e.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(t&&(r||=yi(()=>s.add())),i[l]=qV(i[l],r,a));let c=GV(()=>e.apply(this,i));return t?c instanceof L?c.pipe($n(o.outsideAngular),Hn(o.insideAngular),gA(a)):c instanceof Promise?yi(()=>{let l=s.add();return new Promise((u,d)=>{c.then(f=>fe(a,()=>yi(()=>u(f))),f=>fe(a,()=>yi(()=>d(f)))).finally(l)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:yi(()=>c):c instanceof L?c.pipe($n(o.outsideAngular),Hn(o.insideAngular)):yi(()=>c)});var xn=class{constructor(t){return t}},_i=class{constructor(){return Sd()}};function KV(e){return e&&e.length===1?e[0]:new xn(vi())}var Yv=new E("angularfire2._apps"),YV={provide:xn,useFactory:KV,deps:[[new Ye,Yv]]},ZV={provide:_i,deps:[[new Ye,Yv]]};function QV(e){return(t,n)=>{let r=n.get(ir);ae("angularfire",mr.full,"core"),ae("angularfire",mr.full,"app"),ae("angular",lb.full,r.toString());let i=t.runOutsideAngular(()=>e(n));return new xn(i)}}function Ene(e,...t){return Ie([YV,ZV,{provide:Yv,useFactory:QV(e),multi:!0,deps:[W,ne,vr,...t]}])}var Ine=He(Kv,!0);var JV=new Map,XV={activated:!1,tokenObservers:[]},eB={initialized:!1,enabled:!1};function Ut(e){return JV.get(e)||Object.assign({},XV)}function IA(){return eB}var tB="https://content-firebaseappcheck.googleapis.com/v1";var nB="exchangeDebugToken",yA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Nne=1440*60*1e3;var Jv=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return p(this,null,function*(){this.stop();try{this.pending=new mt,this.pending.promise.catch(n=>{}),yield rB(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new mt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function rB(e){return new Promise(t=>{setTimeout(t,e)})}var iB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},yr=new Lt("appCheck","AppCheck",iB);function wA(e){if(!Ut(e).activated)throw yr.create("use-before-activation",{appName:e.name})}function CA(r,i){return p(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},c;try{c=yield fetch(e,a)}catch(h){throw yr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw yr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw yr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw yr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function DA(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${tB}/projects/${n}/apps/${r}:${nB}?key=${i}`,body:{debug_token:t}}}var oB="firebase-app-check-database",sB=1,Xv="firebase-app-check-store";var Rd=null;function aB(){return Rd||(Rd=new Promise((e,t)=>{try{let n=indexedDB.open(oB,sB);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(yr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Xv,{keyPath:"compositeKey"})}}}catch(n){t(yr.create("storage-open",{originalErrorMessage:n?.message}))}}),Rd)}function cB(e,t){return lB(uB(e),t)}function lB(e,t){return p(this,null,function*(){let r=(yield aB()).transaction(Xv,"readwrite"),o=r.objectStore(Xv).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(yr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function uB(e){return`${e.options.appId}-${e.name}`}var Na=new fn("@firebase/app-check");function Zv(e,t){return Dd()?cB(e,t).catch(n=>{Na.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function TA(){return IA().enabled}function bA(){return p(this,null,function*(){let e=IA();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var dB={error:"UNKNOWN_ERROR"};function fB(e){return Po.encodeString(JSON.stringify(e),!1)}function ey(e,t=!1,n=!1){return p(this,null,function*(){let r=e.app;wA(r);let i=Ut(r),o=i.token,s;if(o&&!Ma(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ma(l)?o=l:yield Zv(r,void 0))}if(!t&&o&&Ma(o))return{token:o.token};let a=!1;if(TA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=CA(DA(r,yield bA()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Zv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Na.warn(l.message):n&&Na.error(l),Qv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Ut(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Na.warn(l.message):n&&Na.error(l),s=l}let c;return o?s?Ma(o)?c={token:o.token,internalError:s}:c=Qv(s):(c={token:o.token},i.token=o,yield Zv(r,o)):c=Qv(s),a&&mB(r,c),c})}function hB(e){return p(this,null,function*(){let t=e.app;wA(t);let{provider:n}=Ut(t);if(TA()){let r=yield bA(),{token:i}=yield CA(DA(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function pB(e,t,n,r){let{app:i}=e,o=Ut(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ma(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),_A(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>_A(e))}function SA(e,t){let n=Ut(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _A(e){let{app:t}=e,n=Ut(t),r=n.tokenRefresher;r||(r=gB(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function gB(e){let{app:t}=e;return new Jv(()=>p(null,null,function*(){let n=Ut(t),r;if(n.token?r=yield ey(e,!0):r=yield ey(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Ut(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},yA.RETRIAL_MIN_WAIT,yA.RETRIAL_MAX_WAIT)}function mB(e,t){let n=Ut(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Ma(e){return e.expireTimeMillis-Date.now()>0}function Qv(e){return{token:fB(dB),error:e}}var ty=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Ut(this.app);for(let n of t)SA(this.app,n.next);return Promise.resolve()}};function vB(e,t){return new ty(e,t)}function yB(e){return{getToken:t=>ey(e,t),getLimitedUseToken:()=>hB(e),addTokenListener:t=>pB(e,"INTERNAL",t),removeTokenListener:t=>SA(e.app,t)}}var _B="@firebase/app-check",EB="0.10.1";var IB="app-check",EA="app-check-internal";function wB(){jt(new Be(IB,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return vB(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(EA).initialize()})),jt(new Be(EA,e=>{let t=e.getProvider("app-check").getImmediate();return yB(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),ae(_B,EB)}wB();var CB="app-check";var Vo=class{constructor(){return Uo(CB)}};var DB=["localhost","0.0.0.0","127.0.0.1"],$ne=typeof window<"u"&&DB.includes(window.location.hostname);function WA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zA=WA,GA=new Lt("auth","Firebase",WA());var xd=new fn("@firebase/auth");function TB(e,...t){xd.logLevel<=J.WARN&&xd.warn(`Auth (${gr}): ${e}`,...t)}function Md(e,...t){xd.logLevel<=J.ERROR&&xd.error(`Auth (${gr}): ${e}`,...t)}function gn(e,...t){throw Ty(e,...t)}function Ei(e,...t){return Ty(e,...t)}function qA(e,t,n){let r=Object.assign(Object.assign({},zA()),{[t]:n});return new Lt("auth","Firebase",r).create(t,{appName:e.name})}function Ir(e){return qA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ty(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return GA.create(e,...t)}function R(e,t,...n){if(!e)throw Ty(t,...n)}function Ln(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Md(t),new Error(t)}function wr(e,t){e||Ln(t)}function oy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function bB(){return AA()==="http:"||AA()==="https:"}function AA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function SB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bB()||qS()||"connection"in navigator)?navigator.onLine:!0}function AB(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Ii=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,wr(n>t,"Short delay should be less than long delay!"),this.isMobile=Ia()||Cd()}get(){return SB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function by(e,t){wr(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var Ld=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var RB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var NB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MB=new Ii(3e4,6e4);function Ci(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Cr(o,s,a,c){return p(this,arguments,function*(e,t,n,r,i={}){return KA(e,i,()=>p(null,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=gi(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return GS()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&hr(e.emulatorConfig.host)&&(h.credentials="include"),Ld.fetch()(yield YA(e,e.config.apiHost,n,d),h)}))})}function KA(e,t,n){return p(this,null,function*(){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},RB),t);try{let i=new sy(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Nd(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nd(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Nd(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw Nd(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qA(e,u,l);gn(e,u)}}catch(i){if(i instanceof xt)throw i;gn(e,"network-request-failed",{message:String(i)})}})}function qd(o,s,a,c){return p(this,arguments,function*(e,t,n,r,i={}){let l=yield Cr(e,t,n,r,i);return"mfaPendingCredential"in l&&gn(e,"multi-factor-auth-required",{_serverResponse:l}),l})}function YA(e,t,n,r){return p(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?by(e.config,i):`${e.config.apiScheme}://${i}`;return NB.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function OB(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var sy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),MB.get())})}};function Nd(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ei(e,t,r);return i.customData._tokenResponse=n,i}function RA(e){return e!==void 0&&e.enterprise!==void 0}var ay=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return OB(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function kB(e,t){return p(this,null,function*(){return Cr(e,"GET","/v2/recaptchaConfig",Ci(e,t))})}function PB(e,t){return p(this,null,function*(){return Cr(e,"POST","/v1/accounts:delete",t)})}function Fd(e,t){return p(this,null,function*(){return Cr(e,"POST","/v1/accounts:lookup",t)})}function ka(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Sy(e,t=!1){return p(this,null,function*(){let n=be(e),r=yield n.getIdToken(t),i=Ay(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ka(ny(i.auth_time)),issuedAtTime:ka(ny(i.iat)),expirationTime:ka(ny(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ny(e){return Number(e)*1e3}function Ay(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Md("JWT malformed, contained fewer than 3 sections"),null;try{let i=Oo(n);return i?JSON.parse(i):(Md("Failed to decode base64 JWT payload"),null)}catch(i){return Md("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NA(e){let t=Ay(e);return R(t,"internal-error"),R(typeof t.exp<"u","internal-error"),R(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function xa(e,t,n=!1){return p(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof xt&&xB(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function xB({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var cy=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var La=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ka(this.lastLoginAt),this.creationTime=ka(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jd(e){return p(this,null,function*(){var t;let n=e.auth,r=yield e.getIdToken(),i=yield xa(e,Fd(n,{idToken:r}));R(i?.users.length,n,"internal-error");let o=i.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?ZA(o.providerUserInfo):[],a=LB(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new La(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function Ry(e){return p(this,null,function*(){let t=be(e);yield jd(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function LB(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function ZA(e){return e.map(t=>{var{providerId:n}=t,r=Jf(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function FB(e,t){return p(this,null,function*(){let n=yield KA(e,{},()=>p(null,null,function*(){let r=gi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield YA(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&hr(e.emulatorConfig.host)&&(c.credentials="include"),Ld.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function jB(e,t){return p(this,null,function*(){return Cr(e,"POST","/v2/accounts:revokeToken",Ci(e,t))})}var Pa=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){R(t.idToken,"internal-error"),R(typeof t.idToken<"u","internal-error"),R(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):NA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){R(t.length!==0,"internal-error");let n=NA(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield FB(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(R(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(R(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(R(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Ln("not implemented")}};function _r(e,t){R(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Er=class e{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=Jf(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new La(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return p(this,null,function*(){let n=yield xa(this,this.stsTokenManager.getToken(this.auth,t));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return Sy(this,t)}reload(){return Ry(this)}_assign(t){this!==t&&(R(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return p(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield jd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(ut(this.auth.app))return Promise.reject(Ir(this.auth));let t=yield this.getIdToken();return yield xa(this,PB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Re=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_e,emailVerified:$t,isAnonymous:dc,providerData:Nf,stsTokenManager:wE}=n;R(_e&&wE,t,"internal-error");let pM=Pa.fromJSON(this.name,wE);R(typeof _e=="string",t,"internal-error"),_r(d,t.name),_r(f,t.name),R(typeof $t=="boolean",t,"internal-error"),R(typeof dc=="boolean",t,"internal-error"),_r(h,t.name),_r(g,t.name),_r(v,t.name),_r(w,t.name),_r(A,t.name),_r(Re,t.name);let Mf=new e({uid:_e,auth:t,email:f,emailVerified:$t,displayName:d,isAnonymous:dc,photoURL:g,phoneNumber:h,tenantId:v,stsTokenManager:pM,createdAt:A,lastLoginAt:Re});return Nf&&Array.isArray(Nf)&&(Mf.providerData=Nf.map(gM=>Object.assign({},gM))),w&&(Mf._redirectEventId=w),Mf}static _fromIdTokenResponse(t,n,r=!1){return p(this,null,function*(){let i=new Pa;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield jd(o),o})}static _fromGetAccountInfoResponse(t,n,r){return p(this,null,function*(){let i=n.users[0];R(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ZA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Pa;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new La(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var MA=new Map;function Fn(e){wr(e instanceof Function,"Expected a class definition");let t=MA.get(e);return t?(wr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,MA.set(e,t),t)}var UB=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),ly=UB;function Od(e,t,n){return`firebase:${e}:${t}:${n}`}var Ud=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Od(this.userKey,i.apiKey,o),this.fullPersistenceKey=Od("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return p(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield Fd(this.auth,{idToken:t}).catch(()=>{});return n?Er._fromGetAccountInfoResponse(this.auth,n,t):null}return Er._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return p(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new e(Fn(ly),t,r);let i=(yield Promise.all(n.map(l=>p(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Fn(ly),s=Od(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let f=yield Fd(t,{idToken:u}).catch(()=>{});if(!f)break;d=yield Er._fromGetAccountInfoResponse(t,f,u)}else d=Er._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function OA(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nR(t))return"Blackberry";if(rR(t))return"Webos";if(JA(t))return"Safari";if((t.includes("chrome/")||XA(t))&&!t.includes("edge/"))return"Chrome";if(tR(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function QA(e=xe()){return/firefox\//i.test(e)}function JA(e=xe()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XA(e=xe()){return/crios\//i.test(e)}function eR(e=xe()){return/iemobile/i.test(e)}function tR(e=xe()){return/android/i.test(e)}function nR(e=xe()){return/blackberry/i.test(e)}function rR(e=xe()){return/webos/i.test(e)}function Ny(e=xe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function VB(e=xe()){var t;return Ny(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function BB(){return KS()&&document.documentMode===10}function iR(e=xe()){return Ny(e)||tR(e)||rR(e)||nR(e)||/windows phone/i.test(e)||eR(e)}function oR(e,t=[]){let n;switch(e){case"Browser":n=OA(xe());break;case"Worker":n=`${OA(xe())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${gr}/${r}`}var uy=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return p(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function HB(n){return p(this,arguments,function*(e,t={}){return Cr(e,"GET","/v2/passwordPolicy",Ci(e,t))})}var $B=6,dy=class{constructor(t){var n,r,i,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:$B,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var fy=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vd(this),this.idTokenSubscription=new Vd(this),this.beforeStateQueue=new uy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ud.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return p(this,null,function*(){try{let n=yield Fd(this,{idToken:t}),r=yield Er._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return p(this,null,function*(){var n;if(ut(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return p(this,null,function*(){try{yield jd(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=AB()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return p(this,null,function*(){if(ut(this.app))return Promise.reject(Ir(this));let n=t?be(t):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return p(this,null,function*(){if(!this._deleted)return t&&R(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return ut(this.app)?Promise.reject(Ir(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return ut(this.app)?Promise.reject(Ir(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let t=yield HB(this),n=new dy(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Lt("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield jB(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Fn(t)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=yield Ud.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return p(this,null,function*(){if(t===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return p(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var t;if(ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&TB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Bo(e){return be(e)}var Vd=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=XS(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Kd={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WB(e){Kd=e}function sR(e){return Kd.loadJS(e)}function zB(){return Kd.recaptchaEnterpriseScript}function GB(){return Kd.gapiScript}function aR(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var hy=class{constructor(){this.enterprise=new py}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}},py=class{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}};var qB="recaptcha-enterprise",cR="NO_RECAPTCHA",gy=class{constructor(t){this.type=qB,this.auth=Bo(t)}verify(t="verify",n=!1){return p(this,null,function*(){function r(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(null,null,function*(){kB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ay(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;RA(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:t}).then(l=>{s(l)}).catch(()=>{s(cR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hy().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&RA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=zB();c.length!==0&&(c+=a),sR(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Oa(e,t,n,r=!1,i=!1){return p(this,null,function*(){let o=new gy(e),s;if(i)s=cR;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function kA(e,t,n,r,i){return p(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=e._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Oa(e,t,n,n==="getOobCode");return r(e,a)}else return r(e,t).catch(a=>p(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Oa(e,t,n,n==="getOobCode");return r(e,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Oa(e,t,n);return r(e,a).catch(c=>p(null,null,function*(){var l;if(((l=e._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let u=yield Oa(e,t,n,!1,!0);return r(e,u)}return Promise.reject(c)}))}else{let a=yield Oa(e,t,n,!1,!0);return r(e,a)}else return Promise.reject(i+" provider is not supported.")})}function My(e,t){let n=Fo(e,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(dn(o,t??{}))return i;gn(i,"already-initialized")}return n.initialize({options:t})}function KB(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fn);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Oy(e,t,n){let r=Bo(e);R(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=lR(t),{host:s,port:a}=YB(t),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){R(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),R(dn(l,r.config.emulator)&&dn(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,hr(s)?(Id(`${o}//${s}${c}`),wd("Auth",!0)):i||ZB()}function lR(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function YB(e){let t=lR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:PA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:PA(s)}}}function PA(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function ZB(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var Fa=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(t){return Ln("not implemented")}_linkToIdToken(t,n){return Ln("not implemented")}_getReauthenticationResolver(t){return Ln("not implemented")}};function QB(e,t){return p(this,null,function*(){return Cr(e,"POST","/v1/accounts:signUp",t)})}function JB(e,t){return p(this,null,function*(){return qd(e,"POST","/v1/accounts:signInWithPassword",Ci(e,t))})}function XB(e,t){return p(this,null,function*(){return qd(e,"POST","/v1/accounts:signInWithEmailLink",Ci(e,t))})}function eH(e,t){return p(this,null,function*(){return qd(e,"POST","/v1/accounts:signInWithEmailLink",Ci(e,t))})}var ja=class e extends Fa{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new e(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kA(t,n,"signInWithPassword",JB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XB(t,{email:this._email,oobCode:this._password});default:gn(t,"internal-error")}})}_linkToIdToken(t,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kA(t,r,"signUpPassword",QB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eH(t,{idToken:n,email:this._email,oobCode:this._password});default:gn(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function ry(e,t){return p(this,null,function*(){return qd(e,"POST","/v1/accounts:signInWithIdp",Ci(e,t))})}function tH(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nH(e){let t=xo(Lo(e)).link,n=t?xo(Lo(t)).deep_link_id:null,r=xo(Lo(e)).deep_link_id;return(r?xo(Lo(r)).link:null)||r||n||t||e}var Bd=class e{constructor(t){var n,r,i,o,s,a;let c=xo(Lo(t)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=tH((i=c.mode)!==null&&i!==void 0?i:null);R(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let n=nH(t);try{return new e(n)}catch{return null}}};var uR=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return ja._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Bd.parseLink(r);return R(i,"argument-error"),ja._fromEmailAndCode(n,i.code,i.tenantId)}}e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return e})(),Hd=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var my=class extends Hd{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Ua=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return p(this,null,function*(){let o=yield Er._fromIdTokenResponse(t,r,i),s=xA(r);return new e({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(t,n,r){return p(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=xA(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})})}};function xA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var vy=class e extends xt{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function dR(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vy._fromErrorAndOperation(e,o,t,r):o})}function rH(e,t,n=!1){return p(this,null,function*(){let r=yield xa(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Ua._forOperation(e,"link",r)})}function iH(e,t,n=!1){return p(this,null,function*(){let{auth:r}=e;if(ut(r.app))return Promise.reject(Ir(r));let i="reauthenticate";try{let o=yield xa(e,dR(r,i,t,e),n);R(o.idToken,r,"internal-error");let s=Ay(o.idToken);R(s,r,"internal-error");let{sub:a}=s;return R(e.uid===a,r,"user-mismatch"),Ua._forOperation(e,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),o}})}function fR(e,t,n=!1){return p(this,null,function*(){if(ut(e.app))return Promise.reject(Ir(e));let r="signIn",i=yield dR(e,r,t),o=yield Ua._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})}function ky(e,t){return p(this,null,function*(){return fR(Bo(e),t)})}function oH(e){return p(this,null,function*(){let t=Bo(e);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Py(e,t,n){return ut(e.app)?Promise.reject(Ir(e)):ky(be(e),uR.credential(t,n)).catch(r=>p(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&oH(e),r}))}function xy(e,t,n,r){return be(e).onIdTokenChanged(t,n,r)}function Ly(e,t,n){return be(e).beforeAuthStateChanged(t,n)}function Fy(e){return be(e).signOut()}var $d="__sak";var Wd=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var sH=1e3,aH=10,cH=(()=>{class e extends Wd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);BB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,aH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},sH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield Ar(e.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield Ar(e.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield Ar(e.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return e.type="LOCAL",e})(),hR=cH;var lH=(()=>{class e extends Wd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})(),jy=lH;function uH(e){return Promise.all(e.map(t=>p(null,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}})))}var dH=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield uH(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function pR(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}var yy=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=pR("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function pn(){return window}function fH(e){pn().location.href=e}function gR(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}function hH(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function pH(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function gH(){return gR()?self:null}var mR="firebaseLocalStorageDb",mH=1,zd="firebaseLocalStorage",vR="fbase_key",wi=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Yd(e,t){return e.transaction([zd],t?"readwrite":"readonly").objectStore(zd)}function vH(){let e=indexedDB.deleteDatabase(mR);return new wi(e).toPromise()}function _y(){let e=indexedDB.open(mR,mH);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(zd,{keyPath:vR})}catch(i){n(i)}}),e.addEventListener("success",()=>p(null,null,function*(){let r=e.result;r.objectStoreNames.contains(zd)?t(r):(r.close(),yield vH(),t(yield _y()))}))})}function LA(e,t,n){return p(this,null,function*(){let r=Yd(e,!0).put({[vR]:t,value:n});return new wi(r).toPromise()})}function yH(e,t){return p(this,null,function*(){let n=Yd(e,!1).get(t),r=yield new wi(n).toPromise();return r===void 0?null:r.value})}function FA(e,t){let n=Yd(e,!0).delete(t);return new wi(n).toPromise()}var _H=800,EH=3,IH=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield _y(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>EH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return gR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=dH._getInstance(gH()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield hH(),!this.activeServiceWorker)return;this.sender=new yy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||pH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield _y();return yield LA(n,$d,"1"),yield FA(n,$d),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>LA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>yH(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>FA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=Yd(o,!1).getAll();return new wi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),_H)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),yR=IH;var Qne=aR("rcb"),Jne=new Ii(3e4,6e4);function wH(e,t){return t?Fn(t):(R(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Va=class extends Fa{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ry(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ry(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ry(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function CH(e){return fR(e.auth,new Va(e),e.bypassAuthState)}function DH(e){let{auth:t,user:n}=e;return R(n,t,"internal-error"),iH(n,new Va(e),e.bypassAuthState)}function TH(e){return p(this,null,function*(){let{auth:t,user:n}=e;return R(n,t,"internal-error"),rH(n,new Va(e),e.bypassAuthState)})}var Ey=class{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>p(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return CH;case"linkViaPopup":case"linkViaRedirect":return TH;case"reauthViaPopup":case"reauthViaRedirect":return DH;default:gn(this.auth,"internal-error")}}resolve(t){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Xne=new Ii(2e3,1e4);var bH="pendingRedirect",kd=new Map,Iy=class e extends Ey{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let t=kd.get(this.auth._key());if(!t){try{let r=(yield SH(this.resolver,this.auth))?yield Ar(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}kd.set(this.auth._key(),t)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return p(this,null,function*(){if(t.type==="signInViaRedirect")return Ar(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,Ar(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function SH(e,t){return p(this,null,function*(){let n=NH(t),r=RH(e);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function AH(e,t){kd.set(e._key(),t)}function RH(e){return Fn(e._redirectPersistence)}function NH(e){return Od(bH,e.config.apiKey,e.name)}function MH(e,t,n=!1){return p(this,null,function*(){if(ut(e.app))return Promise.reject(Ir(e));let r=Bo(e),i=wH(r,t),s=yield new Iy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})}var OH=600*1e3,wy=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kH(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!_R(t)){let i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=OH&&this.cachedEventUids.clear(),this.cachedEventUids.has(jA(t))}saveEventToCache(t){this.cachedEventUids.add(jA(t)),this.lastProcessedEventTime=Date.now()}};function jA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function _R({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function kH(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _R(e);default:return!1}}function PH(n){return p(this,arguments,function*(e,t={}){return Cr(e,"GET","/v1/projects",t)})}var xH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LH=/^https?/;function FH(e){return p(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield PH(e);for(let n of t)try{if(jH(n))return}catch{}gn(e,"unauthorized-domain")})}function jH(e){let t=oy(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!LH.test(n))return!1;if(xH.test(e))return r===e;let i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var UH=new Ii(3e4,6e4);function UA(){let e=pn().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function VH(e){return new Promise((t,n)=>{var r,i,o;function s(){UA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{UA(),n(Ei(e,"network-request-failed"))},timeout:UH.get()})}if(!((i=(r=pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=pn().gapi)===null||o===void 0)&&o.load)s();else{let a=aR("iframefcb");return pn()[a]=()=>{gapi.load?s():n(Ei(e,"network-request-failed"))},sR(`${GB()}?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw Pd=null,t})}var Pd=null;function BH(e){return Pd=Pd||VH(e),Pd}var HH=new Ii(5e3,15e3),$H="__/auth/iframe",WH="emulator/auth/iframe",zH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qH(e){let t=e.config;R(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?by(t,WH):`https://${e.config.authDomain}/${$H}`,r={apiKey:t.apiKey,appName:e.name,v:gr},i=GH.get(e.config.apiHost);i&&(r.eid=i);let o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gi(r).slice(1)}`}function KH(e){return p(this,null,function*(){let t=yield BH(e),n=pn().gapi;return R(n,e,"internal-error"),t.open({where:document.body,url:qH(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zH,dontclear:!0},r=>new Promise((i,o)=>p(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ei(e,"network-request-failed"),a=pn().setTimeout(()=>{o(s)},HH.get());function c(){pn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var YH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZH=500,QH=600,JH="_blank",XH="http://localhost",Gd=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function e$(e,t,n,r=ZH,i=QH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},YH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=xe().toLowerCase();n&&(a=XA(l)?JH:n),QA(l)&&(t=t||XH,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(VB(l)&&a!=="_self")return t$(t||"",a),new Gd(null);let d=window.open(t||"",a,u);R(d,e,"popup-blocked");try{d.focus()}catch{}return new Gd(d)}function t$(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var n$="__/auth/handler",r$="emulator/auth/handler",i$=encodeURIComponent("fac");function VA(e,t,n,r,i,o){return p(this,null,function*(){R(e.config.authDomain,e,"auth-domain-config-required"),R(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:gr,eventId:i};if(t instanceof Hd){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",wa(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof my){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield e._getAppCheckToken(),l=c?`#${i$}=${encodeURIComponent(c)}`:"";return`${o$(e)}?${gi(a).slice(1)}${l}`})}function o$({config:e}){return e.emulator?by(e,r$):`https://${e.authDomain}/${n$}`}var iy="webStorageSupport",Cy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jy,this._completeRedirectFn=MH,this._overrideRedirectResult=AH}_openPopup(t,n,r,i){return p(this,null,function*(){var o;wr((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield VA(t,n,r,oy(),i);return e$(t,s,pR())})}_openRedirect(t,n,r,i){return p(this,null,function*(){yield this._originValidation(t);let o=yield VA(t,n,r,oy(),i);return fH(o),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(wr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){return p(this,null,function*(){let n=yield KH(t),r=new wy(t);return n.register("authEvent",i=>(R(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(iy,{type:iy},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[iy];s!==void 0&&n(!!s),gn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FH(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return iR()||JA()||Ny()}},ER=Cy;var BA="@firebase/auth",HA="1.10.8";var Dy=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function s$(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a$(e){jt(new Be("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oR(e)},l=new fy(r,i,o,c);return KB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),jt(new Be("auth-internal",t=>{let n=Bo(t.getProvider("auth").getImmediate());return(r=>new Dy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ae(BA,HA,s$(e)),ae(BA,HA,"esm2017")}var c$=300,l$=Pv("authIdTokenMaxAge")||c$,$A=null,u$=e=>t=>p(null,null,function*(){let n=t&&(yield t.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l$)return;let i=n?.token;$A!==i&&($A=i,yield fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Uy(e=vi()){let t=Fo(e,"auth");if(t.isInitialized())return t.getImmediate();let n=My(e,{popupRedirectResolver:ER,persistence:[yR,hR,jy]}),r=Pv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=u$(o.toString());Ly(n,s,()=>s(n.currentUser)),xy(n,a=>s(a))}}let i=Ov("auth");return i&&Oy(n,`http://${i}`),n}function d$(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}WB({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=Ei("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",d$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a$("Browser");var IR="auth",Ba=class{constructor(t){return t}},Ha=class{constructor(){return Uo(IR)}};var Vy=new E("angularfire2.auth-instances");function t2(e,t){let n=Ra(IR,e,t);return n&&new Ba(n)}function n2(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new Ba(r)}}var r2={provide:Ha,deps:[[new Ye,Vy]]},i2={provide:Ba,useFactory:t2,deps:[[new Ye,Vy],xn]};function Ure(e,...t){return ae("angularfire",mr.full,"auth"),Ie([i2,r2,{provide:Vy,useFactory:n2(e),multi:!0,deps:[W,ne,vr,_i,[new Ye,Vo],...t]}])}var Vre=He(Uy,!0);var Bre=He(Py,!0,2);var Hre=He(Fy,!0,2);var wR="@firebase/database",CR="1.0.20";var q_="";function o2(e){q_=e}var Ky=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ye(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ko(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Yy=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Ft(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var nN=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ky(t)}}catch{}return new Yy},Ti=nN("localStorage"),Zy=nN("sessionStorage");var Wo=new fn("@firebase/database"),s2=(function(){let e=1;return function(){return e++}})(),rN=function(e){let t=eA(e),n=new Ed;n.update(t);let r=n.digest();return Po.encodeByteArray(r)},sc=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=sc.apply(null,r):typeof r=="object"?t+=ye(r):t+=r,t+=" "}return t},bi=null,DR=!0,a2=function(e,t){y(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Wo.logLevel=J.VERBOSE,bi=Wo.log.bind(Wo),t&&Zy.set("logging_enabled",!0)):typeof e=="function"?bi=e:(bi=null,Zy.remove("logging_enabled"))},Se=function(...e){if(DR===!0&&(DR=!1,bi===null&&Zy.get("logging_enabled")===!0&&a2(!0)),bi){let t=sc.apply(null,e);bi(t)}},ac=function(e){return function(...t){Se(e,...t)}},Qy=function(...e){let t="FIREBASE INTERNAL ERROR: "+sc(...e);Wo.error(t)},jn=function(...e){let t=`FIREBASE FATAL ERROR: ${sc(...e)}`;throw Wo.error(t),new Error(t)},$e=function(...e){let t="FIREBASE WARNING: "+sc(...e);Wo.warn(t)},c2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$e("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},K_=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},l2=function(e){if(un()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qo="[MIN_NAME]",Si="[MAX_NAME]",Ni=function(e,t){if(e===t)return 0;if(e===qo||t===Si)return-1;if(t===qo||e===Si)return 1;{let n=TR(e),r=TR(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},u2=function(e,t){return e===t?0:e<t?-1:1},$a=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ye(t))},Y_=function(e){if(typeof e!="object"||e===null)return ye(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ye(t[r]),n+=":",n+=Y_(e[t[r]]);return n+="}",n},iN=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ae(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var oN=function(e){y(!K_(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},d2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},f2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function h2(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var p2=new RegExp("^-?(0*)\\d{1,10}$"),g2=-2147483648,m2=2147483647,TR=function(e){if(p2.test(e)){let t=Number(e);if(t>=g2&&t<=m2)return t}return null},ts=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw $e("Exception was thrown by user callback.",n),t},Math.floor(0))}},v2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ka=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Jy=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,ut(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){$e(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Xy=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Se("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$e(t)}},Ya=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Qd="5",sN="v",aN="s",cN="r",lN="f",uN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dN="ls",fN="p",e_="ac",hN="websocket",pN="long_polling";var Jd=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ti.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ti.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function y2(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function gN(e,t,n){y(typeof t=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(t===hN)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===pN)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);y2(e)&&(n.ns=e.namespace);let i=[];return Ae(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var t_=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Ft(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return BS(this.counters_)}};var By={},Hy={};function Z_(e){let t=e.toString();return By[t]||(By[t]=new t_),By[t]}function _2(e,t){let n=e.toString();return Hy[n]||(Hy[n]=t()),Hy[n]}var n_=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ts(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var bR="start",E2="close",I2="pLPCommand",w2="pRTLPCB",mN="id",vN="pw",yN="ser",C2="cb",D2="seg",T2="ts",b2="d",S2="dframe",_N=1870,EN=30,A2=_N-EN,R2=25e3,N2=3e4,r_=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ac(t),this.stats_=Z_(n),this.urlFn=c=>(this.appCheckToken&&(c[e_]=this.appCheckToken),gN(n,pN,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new n_(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(N2)),l2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new i_((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===bR)this.id=a,this.password=c;else if(s===E2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[bR]="t",r[yN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[C2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[sN]=Qd,this.transportSessionId&&(r[aN]=this.transportSessionId),this.lastSessionId&&(r[dN]=this.lastSessionId),this.applicationId&&(r[fN]=this.applicationId),this.appCheckToken&&(r[e_]=this.appCheckToken),typeof location<"u"&&location.hostname&&uN.test(location.hostname)&&(r[cN]=lN);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return un()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!d2()&&!f2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ye(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Nv(n),i=iN(r,A2);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(un())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[S2]="t",r[mN]=t,r[vN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ye(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},i_=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,un())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=s2(),window[I2+this.uniqueCallbackIdentifier]=t,window[w2+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Se("frame writing exception"),a.stack&&Se(a.stack),Se(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Se("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[mN]=this.myID,t[vN]=this.myPW,t[yN]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+EN+r.length<=_N;){let s=this.pendingSegs.shift();r=r+"&"+D2+i+"="+s.seg+"&"+T2+i+"="+s.ts+"&"+b2+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(R2)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){un()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Se("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var M2=16384,O2=45e3,Xd=null;typeof MozWebSocket<"u"?Xd=MozWebSocket:typeof WebSocket<"u"&&(Xd=WebSocket);var Wa=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ac(this.connId),this.stats_=Z_(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[sN]=Qd,!un()&&typeof location<"u"&&location.hostname&&uN.test(location.hostname)&&(a[cN]=lN),r&&(a[aN]=r),i&&(a[dN]=i),o&&(a[e_]=o),s&&(a[fN]=s),gN(n,hN,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ti.set("previous_websocket_failure",!0);try{let i;if(un()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Qd}/${q_}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Xd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Xd!==null&&!e.forceDisallow_}static previouslyFailed(){return Ti.isInMemoryStorage||Ti.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ti.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ko(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ye(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=iN(r,M2);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(O2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),k2=(()=>{class e{static get ALL_TRANSPORTS(){return[r_,Wa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Wa&&Wa.isAvailable(),i=r&&!Wa.previouslyFailed();if(n.webSocketOnly&&(r||$e("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Wa];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),P2=6e4,x2=5e3,L2=10*1024,F2=100*1024,$y="t",SR="d",j2="s",AR="r",U2="e",RR="o",NR="a",MR="n",OR="p",V2="h",o_=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ac("c:"+this.id+":"),this.transportManager_=new k2(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ka(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>F2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>L2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if($y in t){let n=t[$y];n===NR?this.upgradeIfSecondaryHealthy_():n===AR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===RR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=$a("t",t),r=$a("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:OR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:NR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:MR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=$a("t",t),r=$a("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=$a($y,t);if(SR in t){let r=t[SR];if(n===V2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===MR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===j2?this.onConnectionShutdown_(r):n===AR?this.onReset_(r):n===U2?Qy("Server Error: "+r):n===RR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qy("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qd!==r&&$e("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ka(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(P2))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ka(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(x2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:OR,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ti.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var ef=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var tf=class{constructor(t){this.allowedEvents_=t,this.listeners_={},y(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){y(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var nf=class e extends tf{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ia()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return y(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var kR=32,PR=768,Q=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function K(){return new Q("")}function j(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function br(e){return e.pieces_.length-e.pieceNum_}function X(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Q(e.pieces_,t)}function Q_(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function B2(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Xa(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function IN(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Q(t,0)}function ce(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Q)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Q(n,0)}function V(e){return e.pieceNum_>=e.pieces_.length}function Qe(e,t){let n=j(e),r=j(t);if(n===null)return t;if(n===r)return Qe(X(e),X(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function H2(e,t){let n=Xa(e,0),r=Xa(t,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Ni(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function J_(e,t){if(br(e)!==br(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function vt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(br(e)>br(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var s_=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Xa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ta(this.parts_[r]);wN(this)}};function $2(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ta(t),wN(e)}function W2(e){let t=e.parts_.pop();e.byteLength_-=Ta(t),e.parts_.length>0&&(e.byteLength_-=1)}function wN(e){if(e.byteLength_>PR)throw new Error(e.errorPrefix_+"has a key path longer than "+PR+" bytes ("+e.byteLength_+").");if(e.parts_.length>kR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kR+") or object contains a cycle "+Di(e))}function Di(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var a_=class e extends tf{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return y(t==="visible","Unknown event type: "+t),[this.visible_]}};var za=1e3,z2=300*1e3,xR=30*1e3,G2=1.3,q2=3e4,K2="server_kill",LR=3,X_=(()=>{class e extends ef{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=ac("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=za,this.maxReconnectDelay_=z2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!un())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");a_.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&nf.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ye(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new mt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Ft(n,"w")){let i=pi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();$e(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||JS(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xR)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=QS(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ye(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Qy("Unrecognized action received from server: "+ye(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=za,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=za,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>q2&&(this.reconnectDelay_=za),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*G2)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){y(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Se("getToken() completed but was canceled"):(Se("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new o_(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{$e(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(K2)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&$e(f),l())}}})}interrupt(n){Se("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Se("Resuming connection for reason: "+n),delete this.interruptReasons_[n],wa(this.interruptReasons_)&&(this.reconnectDelay_=za,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Y_(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Q(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Se("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=LR&&(this.reconnectDelay_=xR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Se("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=LR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";un()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+q_.replace(/\./g,"-")]=1,Ia()?n["framework.cordova"]=1:Cd()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=nf.getInstance().currentlyOnline();return wa(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),U=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Ko=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new U(qo,t),i=new U(qo,n);return this.compare(r,i)!==0}minPost(){return U.MIN}};var Zd,rf=class extends Ko{static get __EMPTY_NODE(){return Zd}static set __EMPTY_NODE(t){Zd=t}compare(t,n){return Ni(t.name,n.name)}isDefinedOn(t){throw hi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return U.MIN}maxPost(){return new U(Si,Zd)}makePost(t,n){return y(typeof t=="string","KeyIndex indexValue must always be a string."),new U(t,Zd)}toString(){return".key"}},zo=new rf;var $o=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Vt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??yt.EMPTY_NODE,this.right=s??yt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return yt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),c_=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new Vt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},yt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Vt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Vt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new $o(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new $o(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new $o(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new $o(this.root_,null,this.comparator_,!0,t)}};yt.EMPTY_NODE=new c_;function Y2(e,t){return Ni(e.name,t.name)}function eE(e,t){return Ni(e,t)}var l_;function Z2(e){l_=e}var CN=function(e){return typeof e=="number"?"number:"+oN(e):"string:"+e},DN=function(e){if(e.isLeafNode()){let t=e.val();y(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ft(t,".sv"),"Priority must be a string or number.")}else y(e===l_||e.isEmpty(),"priority of unexpected type.");y(e===l_||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var FR,Yo=(()=>{class e{static set __childrenNodeConstructor(n){FR=n}static get __childrenNodeConstructor(){return FR}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),DN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return V(n)?this:j(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=j(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||br(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+CN(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=oN(this.value_):n+=this.value_,this.lazyHash_=rN(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return y(o>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),TN,bN;function Q2(e){TN=e}function J2(e){bN=e}var u_=class extends Ko{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ni(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(Si,new Yo("[PRIORITY-POST]",bN))}makePost(t,n){let r=TN(t);return new U(n,new Yo("[PRIORITY-POST]",r))}toString(){return".priority"}},le=new u_;var X2=Math.log(2),d_=class{constructor(t){let n=o=>parseInt(Math.log(o)/X2,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},of=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new Vt(f,d.node,Vt.BLACK,null,null);{let h=parseInt(u/2,10)+c,g=i(c,h),v=i(h+1,l);return d=e[h],f=n?n(d):d,new Vt(f,d.node,Vt.BLACK,g,v)}},o=function(c){let l=null,u=null,d=e.length,f=function(g,v){let w=d-g,A=d;d-=g;let Re=i(w+1,A),_e=e[w],$t=n?n(_e):_e;h(new Vt($t,_e.node,v,null,Re))},h=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let v=c.nextBitIsOne(),w=Math.pow(2,c.count-(g+1));v?f(w,Vt.BLACK):(f(w,Vt.BLACK),f(w,Vt.RED))}return u},s=new d_(e.length),a=o(s);return new yt(r||t,a)};var Wy,Ho={},Zo=class e{static get Default(){return y(Ho&&le,"ChildrenNode.ts has not been loaded"),Wy=Wy||new e({".priority":Ho},{".priority":le}),Wy}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=pi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof yt?n:null}hasIndex(t){return Ft(this.indexSet_,t.toString())}addIndex(t,n){y(t!==zo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(U.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=of(r,t.getCompare()):a=Ho;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=Ca(this.indexes_,(i,o)=>{let s=pi(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),i===Ho)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(U.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),of(a,s.getCompare())}else return Ho;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new U(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=Ca(this.indexes_,i=>{if(i===Ho)return i;{let o=n.get(t.name);return o?i.remove(new U(t.name,o)):i}});return new e(r,this.indexSet_)}};var Ga,x=(()=>{class e{static get EMPTY_NODE(){return Ga||(Ga=new e(new yt(eE),null,Zo.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&DN(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ga}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ga:r}}getChild(n){let r=j(n);return r===null?this:this.getImmediateChild(r).getChild(X(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new U(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ga:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=j(n);if(i===null)return r;{y(j(n)!==".priority"||br(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(X(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(le,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+CN(this.getPriority().val())+":"),this.forEachChild(le,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":rN(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new U(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new U(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new U(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,U.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,U.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===cc?-1:0}withIndex(n){if(n===zo||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===zo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(le),o=r.getIterator(le),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===zo?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),f_=class extends x{constructor(){super(new yt(eE),x.EMPTY_NODE,Zo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return x.EMPTY_NODE}isEmpty(){return!1}},cc=new f_;Object.defineProperties(U,{MIN:{value:new U(qo,x.EMPTY_NODE)},MAX:{value:new U(Si,cc)}});rf.__EMPTY_NODE=x.EMPTY_NODE;Yo.__childrenNodeConstructor=x;Z2(cc);J2(cc);var eW=!0;function we(e,t=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),y(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Yo(n,we(t))}if(!(e instanceof Array)&&eW){let n=[],r=!1;if(Ae(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=we(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new U(s,c)))}}),n.length===0)return x.EMPTY_NODE;let o=of(n,Y2,s=>s.name,eE);if(r){let s=of(n,le.getCompare());return new x(o,we(t),new Zo({".priority":s},{".priority":le}))}else return new x(o,we(t),Zo.Default)}else{let n=x.EMPTY_NODE;return Ae(e,(r,i)=>{if(Ft(e,r)&&r.substring(0,1)!=="."){let o=we(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(we(t))}}Q2(we);var h_=class extends Ko{constructor(t){super(),this.indexPath_=t,y(!V(t)&&j(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ni(t.name,n.name):o}makePost(t,n){let r=we(t),i=x.EMPTY_NODE.updateChild(this.indexPath_,r);return new U(n,i)}maxPost(){let t=x.EMPTY_NODE.updateChild(this.indexPath_,cc);return new U(Si,t)}toString(){return Xa(this.indexPath_,0).join("/")}};var p_=class extends Ko{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Ni(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(t,n){let r=we(t);return new U(n,r)}toString(){return".value"}},tW=new p_;function SN(e){return{type:"value",snapshotNode:e}}function Qo(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ec(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function nW(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var nc=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){y(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(ec(n,a)):y(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Qo(n,r)):s.trackChildChange(tc(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(le,(i,o)=>{n.hasChild(i)||r.trackChildChange(ec(i,o))}),n.isLeafNode()||n.forEachChild(le,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(tc(i,o,s))}else r.trackChildChange(Qo(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?x.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var sf=class e{constructor(t){this.indexedFilter_=new nc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new U(n,r))||(r=x.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=x.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(x.EMPTY_NODE);let o=this;return n.forEachChild(le,(s,a)=>{o.matches(new U(s,a))||(i=i.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var g_=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new U(n,r))||(r=x.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;y(a.numChildren()===this.limit_,"");let c=new U(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(tc(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(ec(n,d));let v=a.updateImmediateChild(n,x.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Qo(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(ec(l.name,l.node)),o.trackChildChange(Qo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,x.EMPTY_NODE)):t}};var m_=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qo}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Si}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===le}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function rW(e){return e.loadsAllData()?new nc(e.getIndex()):e.hasLimit()?new g_(e):new sf(e)}function jR(e){let t={};if(e.isDefault())return t;let n;if(e.index_===le?n="$priority":e.index_===tW?n="$value":e.index_===zo?n="$key":(y(e.index_ instanceof h_,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ye(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=ye(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ye(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ye(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ye(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function UR(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==le&&(t.i=e.index_.toString()),t}var v_=class e extends ef{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(y(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ac("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=jR(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),pi(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=jR(t._queryParams),r=t._path.toString(),i=new mt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+gi(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ko(a.responseText)}catch{$e("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&$e("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var y_=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function af(){return{value:null,children:new Map}}function AN(e,t,n){if(V(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=j(t);e.children.has(r)||e.children.set(r,af());let i=e.children.get(r);t=X(t),AN(i,t,n)}}function __(e,t,n){e.value!==null?n(t,e.value):iW(e,(r,i)=>{let o=new Q(t.toString()+"/"+r);__(i,o,n)})}function iW(e,t){e.children.forEach((n,r)=>{t(r,n)})}var E_=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ae(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var VR=10*1e3,oW=30*1e3,sW=300*1e3,I_=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new E_(t);let r=VR+(oW-VR)*Math.random();Ka(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;Ae(t,(i,o)=>{o>0&&Ft(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ka(this.reportStats_.bind(this),Math.floor(Math.random()*2*sW))}};var mn=(function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e})(mn||{});function tE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var w_=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=mn.ACK_USER_WRITE,this.source=tE()}operationForChild(t){if(V(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Q(t));return new e(K(),n,this.revert)}}else return y(j(this.path)===t,"operationForChild called for unrelated child."),new e(X(this.path),this.affectedTree,this.revert)}};var cf=class e{constructor(t,n){this.source=t,this.path=n,this.type=mn.LISTEN_COMPLETE}operationForChild(t){return V(this.path)?new e(this.source,K()):new e(this.source,X(this.path))}};var Jo=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=mn.OVERWRITE}operationForChild(t){return V(this.path)?new e(this.source,K(),this.snap.getImmediateChild(t)):new e(this.source,X(this.path),this.snap)}};var rc=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=mn.MERGE}operationForChild(t){if(V(this.path)){let n=this.children.subtree(new Q(t));return n.isEmpty()?null:n.value?new Jo(this.source,K(),n.value):new e(this.source,K(),n)}else return y(j(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Un=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(V(t))return this.isFullyInitialized()&&!this.filtered_;let n=j(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var C_=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function aW(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(nW(s.childName,s.snapshotNode))}),qa(e,i,"child_removed",t,r,n),qa(e,i,"child_added",t,r,n),qa(e,i,"child_moved",o,r,n),qa(e,i,"child_changed",t,r,n),qa(e,i,"value",t,r,n),i}function qa(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>lW(e,a,c)),s.forEach(a=>{let c=cW(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function cW(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function lW(e,t,n){if(t.childName==null||n.childName==null)throw hi("Should only compare child_ events.");let r=new U(t.childName,t.snapshotNode),i=new U(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function _f(e,t){return{eventCache:e,serverCache:t}}function Za(e,t,n,r){return _f(new Un(t,n,r),e.serverCache)}function RN(e,t,n,r){return _f(e.eventCache,new Un(t,n,r))}function D_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ai(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var zy,uW=()=>(zy||(zy=new yt(u2)),zy),We=class e{static fromObject(t){let n=new e(null);return Ae(t,(r,i)=>{n=n.set(new Q(r),i)}),n}constructor(t,n=uW()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(V(t))return null;{let r=j(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(X(t),n);return o!=null?{path:ce(new Q(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(V(t))return this;{let n=j(t),r=this.children.get(n);return r!==null?r.subtree(X(t)):new e(null)}}set(t,n){if(V(t))return new e(n,this.children);{let r=j(t),o=(this.children.get(r)||new e(null)).set(X(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(V(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=j(t),r=this.children.get(n);if(r){let i=r.remove(X(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(V(t))return this.value;{let n=j(t),r=this.children.get(n);return r?r.get(X(t)):null}}setTree(t,n){if(V(t))return n;{let r=j(t),o=(this.children.get(r)||new e(null)).setTree(X(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(K(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ce(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,K(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(V(t))return null;{let o=j(t),s=this.children.get(o);return s?s.findOnPath_(X(t),ce(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,K(),n)}foreachOnPath_(t,n,r){if(V(t))return this;{this.value&&r(n,this.value);let i=j(t),o=this.children.get(i);return o?o.foreachOnPath_(X(t),ce(n,i),r):new e(null)}}foreach(t){this.foreach_(K(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ce(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Bt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new We(null))}};function Qa(e,t,n){if(V(t))return new Bt(new We(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=Qe(i,t);return o=o.updateChild(s,n),new Bt(e.writeTree_.set(i,o))}else{let i=new We(n),o=e.writeTree_.setTree(t,i);return new Bt(o)}}}function T_(e,t,n){let r=e;return Ae(n,(i,o)=>{r=Qa(r,ce(t,i),o)}),r}function BR(e,t){if(V(t))return Bt.empty();{let n=e.writeTree_.setTree(t,new We(null));return new Bt(n)}}function b_(e,t){return Mi(e,t)!=null}function Mi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Qe(n.path,t)):null}function HR(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(le,(r,i)=>{t.push(new U(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new U(r,i.value))}),t}function Tr(e,t){if(V(t))return e;{let n=Mi(e,t);return n!=null?new Bt(new We(n)):new Bt(e.writeTree_.subtree(t))}}function S_(e){return e.writeTree_.isEmpty()}function Xo(e,t){return NN(K(),e.writeTree_,t)}function NN(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=NN(ce(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ce(e,".priority"),r)),n}}function iE(e,t){return PN(t,e)}function dW(e,t,n,r,i){y(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Qa(e.visibleWrites,t,n)),e.lastWriteId=r}function fW(e,t,n,r){y(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=T_(e.visibleWrites,t,n),e.lastWriteId=r}function hW(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function pW(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);y(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&gW(a,r.path)?i=!1:vt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return mW(e),!0;if(r.snap)e.visibleWrites=BR(e.visibleWrites,r.path);else{let a=r.children;Ae(a,c=>{e.visibleWrites=BR(e.visibleWrites,ce(r.path,c))})}return!0}else return!1}function gW(e,t){if(e.snap)return vt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&vt(ce(e.path,n),t))return!0;return!1}function mW(e){e.visibleWrites=MN(e.allWrites,vW,K()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function vW(e){return e.visible}function MN(e,t,n){let r=Bt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)vt(n,s)?(a=Qe(n,s),r=Qa(r,a,o.snap)):vt(s,n)&&(a=Qe(s,n),r=Qa(r,K(),o.snap.getChild(a)));else if(o.children){if(vt(n,s))a=Qe(n,s),r=T_(r,a,o.children);else if(vt(s,n))if(a=Qe(s,n),V(a))r=T_(r,K(),o.children);else{let c=pi(o.children,j(a));if(c){let l=c.getChild(X(a));r=Qa(r,K(),l)}}}else throw hi("WriteRecord should have .snap or .children")}}return r}function ON(e,t,n,r,i){if(!r&&!i){let o=Mi(e.visibleWrites,t);if(o!=null)return o;{let s=Tr(e.visibleWrites,t);if(S_(s))return n;if(n==null&&!b_(s,K()))return null;{let a=n||x.EMPTY_NODE;return Xo(s,a)}}}else{let o=Tr(e.visibleWrites,t);if(!i&&S_(o))return n;if(!i&&n==null&&!b_(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(vt(l.path,t)||vt(t,l.path))},a=MN(e.allWrites,s,t),c=n||x.EMPTY_NODE;return Xo(a,c)}}}function yW(e,t,n){let r=x.EMPTY_NODE,i=Mi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(le,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Tr(e.visibleWrites,t);return n.forEachChild(le,(s,a)=>{let c=Xo(Tr(o,new Q(s)),a);r=r.updateImmediateChild(s,c)}),HR(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Tr(e.visibleWrites,t);return HR(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function _W(e,t,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=ce(t,n);if(b_(e.visibleWrites,o))return null;{let s=Tr(e.visibleWrites,o);return S_(s)?i.getChild(n):Xo(s,i.getChild(n))}}function EW(e,t,n,r){let i=ce(t,n),o=Mi(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Tr(e.visibleWrites,i);return Xo(s,r.getNode().getImmediateChild(n))}else return null}function IW(e,t){return Mi(e.visibleWrites,t)}function wW(e,t,n,r,i,o,s){let a,c=Tr(e.visibleWrites,t),l=Mi(c,K());if(l!=null)a=l;else if(n!=null)a=Xo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function CW(){return{visibleWrites:Bt.empty(),allWrites:[],lastWriteId:-1}}function lf(e,t,n,r){return ON(e.writeTree,e.treePath,t,n,r)}function oE(e,t){return yW(e.writeTree,e.treePath,t)}function $R(e,t,n,r){return _W(e.writeTree,e.treePath,t,n,r)}function uf(e,t){return IW(e.writeTree,ce(e.treePath,t))}function DW(e,t,n,r,i,o){return wW(e.writeTree,e.treePath,t,n,r,i,o)}function sE(e,t,n){return EW(e.writeTree,e.treePath,t,n)}function kN(e,t){return PN(ce(e.treePath,t),e.writeTree)}function PN(e,t){return{treePath:e,writeTree:t}}var A_=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,tc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ec(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Qo(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,tc(r,t.snapshotNode,i.oldSnap));else throw hi("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var R_=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},xN=new R_,ic=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Un(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sE(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ai(this.viewCache_),o=DW(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function TW(e){return{filter:e}}function bW(e,t){y(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),y(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function SW(e,t,n,r,i){let o=new A_,s,a;if(n.type===mn.OVERWRITE){let l=n;l.source.fromUser?s=N_(e,t,l.path,l.snap,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!V(l.path),s=df(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===mn.MERGE){let l=n;l.source.fromUser?s=RW(e,t,l.path,l.children,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=M_(e,t,l.path,l.children,r,i,a,o))}else if(n.type===mn.ACK_USER_WRITE){let l=n;l.revert?s=OW(e,t,l.path,r,i,o):s=NW(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===mn.LISTEN_COMPLETE)s=MW(e,t,n.path,r,o);else throw hi("Unknown operation type: "+n.type);let c=o.getChanges();return AW(t,s,c),{viewCache:s,changes:c}}function AW(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=D_(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(SN(D_(t)))}}function LN(e,t,n,r,i,o){let s=t.eventCache;if(uf(r,n)!=null)return t;{let a,c;if(V(n))if(y(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Ai(t),u=l instanceof x?l:x.EMPTY_NODE,d=oE(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=lf(r,Ai(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=j(n);if(l===".priority"){y(br(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=$R(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=X(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=$R(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=sE(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Za(t,a,s.isFullyInitialized()||V(n),e.filter.filtersNodes())}}function df(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(V(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=j(n);if(!c.isCompleteForPath(n)&&br(n)>1)return t;let g=X(n),w=c.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?l=u.updatePriority(c.getNode(),w):l=u.updateChild(c.getNode(),h,w,g,xN,null)}let d=RN(t,l,c.isFullyInitialized()||V(n),u.filtersNodes()),f=new ic(i,d,o);return LN(e,d,n,i,f,a)}function N_(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new ic(i,t,o);if(V(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Za(t,l,!0,e.filter.filtersNodes());else{let d=j(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Za(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=X(n),h=a.getNode().getImmediateChild(d),g;if(V(f))g=r;else{let v=u.getCompleteChild(d);v!=null?Q_(f)===".priority"&&v.getChild(IN(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=x.EMPTY_NODE}if(h.equals(g))c=t;else{let v=e.filter.updateChild(a.getNode(),d,g,f,u,s);c=Za(t,v,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function WR(e,t){return e.eventCache.isCompleteForChild(t)}function RW(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=ce(n,c);WR(t,j(u))&&(a=N_(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=ce(n,c);WR(t,j(u))||(a=N_(e,a,u,l,i,o,s))}),a}function zR(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function M_(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;V(n)?l=r:l=new We(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),g=zR(e,h,f);c=df(e,c,new Q(d),g,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=t.serverCache.getNode().getImmediateChild(d),v=zR(e,g,f);c=df(e,c,new Q(d),v,i,o,s,a)}}),c}function NW(e,t,n,r,i,o,s){if(uf(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(V(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return df(e,t,n,c.getNode().getChild(n),i,o,a,s);if(V(n)){let l=new We(null);return c.getNode().forEachChild(zo,(u,d)=>{l=l.set(new Q(u),d)}),M_(e,t,n,l,i,o,a,s)}else return t}else{let l=new We(null);return r.foreach((u,d)=>{let f=ce(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),M_(e,t,n,l,i,o,a,s)}}function MW(e,t,n,r,i){let o=t.serverCache,s=RN(t,o.getNode(),o.isFullyInitialized()||V(n),o.isFiltered());return LN(e,s,n,r,xN,i)}function OW(e,t,n,r,i,o){let s;if(uf(r,n)!=null)return t;{let a=new ic(r,t,i),c=t.eventCache.getNode(),l;if(V(n)||j(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=lf(r,Ai(t));else{let d=t.serverCache.getNode();y(d instanceof x,"serverChildren would be complete if leaf node"),u=oE(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=j(n),d=sE(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,X(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,x.EMPTY_NODE,X(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=lf(r,Ai(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||uf(r,K())!=null,Za(t,l,s,e.filter.filtersNodes())}}var O_=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new nc(r.getIndex()),o=rW(r);this.processor_=TW(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(x.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new Un(c,s.isFullyInitialized(),i.filtersNodes()),d=new Un(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=_f(d,u),this.eventGenerator_=new C_(this.query_)}get query(){return this.query_}};function kW(e){return e.viewCache_.serverCache.getNode()}function PW(e,t){let n=Ai(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!V(t)&&!n.getImmediateChild(j(t)).isEmpty())?n.getChild(t):null}function GR(e){return e.eventRegistrations_.length===0}function xW(e,t){e.eventRegistrations_.push(t)}function qR(e,t,n){let r=[];if(n){y(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function KR(e,t,n,r){t.type===mn.MERGE&&t.source.queryId!==null&&(y(Ai(e.viewCache_),"We should always have a full cache before handling merges"),y(D_(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=SW(e.processor_,i,t,n,r);return bW(e.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,FN(e,o.changes,o.viewCache.eventCache.getNode(),null)}function LW(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(le,(o,s)=>{r.push(Qo(o,s))}),n.isFullyInitialized()&&r.push(SN(n.getNode())),FN(e,r,n.getNode(),t)}function FN(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return aW(e.eventGenerator_,t,n,i)}var ff,k_=class{constructor(){this.views=new Map}};function FW(e){y(!ff,"__referenceConstructor has already been defined"),ff=e}function jW(){return y(ff,"Reference.ts has not been loaded"),ff}function UW(e){return e.views.size===0}function aE(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return y(o!=null,"SyncTree gave us an op for an invalid query."),KR(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(KR(s,t,n,r));return o}}function VW(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=lf(n,i?r:null),c=!1;a?c=!0:r instanceof x?(a=oE(n,r),c=!1):(a=x.EMPTY_NODE,c=!1);let l=_f(new Un(a,c,!1),new Un(r,i,!1));return new O_(t,l)}return s}function BW(e,t,n,r,i,o){let s=VW(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),xW(s,n),LW(s,n)}function HW(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Sr(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(qR(l,n,r)),GR(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(qR(c,n,r)),GR(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Sr(e)&&o.push(new(jW())(t._repo,t._path)),{removed:o,events:s}}function jN(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Go(e,t){let n=null;for(let r of e.views.values())n=n||PW(r,t);return n}function UN(e,t){if(t._queryParams.loadsAllData())return Ef(e);{let r=t._queryIdentifier;return e.views.get(r)}}function VN(e,t){return UN(e,t)!=null}function Sr(e){return Ef(e)!=null}function Ef(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var hf;function $W(e){y(!hf,"__referenceConstructor has already been defined"),hf=e}function WW(){return y(hf,"Reference.ts has not been loaded"),hf}var zW=1,pf=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new We(null),this.pendingWriteTree_=CW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function BN(e,t,n,r,i){return dW(e.pendingWriteTree_,t,n,r,i),i?ns(e,new Jo(tE(),t,n)):[]}function GW(e,t,n,r){fW(e.pendingWriteTree_,t,n,r);let i=We.fromObject(n);return ns(e,new rc(tE(),t,i))}function Dr(e,t,n=!1){let r=hW(e.pendingWriteTree_,t);if(pW(e.pendingWriteTree_,t)){let o=new We(null);return r.snap!=null?o=o.set(K(),!0):Ae(r.children,s=>{o=o.set(new Q(s),!0)}),ns(e,new w_(r.path,o,n))}else return[]}function If(e,t,n){return ns(e,new Jo(nE(),t,n))}function qW(e,t,n){let r=We.fromObject(n);return ns(e,new rc(nE(),t,r))}function KW(e,t){return ns(e,new cf(nE(),t))}function YW(e,t,n){let r=lE(e,n);if(r){let i=uE(r),o=i.path,s=i.queryId,a=Qe(o,t),c=new cf(rE(s),a);return dE(e,o,c)}else return[]}function P_(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||VN(s,t))){let c=HW(s,t,n,r);UW(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Sr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=JW(f);for(let g=0;g<h.length;++g){let v=h[g],w=v.query,A=WN(e,v);e.listenProvider_.startListening(Ja(w),gf(e,w),A.hashFn,A.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(Ja(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(wf(f));e.listenProvider_.stopListening(Ja(f),h)}))}XW(e,l)}return a}function ZW(e,t,n,r){let i=lE(e,r);if(i!=null){let o=uE(i),s=o.path,a=o.queryId,c=Qe(s,t),l=new Jo(rE(a),c,n);return dE(e,s,l)}else return[]}function QW(e,t,n,r){let i=lE(e,r);if(i){let o=uE(i),s=o.path,a=o.queryId,c=Qe(s,t),l=We.fromObject(n),u=new rc(rE(a),c,l);return dE(e,s,u)}else return[]}function YR(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let g=Qe(f,i);o=o||Go(h,g),s=s||Sr(h)});let a=e.syncPointTree_.get(i);a?(s=s||Sr(a),o=o||Go(a,K())):(a=new k_,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=x.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,g)=>{let v=Go(g,K());v&&(o=o.updateImmediateChild(h,v))}));let l=VN(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=wf(t);y(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=ez();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=iE(e.pendingWriteTree_,i),d=BW(a,t,n,u,o,c);if(!l&&!s&&!r){let f=UN(a,t);d=d.concat(tz(e,t,f))}return d}function cE(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=Qe(s,t),l=Go(a,c);if(l)return l});return ON(i,t,o,n,!0)}function ns(e,t){return HN(t,e.syncPointTree_,null,iE(e.pendingWriteTree_,K()))}function HN(e,t,n,r){if(V(e.path))return $N(e,t,n,r);{let i=t.get(K());n==null&&i!=null&&(n=Go(i,K()));let o=[],s=j(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=kN(r,s);o=o.concat(HN(a,c,l,u))}return i&&(o=o.concat(aE(i,e,r,n))),o}}function $N(e,t,n,r){let i=t.get(K());n==null&&i!=null&&(n=Go(i,K()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=kN(r,s),u=e.operationForChild(s);u&&(o=o.concat($N(u,a,c,l)))}),i&&(o=o.concat(aE(i,e,r,n))),o}function WN(e,t){let n=t.query,r=gf(e,n);return{hashFn:()=>(kW(t)||x.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?YW(e,n._path,r):KW(e,n._path);{let o=h2(i,n);return P_(e,n,null,o)}}}}function gf(e,t){let n=wf(t);return e.queryToTagMap.get(n)}function wf(e){return e._path.toString()+"$"+e._queryIdentifier}function lE(e,t){return e.tagToQueryMap.get(t)}function uE(e){let t=e.indexOf("$");return y(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Q(e.substr(0,t))}}function dE(e,t,n){let r=e.syncPointTree_.get(t);y(r,"Missing sync point for query tag that we're tracking");let i=iE(e.pendingWriteTree_,t);return aE(r,n,i,null)}function JW(e){return e.fold((t,n,r)=>{if(n&&Sr(n))return[Ef(n)];{let i=[];return n&&(i=jN(n)),Ae(r,(o,s)=>{i=i.concat(s)}),i}})}function Ja(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(WW())(e._repo,e._path):e}function XW(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=wf(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function ez(){return zW++}function tz(e,t,n){let r=t._path,i=gf(e,t),o=WN(e,n),s=e.listenProvider_.startListening(Ja(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)y(!Sr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!V(l)&&u&&Sr(u))return[Ef(u).query];{let f=[];return u&&(f=f.concat(jN(u).map(h=>h.query))),Ae(d,(h,g)=>{f=f.concat(g)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(Ja(u),gf(e,u))}}return s}var x_=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},L_=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ce(this.path_,t);return new e(this.syncTree_,n)}node(){return cE(this.syncTree_,this.path_)}},nz=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},ZR=function(e,t,n){if(!e||typeof e!="object")return e;if(y(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return rz(e[".sv"],t,n);if(typeof e[".sv"]=="object")return iz(e[".sv"],t);y(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},rz=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+e)}},iz=function(e,t,n){e.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=t.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},zN=function(e,t,n,r){return fE(t,new L_(n,e),r)},GN=function(e,t,n){return fE(e,new x_(t),n)};function fE(e,t,n){let r=e.getPriority().val(),i=ZR(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=ZR(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Yo(a,we(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Yo(i))),s.forEachChild(le,(a,c)=>{let l=fE(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var oc=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function hE(e,t){let n=t instanceof Q?t:new Q(t),r=e,i=j(n);for(;i!==null;){let o=pi(r.node.children,i)||{children:{},childCount:0};r=new oc(i,r,o),n=X(n),i=j(n)}return r}function rs(e){return e.node.value}function qN(e,t){e.node.value=t,F_(e)}function KN(e){return e.node.childCount>0}function oz(e){return rs(e)===void 0&&!KN(e)}function Cf(e,t){Ae(e.node.children,(n,r)=>{t(new oc(n,e,r))})}function YN(e,t,n,r){n&&!r&&t(e),Cf(e,i=>{YN(i,t,!0,r)}),n&&r&&t(e)}function sz(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function lc(e){return new Q(e.parent===null?e.name:lc(e.parent)+"/"+e.name)}function F_(e){e.parent!==null&&az(e.parent,e.name,e)}function az(e,t,n){let r=oz(n),i=Ft(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,F_(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,F_(e))}var cz=/[\[\].#$\/\u0000-\u001F\u007F]/,lz=/[\[\].#$\u0000-\u001F\u007F]/,Gy=10*1024*1024,pE=function(e){return typeof e=="string"&&e.length!==0&&!cz.test(e)},ZN=function(e){return typeof e=="string"&&e.length!==0&&!lz.test(e)},uz=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ZN(e)},dz=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!K_(e)||e&&typeof e=="object"&&Ft(e,".sv")},QN=function(e,t,n,r){r&&t===void 0||Df(Da(e,"value"),t,n)},Df=function(e,t,n){let r=n instanceof Q?new s_(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Di(r));if(typeof t=="function")throw new Error(e+"contains a function "+Di(r)+" with contents = "+t.toString());if(K_(t))throw new Error(e+"contains "+t.toString()+" "+Di(r));if(typeof t=="string"&&t.length>Gy/3&&Ta(t)>Gy)throw new Error(e+"contains a string greater than "+Gy+" utf8 bytes "+Di(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Ae(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!pE(s)))throw new Error(e+" contains an invalid key ("+s+") "+Di(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$2(r,s),Df(e,a,r),W2(r)}),i&&o)throw new Error(e+' contains ".value" child '+Di(r)+" in addition to actual children.")}},fz=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];let o=Xa(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!pE(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(H2);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&vt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},hz=function(e,t,n,r){if(r&&t===void 0)return;let i=Da(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");let o=[];Ae(t,(s,a)=>{let c=new Q(s);if(Df(i,a,ce(n,c)),Q_(c)===".priority"&&!dz(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),fz(i,o)};var JN=function(e,t,n,r){if(!(r&&n===void 0)&&!ZN(n))throw new Error(Da(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pz=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),JN(e,t,n,r)},gE=function(e,t){if(j(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},gz=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!pE(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uz(n))throw new Error(Da(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var j_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Tf(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!J_(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function XN(e,t,n){Tf(e,n),eM(e,r=>J_(r,t))}function Ht(e,t,n){Tf(e,n),eM(e,r=>vt(r,t)||vt(t,r))}function eM(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(mz(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function mz(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();bi&&Se("event: "+n.toString()),ts(r)}}}var vz="repo_interrupt",yz=25,U_=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=af(),this.transactionQueueTree_=new oc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function _z(e,t,n){if(e.stats_=Z_(e.repoInfo_),e.forceRestClient_||v2())e.server_=new v_(e.repoInfo_,(r,i,o,s)=>{QR(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>JR(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ye(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new X_(e.repoInfo_,t,(r,i,o,s)=>{QR(e,r,i,o,s)},r=>{JR(e,r)},r=>{Ez(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=_2(e.repoInfo_,()=>new I_(e.stats_,e.server_)),e.infoData_=new y_,e.infoSyncTree_=new pf({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=If(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),mE(e,"connected",!1),e.serverSyncTree_=new pf({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Ht(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function tM(e){let n=e.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bf(e){return nz({timestamp:tM(e)})}function QR(e,t,n,r,i){e.dataUpdateCount++;let o=new Q(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=Ca(n,l=>we(l));s=QW(e.serverSyncTree_,o,c,i)}else{let c=we(n);s=ZW(e.serverSyncTree_,o,c,i)}else if(r){let c=Ca(n,l=>we(l));s=qW(e.serverSyncTree_,o,c)}else{let c=we(n);s=If(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=es(e,o)),Ht(e.eventQueue_,a,s)}function JR(e,t){mE(e,"connected",t),t===!1&&Cz(e)}function Ez(e,t){Ae(t,(n,r)=>{mE(e,n,r)})}function mE(e,t,n){let r=new Q("/.info/"+t),i=we(n);e.infoData_.updateSnapshot(r,i);let o=If(e.infoSyncTree_,r,i);Ht(e.eventQueue_,r,o)}function vE(e){return e.nextWriteId_++}function Iz(e,t,n,r,i){Sf(e,"set",{path:t.toString(),value:n,priority:r});let o=bf(e),s=we(n,r),a=cE(e.serverSyncTree_,t),c=GN(s,a,o),l=vE(e),u=BN(e.serverSyncTree_,t,c,l,!0);Tf(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let g=f==="ok";g||$e("set at "+t+" failed: "+f);let v=Dr(e.serverSyncTree_,l,!g);Ht(e.eventQueue_,t,v),V_(e,i,f,h)});let d=_E(e,t);es(e,d),Ht(e.eventQueue_,d,[])}function wz(e,t,n,r){Sf(e,"update",{path:t.toString(),value:n});let i=!0,o=bf(e),s={};if(Ae(n,(a,c)=>{i=!1,s[a]=zN(ce(t,a),we(c),e.serverSyncTree_,o)}),i)Se("update() called with empty data.  Don't do anything."),V_(e,r,"ok",void 0);else{let a=vE(e),c=GW(e.serverSyncTree_,t,s,a);Tf(e.eventQueue_,c),e.server_.merge(t.toString(),n,(l,u)=>{let d=l==="ok";d||$e("update at "+t+" failed: "+l);let f=Dr(e.serverSyncTree_,a,!d),h=f.length>0?es(e,t):t;Ht(e.eventQueue_,h,f),V_(e,r,l,u)}),Ae(n,l=>{let u=_E(e,ce(t,l));es(e,u)}),Ht(e.eventQueue_,t,[])}}function Cz(e){Sf(e,"onDisconnectEvents");let t=bf(e),n=af();__(e.onDisconnect_,K(),(i,o)=>{let s=zN(i,o,e.serverSyncTree_,t);AN(n,i,s)});let r=[];__(n,K(),(i,o)=>{r=r.concat(If(e.serverSyncTree_,i,o));let s=_E(e,i);es(e,s)}),e.onDisconnect_=af(),Ht(e.eventQueue_,K(),r)}function Dz(e,t,n){let r;j(t._path)===".info"?r=YR(e.infoSyncTree_,t,n):r=YR(e.serverSyncTree_,t,n),XN(e.eventQueue_,t._path,r)}function XR(e,t,n){let r;j(t._path)===".info"?r=P_(e.infoSyncTree_,t,n):r=P_(e.serverSyncTree_,t,n),XN(e.eventQueue_,t._path,r)}function Tz(e){e.persistentConnection_&&e.persistentConnection_.interrupt(vz)}function Sf(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Se(n,...t)}function V_(e,t,n,r){t&&ts(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function nM(e,t,n){return cE(e.serverSyncTree_,t,n)||x.EMPTY_NODE}function yE(e,t=e.transactionQueueTree_){if(t||Af(e,t),rs(t)){let n=iM(e,t);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&bz(e,lc(t),n)}else KN(t)&&Cf(t,n=>{yE(e,n)})}function bz(e,t,n){let r=n.map(l=>l.currentWriteId),i=nM(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Qe(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Sf(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Dr(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Af(e,hE(e.transactionQueueTree_,t)),yE(e,e.transactionQueueTree_),Ht(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)ts(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{$e("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}es(e,t)}},s)}function es(e,t){let n=rM(e,t),r=lc(n),i=iM(e,n);return Sz(e,i,r),r}function Sz(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=Qe(n,c.path),u=!1,d;if(y(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Dr(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=yz)u=!0,d="maxretry",i=i.concat(Dr(e.serverSyncTree_,c.currentWriteId,!0));else{let f=nM(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){Df("transaction failed: Data returned ",h,c.path);let g=we(h);typeof h=="object"&&h!=null&&Ft(h,".priority")||(g=g.updatePriority(f.getPriority()));let w=c.currentWriteId,A=bf(e),Re=GN(g,f,A);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=Re,c.currentWriteId=vE(e),s.splice(s.indexOf(w),1),i=i.concat(BN(e.serverSyncTree_,c.path,Re,c.currentWriteId,c.applyLocally)),i=i.concat(Dr(e.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(Dr(e.serverSyncTree_,c.currentWriteId,!0))}Ht(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,(function(f){setTimeout(f,Math.floor(0))})(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Af(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)ts(r[a]);yE(e,e.transactionQueueTree_)}function rM(e,t){let n,r=e.transactionQueueTree_;for(n=j(t);n!==null&&rs(r)===void 0;)r=hE(r,n),t=X(t),n=j(t);return r}function iM(e,t){let n=[];return oM(e,t,n),n.sort((r,i)=>r.order-i.order),n}function oM(e,t,n){let r=rs(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Cf(t,i=>{oM(e,i,n)})}function Af(e,t){let n=rs(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,qN(t,n.length>0?n:void 0)}Cf(t,r=>{Af(e,r)})}function _E(e,t){let n=lc(rM(e,t)),r=hE(e.transactionQueueTree_,t);return sz(r,i=>{qy(e,i)}),qy(e,r),YN(r,i=>{qy(e,i)}),n}function qy(e,t){let n=rs(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Dr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?qN(t,void 0):n.length=o+1,Ht(e.eventQueue_,lc(t),i);for(let s=0;s<r.length;s++)ts(r[s])}}function Az(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Rz(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$e(`Invalid query segment '${n}' in query '${e}'`)}return t}var eN=function(e,t){let n=Nz(e),r=n.namespace;n.domain==="firebase.com"&&jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||c2();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Jd(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Q(n.pathString)}},Nz=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=Az(e.substring(u,d)));let f=Rz(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var tN="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Mz=(function(){let e=0,t=[];return function(n){let r=n===e;e=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=tN.charAt(n%64),n=Math.floor(n/64);y(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=tN.charAt(t[i]);return y(s.length===20,"nextPushId: Length should be 20."),s}})();var mf=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ye(this.snapshot.exportVal())}},vf=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var B_=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var H_=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return V(this._path)?null:Q_(this._path)}get ref(){return new Vn(this._repo,this._path)}get _queryIdentifier(){let t=UR(this._queryParams),n=Y_(t);return n==="{}"?"default":n}get _queryObject(){return UR(this._queryParams)}isEqual(t){if(t=be(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=J_(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+B2(this._path)}};var Vn=class e extends H_{constructor(t,n){super(t,n,new m_,!1)}get parent(){let t=IN(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},yf=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new Q(t),r=Ri(this.ref,t);return new e(this._node.getChild(n),r,le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,Ri(this.ref,r),le)))}hasChild(t){let n=new Q(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function sM(e,t){return e=be(e),e._checkNotDeleted("ref"),t!==void 0?Ri(e._root,t):e._root}function Ri(e,t){return e=be(e),j(e._path)===null?pz("child","path",t,!1):JN("child","path",t,!1),new Vn(e._repo,ce(e._path,t))}function aM(e,t){e=be(e),gE("push",e._path),QN("push",t,e._path,!0);let n=tM(e._repo),r=Mz(n),i=Ri(e,r),o=Ri(e,r),s;return t!=null?s=Rf(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function cM(e){return gE("remove",e._path),Rf(e,null)}function Rf(e,t){e=be(e),gE("set",e._path),QN("set",t,e._path,!1);let n=new mt;return Iz(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function lM(e,t){hz("update",t,e._path,!1);let n=new mt;return wz(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}var $_=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new mf("value",this,new yf(t.snapshotNode,new Vn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new vf(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},W_=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new vf(this,t,n):null}createEvent(t,n){y(t.childName!=null,"Child events should have a childName.");let r=Ri(new Vn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new mf(t.type,this,new yf(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Oz(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{XR(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new B_(n,o||void 0),a=t==="value"?new $_(s):new W_(t,s);return Dz(e._repo,e,a),()=>XR(e._repo,e,a)}function uM(e,t,n,r){return Oz(e,"value",t,n,r)}FW(Vn);$W(Vn);var kz="FIREBASE_DATABASE_EMULATOR_HOST",z_={},Pz=!1;function xz(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=hr(o);e.repoInfo_=new Jd(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function Lz(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Se("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=eN(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[kz]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=eN(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Ya(Ya.OWNER):new Xy(e.name,e.options,t);gz("Invalid Firebase Database URL",s),V(s.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=jz(a,e,u,new Jy(e,n));return new G_(d,e)}function Fz(e,t){let n=z_[t];(!n||n[e.key]!==e)&&jn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Tz(e),delete n[e.key]}function jz(e,t,n,r){let i=z_[t.name];i||(i={},z_[t.name]=i);let o=i[e.toURLString()];return o&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new U_(e,Pz,n,r),i[e.toURLString()]=o,o}var G_=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_z(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vn(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Fz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&jn("Cannot call "+t+" on a deleted database.")}};function dM(e=vi(),t){let n=Fo(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=WS("database");r&&fM(n,...r)}return n}function fM(e,t,n,r={}){e=be(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&dn(r,o.repoInfo_.emulatorOptions))return;jn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ya(Ya.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:zS(r.mockUserToken,e.app.options.projectId);s=new Ya(a)}hr(t)&&(Id(t),wd("Database",!0)),xz(o,i,r,s)}function Uz(e){o2(gr),jt(new Be("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Lz(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ae(wR,CR,e),ae(wR,CR,"esm2017")}X_.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};X_.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Uz();var uc=class{constructor(t){return t}},hM="database",EE=class{constructor(){return Uo(hM)}};var IE=new E("angularfire2.database-instances");function Vz(e,t){let n=Ra(hM,e,t);return n&&new uc(n)}function Bz(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new uc(r)}}var Hz={provide:EE,deps:[[new Ye,IE]]},$z={provide:uc,useFactory:Vz,deps:[[new Ye,IE],xn]};function Lie(e,...t){return ae("angularfire",mr.full,"rtdb"),Ie([$z,Hz,{provide:IE,useFactory:Bz(e),multi:!0,deps:[W,ne,vr,_i,[new Ye,Ha],[new Ye,Vo],...t]}])}var Fie=He(dM,!0);var jie=He(uM,!0);var Uie=He(aM,!0,2);var Vie=He(sM,!0,2);var Bie=He(cM,!0,2);var Hie=He(Rf,!0,2);var $ie=He(lM,!0,2);export{_ as a,z as b,L as c,ge as d,te as e,T as f,H as g,KM as h,I as i,Xc as j,C as k,Yn as l,E as m,b as n,m as o,kI as p,PI as q,qI as r,KI as s,ne as t,C0 as u,er as v,Xr as w,Yl as x,St as y,GC as z,HO as A,sk as B,ti as C,ie as D,Yg as E,ri as F,nn as G,YD as H,ZD as I,Pe as J,vo as K,dT as L,sm as M,am as N,wu as O,cm as P,lm as Q,fT as R,pT as S,gT as T,Jx as U,yT as V,Cu as W,eL as X,tL as Y,IT as Z,yL as _,TT as $,pm as aa,bT as ba,ST as ca,AT as da,wL as ea,RT as fa,CL as ga,DL as ha,RL as ia,NL as ja,ML as ka,PL as la,FL as ma,rn as na,PT as oa,yo as pa,qs as qa,On as ra,o1 as sa,Ib as ta,s1 as ua,wb as va,I1 as wa,$1 as xa,Nee as ya,Mee as za,ln as Aa,mv as Ba,Pt as Ca,_d as Da,IU as Ea,DU as Fa,TU as Ga,Ite as Ha,Ene as Ia,Ine as Ja,Ba as Ka,Ure as La,Vre as Ma,Bre as Na,Hre as Oa,uc as Pa,Lie as Qa,Fie as Ra,jie as Sa,Uie as Ta,Vie as Ua,Bie as Va,Hie as Wa,$ie as Xa};
